{
  "version": 3,
  "sources": ["../../../../node_modules/lodash/isObject.js", "../../../../node_modules/lodash/_freeGlobal.js", "../../../../node_modules/lodash/_root.js", "../../../../node_modules/lodash/now.js", "../../../../node_modules/lodash/_trimmedEndIndex.js", "../../../../node_modules/lodash/_baseTrim.js", "../../../../node_modules/lodash/_Symbol.js", "../../../../node_modules/lodash/_getRawTag.js", "../../../../node_modules/lodash/_objectToString.js", "../../../../node_modules/lodash/_baseGetTag.js", "../../../../node_modules/lodash/isObjectLike.js", "../../../../node_modules/lodash/isSymbol.js", "../../../../node_modules/lodash/toNumber.js", "../../../../node_modules/lodash/debounce.js", "../../../../node_modules/source-map-js/lib/base64.js", "../../../../node_modules/source-map-js/lib/base64-vlq.js", "../../../../node_modules/source-map-js/lib/util.js", "../../../../node_modules/source-map-js/lib/array-set.js", "../../../../node_modules/source-map-js/lib/mapping-list.js", "../../../../packages/penpal/src/child.ts", "../script/index.ts", "../../../../node_modules/penpal/dist/penpal.mjs", "../../../../packages/constants/src/dom.ts", "../../../../packages/constants/src/editor.ts", "../../../../packages/constants/src/files.ts", "../../../../packages/constants/src/language.ts", "../script/api/dom.ts", "../script/helpers/dom.ts", "../../../../node_modules/nanoid/non-secure/index.js", "../script/helpers/ids.ts", "../script/api/events/publish.ts", "../script/api/state.ts", "../script/helpers/assert.ts", "../script/helpers/clone.ts", "../script/api/elements/style.ts", "../script/api/elements/helpers.ts", "../script/api/elements/index.ts", "../script/api/elements/dom/group.ts", "../script/api/elements/dom/helpers.ts", "../../../../node_modules/css-tree/lib/tokenizer/types.js", "../../../../node_modules/css-tree/lib/tokenizer/char-code-definitions.js", "../../../../node_modules/css-tree/lib/tokenizer/utils.js", "../../../../node_modules/css-tree/lib/tokenizer/names.js", "../../../../node_modules/css-tree/lib/tokenizer/adopt-buffer.js", "../../../../node_modules/css-tree/lib/tokenizer/OffsetToLocation.js", "../../../../node_modules/css-tree/lib/tokenizer/TokenStream.js", "../../../../node_modules/css-tree/lib/tokenizer/index.js", "../../../../node_modules/css-tree/lib/utils/List.js", "../../../../node_modules/css-tree/lib/utils/create-custom-error.js", "../../../../node_modules/css-tree/lib/parser/SyntaxError.js", "../../../../node_modules/css-tree/lib/parser/sequence.js", "../../../../node_modules/css-tree/lib/parser/create.js", "../../../../node_modules/source-map-js/lib/source-map-generator.js", "../../../../node_modules/css-tree/lib/generator/sourceMap.js", "../../../../node_modules/css-tree/lib/generator/token-before.js", "../../../../node_modules/css-tree/lib/generator/create.js", "../../../../node_modules/css-tree/lib/convertor/create.js", "../../../../node_modules/css-tree/lib/walker/create.js", "../../../../node_modules/css-tree/lib/definition-syntax/generate.js", "../../../../node_modules/css-tree/lib/lexer/error.js", "../../../../node_modules/css-tree/lib/utils/names.js", "../../../../node_modules/css-tree/lib/lexer/generic-const.js", "../../../../node_modules/css-tree/lib/lexer/generic-an-plus-b.js", "../../../../node_modules/css-tree/lib/lexer/generic-urange.js", "../../../../node_modules/css-tree/lib/lexer/generic.js", "../../../../node_modules/css-tree/lib/lexer/units.js", "../../../../node_modules/css-tree/lib/definition-syntax/SyntaxError.js", "../../../../node_modules/css-tree/lib/definition-syntax/scanner.js", "../../../../node_modules/css-tree/lib/definition-syntax/parse.js", "../../../../node_modules/css-tree/lib/definition-syntax/walk.js", "../../../../node_modules/css-tree/lib/lexer/prepare-tokens.js", "../../../../node_modules/css-tree/lib/lexer/match-graph.js", "../../../../node_modules/css-tree/lib/lexer/match.js", "../../../../node_modules/css-tree/lib/lexer/trace.js", "../../../../node_modules/css-tree/lib/lexer/search.js", "../../../../node_modules/css-tree/lib/lexer/structure.js", "../../../../node_modules/css-tree/lib/lexer/Lexer.js", "../../../../node_modules/css-tree/lib/syntax/config/mix.js", "../../../../node_modules/css-tree/lib/syntax/create.js", "../../../../node_modules/css-tree/dist/data.js", "../../../../node_modules/css-tree/lib/syntax/node/AnPlusB.js", "../../../../node_modules/css-tree/lib/syntax/node/Atrule.js", "../../../../node_modules/css-tree/lib/syntax/node/AtrulePrelude.js", "../../../../node_modules/css-tree/lib/syntax/node/AttributeSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/Block.js", "../../../../node_modules/css-tree/lib/syntax/node/Brackets.js", "../../../../node_modules/css-tree/lib/syntax/node/CDC.js", "../../../../node_modules/css-tree/lib/syntax/node/CDO.js", "../../../../node_modules/css-tree/lib/syntax/node/ClassSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/Combinator.js", "../../../../node_modules/css-tree/lib/syntax/node/Comment.js", "../../../../node_modules/css-tree/lib/syntax/node/Condition.js", "../../../../node_modules/css-tree/lib/syntax/node/Declaration.js", "../../../../node_modules/css-tree/lib/syntax/node/DeclarationList.js", "../../../../node_modules/css-tree/lib/syntax/node/Dimension.js", "../../../../node_modules/css-tree/lib/syntax/node/Feature.js", "../../../../node_modules/css-tree/lib/syntax/node/FeatureFunction.js", "../../../../node_modules/css-tree/lib/syntax/node/FeatureRange.js", "../../../../node_modules/css-tree/lib/syntax/node/Function.js", "../../../../node_modules/css-tree/lib/syntax/node/GeneralEnclosed.js", "../../../../node_modules/css-tree/lib/syntax/node/Hash.js", "../../../../node_modules/css-tree/lib/syntax/node/Identifier.js", "../../../../node_modules/css-tree/lib/syntax/node/IdSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/Layer.js", "../../../../node_modules/css-tree/lib/syntax/node/LayerList.js", "../../../../node_modules/css-tree/lib/syntax/node/MediaQuery.js", "../../../../node_modules/css-tree/lib/syntax/node/MediaQueryList.js", "../../../../node_modules/css-tree/lib/syntax/node/NestingSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/Nth.js", "../../../../node_modules/css-tree/lib/syntax/node/Number.js", "../../../../node_modules/css-tree/lib/syntax/node/Operator.js", "../../../../node_modules/css-tree/lib/syntax/node/Parentheses.js", "../../../../node_modules/css-tree/lib/syntax/node/Percentage.js", "../../../../node_modules/css-tree/lib/syntax/node/PseudoClassSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/PseudoElementSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/Ratio.js", "../../../../node_modules/css-tree/lib/syntax/node/Raw.js", "../../../../node_modules/css-tree/lib/syntax/node/Rule.js", "../../../../node_modules/css-tree/lib/syntax/node/Scope.js", "../../../../node_modules/css-tree/lib/syntax/node/Selector.js", "../../../../node_modules/css-tree/lib/syntax/node/SelectorList.js", "../../../../node_modules/css-tree/lib/utils/string.js", "../../../../node_modules/css-tree/lib/syntax/node/String.js", "../../../../node_modules/css-tree/lib/syntax/node/StyleSheet.js", "../../../../node_modules/css-tree/lib/syntax/node/SupportsDeclaration.js", "../../../../node_modules/css-tree/lib/syntax/node/TypeSelector.js", "../../../../node_modules/css-tree/lib/syntax/node/UnicodeRange.js", "../../../../node_modules/css-tree/lib/utils/url.js", "../../../../node_modules/css-tree/lib/syntax/node/Url.js", "../../../../node_modules/css-tree/lib/syntax/node/Value.js", "../../../../node_modules/css-tree/lib/syntax/node/WhiteSpace.js", "../../../../node_modules/css-tree/lib/syntax/config/lexer.js", "../../../../node_modules/css-tree/lib/syntax/scope/default.js", "../../../../node_modules/css-tree/lib/syntax/scope/atrulePrelude.js", "../../../../node_modules/css-tree/lib/syntax/scope/selector.js", "../../../../node_modules/css-tree/lib/syntax/function/expression.js", "../../../../node_modules/css-tree/lib/syntax/function/var.js", "../../../../node_modules/css-tree/lib/syntax/scope/value.js", "../../../../node_modules/css-tree/lib/syntax/atrule/container.js", "../../../../node_modules/css-tree/lib/syntax/atrule/font-face.js", "../../../../node_modules/css-tree/lib/syntax/atrule/import.js", "../../../../node_modules/css-tree/lib/syntax/atrule/layer.js", "../../../../node_modules/css-tree/lib/syntax/atrule/media.js", "../../../../node_modules/css-tree/lib/syntax/atrule/nest.js", "../../../../node_modules/css-tree/lib/syntax/atrule/page.js", "../../../../node_modules/css-tree/lib/syntax/atrule/scope.js", "../../../../node_modules/css-tree/lib/syntax/atrule/starting-style.js", "../../../../node_modules/css-tree/lib/syntax/atrule/supports.js", "../../../../node_modules/css-tree/lib/syntax/atrule/index.js", "../../../../node_modules/css-tree/lib/syntax/pseudo/lang.js", "../../../../node_modules/css-tree/lib/syntax/pseudo/index.js", "../../../../node_modules/css-tree/lib/syntax/config/parser.js", "../../../../node_modules/css-tree/lib/syntax/config/walker.js", "../../../../node_modules/css-tree/lib/syntax/index.js", "../../../../node_modules/css-tree/lib/index.js", "../script/api/style/css-manager.ts", "../script/api/style/update.ts", "../script/api/elements/dom/image.ts", "../script/api/elements/dom/insert.ts", "../script/api/elements/dom/remove.ts", "../script/api/elements/move/index.ts", "../script/api/elements/move/helpers.ts", "../script/api/elements/move/stub.ts", "../script/api/elements/move/drag.ts", "../script/api/elements/text.ts", "../script/api/events/dom.ts", "../script/api/events/index.ts", "../script/api/ready.ts", "../script/api/screenshot.ts", "../../../../node_modules/zod/dist/esm/v3/helpers/util.js", "../../../../node_modules/zod/dist/esm/v3/ZodError.js", "../../../../node_modules/zod/dist/esm/v3/locales/en.js", "../../../../node_modules/zod/dist/esm/v3/errors.js", "../../../../node_modules/zod/dist/esm/v3/helpers/parseUtil.js", "../../../../node_modules/zod/dist/esm/v3/helpers/errorUtil.js", "../../../../node_modules/zod/dist/esm/v3/types.js", "../../../../packages/models/src/actions/location.ts", "../../../../packages/models/src/chat/suggestion.ts", "../../../../packages/models/src/chat/summary.ts", "../../../../packages/models/src/llm/index.ts", "../script/api/theme/index.ts", "../script/api/index.ts"],
  "sourcesContent": [
    "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n",
    "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n",
    "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n",
    "var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n",
    "/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n",
    "var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n",
    "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n",
    "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n",
    "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n",
    "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n",
    "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n",
    "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n",
    "var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n",
    "var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n",
    "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n",
    "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n",
    "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\nvar MAX_CACHED_INPUTS = 32;\n\n/**\n * Takes some function `f(input) -> result` and returns a memoized version of\n * `f`.\n *\n * We keep at most `MAX_CACHED_INPUTS` memoized results of `f` alive. The\n * memoization is a dumb-simple, linear least-recently-used cache.\n */\nfunction lruMemoize(f) {\n  var cache = [];\n\n  return function(input) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].input === input) {\n        var temp = cache[0];\n        cache[0] = cache[i];\n        cache[i] = temp;\n        return cache[0].result;\n      }\n    }\n\n    var result = f(input);\n\n    cache.unshift({\n      input,\n      result,\n    });\n\n    if (cache.length > MAX_CACHED_INPUTS) {\n      cache.pop();\n    }\n\n    return result;\n  };\n}\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nvar normalize = lruMemoize(function normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n  // Split the path into parts between `/` characters. This is much faster than\n  // using `.split(/\\/+/g)`.\n  var parts = [];\n  var start = 0;\n  var i = 0;\n  while (true) {\n    start = i;\n    i = path.indexOf(\"/\", start);\n    if (i === -1) {\n      parts.push(path.slice(start));\n      break;\n    } else {\n      parts.push(path.slice(start, i));\n      while (i < path.length && path[i] === \"/\") {\n        i++;\n      }\n    }\n  }\n\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n});\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\nfunction compareByOriginalPositionsNoSource(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositionsNoSource = compareByOriginalPositionsNoSource;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction compareByGeneratedPositionsDeflatedNoLine(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflatedNoLine = compareByGeneratedPositionsDeflatedNoLine;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n",
    "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n",
    "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n",
    "import type { PenpalChildMethods as PenpalChildMethodsType } from '@onlook/web-preload/script/api';\n\n// Preload methods should be treated as promises\nexport type PromisifiedPendpalChildMethods = {\n    [K in keyof PenpalChildMethods]: (\n        ...args: Parameters<PenpalChildMethods[K]>\n    ) => Promise<ReturnType<PenpalChildMethods[K]>>;\n};\n\nexport type PenpalChildMethods = PenpalChildMethodsType;\n\nexport const PENPAL_CHILD_CHANNEL = 'PENPAL_CHILD';\n",
    "import { PENPAL_CHILD_CHANNEL, type PromisifiedPenpalParentMethods } from '@onlook/penpal';\nimport debounce from 'lodash/debounce';\nimport { WindowMessenger, connect } from 'penpal';\nimport { preloadMethods } from './api';\n\nexport let penpalParent: PromisifiedPenpalParentMethods | null = null;\nlet isConnecting = false;\n\nconst createMessageConnection = async () => {\n    if (isConnecting || penpalParent) {\n        return penpalParent;\n    }\n\n    isConnecting = true;\n    console.log(`${PENPAL_CHILD_CHANNEL} - Creating penpal connection`);\n\n    const messenger = new WindowMessenger({\n        remoteWindow: window.parent,\n        // TODO: Use a proper origin\n        allowedOrigins: ['*'],\n    });\n\n    const connection = connect({\n        messenger,\n        // Methods the iframe window is exposing to the parent window.\n        methods: preloadMethods\n    });\n\n    connection.promise.then((parent) => {\n        if (!parent) {\n            console.error(`${PENPAL_CHILD_CHANNEL} - Failed to setup penpal connection: child is null`);\n            reconnect();\n            return;\n        }\n        const remote = parent as unknown as PromisifiedPenpalParentMethods;\n        penpalParent = remote;\n        console.log(`${PENPAL_CHILD_CHANNEL} - Penpal connection set`);\n    }).finally(() => {\n        isConnecting = false;\n    });\n\n    connection.promise.catch((error) => {\n        console.error(`${PENPAL_CHILD_CHANNEL} - Failed to setup penpal connection:`, error);\n        reconnect();\n    });\n\n    return penpalParent;\n}\n\nconst reconnect = debounce(() => {\n    if (isConnecting) return;\n\n    console.log(`${PENPAL_CHILD_CHANNEL} - Reconnecting to penpal parent`);\n    penpalParent = null; // Reset the parent before reconnecting\n    createMessageConnection();\n}, 1000);\n\ncreateMessageConnection();",
    "// src/PenpalError.ts\nvar PenpalError = class extends Error {\n  code;\n  constructor(code, message) {\n    super(message);\n    this.name = \"PenpalError\";\n    this.code = code;\n  }\n};\nvar PenpalError_default = PenpalError;\n\n// src/errorSerialization.ts\nvar serializeError = (error) => ({\n  name: error.name,\n  message: error.message,\n  stack: error.stack,\n  penpalCode: error instanceof PenpalError_default ? error.code : void 0\n});\nvar deserializeError = ({\n  name,\n  message,\n  stack,\n  penpalCode\n}) => {\n  const deserializedError = penpalCode ? new PenpalError_default(penpalCode, message) : new Error(message);\n  deserializedError.name = name;\n  deserializedError.stack = stack;\n  return deserializedError;\n};\n\n// src/Reply.ts\nvar brand = Symbol(\"Reply\");\nvar Reply = class {\n  value;\n  transferables;\n  // Allows TypeScript to distinguish between an actual instance of this\n  // class versus an object that looks structurally similar.\n  // eslint-disable-next-line no-unused-private-class-members\n  #brand = brand;\n  constructor(value, options) {\n    this.value = value;\n    this.transferables = options?.transferables;\n  }\n};\nvar Reply_default = Reply;\n\n// src/namespace.ts\nvar namespace_default = \"penpal\";\n\n// src/guards.ts\nvar isObject = (value) => {\n  return typeof value === \"object\" && value !== null;\n};\nvar isFunction = (value) => {\n  return typeof value === \"function\";\n};\nvar isMessage = (data) => {\n  return isObject(data) && data.namespace === namespace_default;\n};\nvar isSynMessage = (message) => {\n  return message.type === \"SYN\";\n};\nvar isAck1Message = (message) => {\n  return message.type === \"ACK1\";\n};\nvar isAck2Message = (message) => {\n  return message.type === \"ACK2\";\n};\nvar isCallMessage = (message) => {\n  return message.type === \"CALL\";\n};\nvar isReplyMessage = (message) => {\n  return message.type === \"REPLY\";\n};\nvar isDestroyMessage = (message) => {\n  return message.type === \"DESTROY\";\n};\n\n// src/methodSerialization.ts\nvar extractMethodPathsFromMethods = (methods, currentPath = []) => {\n  const methodPaths = [];\n  for (const key of Object.keys(methods)) {\n    const value = methods[key];\n    if (isFunction(value)) {\n      methodPaths.push([...currentPath, key]);\n    } else if (isObject(value)) {\n      methodPaths.push(\n        ...extractMethodPathsFromMethods(value, [...currentPath, key])\n      );\n    }\n  }\n  return methodPaths;\n};\nvar getMethodAtMethodPath = (methodPath, methods) => {\n  const result = methodPath.reduce(\n    (acc, pathSegment) => {\n      return isObject(acc) ? acc[pathSegment] : void 0;\n    },\n    methods\n  );\n  return isFunction(result) ? result : void 0;\n};\nvar formatMethodPath = (methodPath) => {\n  return methodPath.join(\".\");\n};\n\n// src/connectCallHandler.ts\nvar createErrorReplyMessage = (channel, callId, error) => ({\n  namespace: namespace_default,\n  channel,\n  type: \"REPLY\",\n  callId,\n  isError: true,\n  ...error instanceof Error ? { value: serializeError(error), isSerializedErrorInstance: true } : { value: error }\n});\nvar connectCallHandler = (messenger, methods, channel, log) => {\n  let isDestroyed = false;\n  const handleMessage = async (message) => {\n    if (isDestroyed) {\n      return;\n    }\n    if (!isCallMessage(message)) {\n      return;\n    }\n    log?.(`Received ${formatMethodPath(message.methodPath)}() call`, message);\n    const { methodPath, args, id: callId } = message;\n    let replyMessage;\n    let transferables;\n    try {\n      const method = getMethodAtMethodPath(methodPath, methods);\n      if (!method) {\n        throw new PenpalError_default(\n          \"METHOD_NOT_FOUND\",\n          `Method \\`${formatMethodPath(methodPath)}\\` is not found.`\n        );\n      }\n      let value = await method(...args);\n      if (value instanceof Reply_default) {\n        transferables = value.transferables;\n        value = await value.value;\n      }\n      replyMessage = {\n        namespace: namespace_default,\n        channel,\n        type: \"REPLY\",\n        callId,\n        value\n      };\n    } catch (error) {\n      replyMessage = createErrorReplyMessage(channel, callId, error);\n    }\n    if (isDestroyed) {\n      return;\n    }\n    try {\n      log?.(`Sending ${formatMethodPath(methodPath)}() reply`, replyMessage);\n      messenger.sendMessage(replyMessage, transferables);\n    } catch (error) {\n      if (error.name === \"DataCloneError\") {\n        replyMessage = createErrorReplyMessage(channel, callId, error);\n        log?.(`Sending ${formatMethodPath(methodPath)}() reply`, replyMessage);\n        messenger.sendMessage(replyMessage);\n      }\n      throw error;\n    }\n  };\n  messenger.addMessageHandler(handleMessage);\n  return () => {\n    isDestroyed = true;\n    messenger.removeMessageHandler(handleMessage);\n  };\n};\nvar connectCallHandler_default = connectCallHandler;\n\n// src/generateId.ts\nvar generateId_default = crypto.randomUUID?.bind(crypto) ?? (() => new Array(4).fill(0).map(\n  () => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16)\n).join(\"-\"));\n\n// src/CallOptions.ts\nvar brand2 = Symbol(\"CallOptions\");\nvar CallOptions = class {\n  transferables;\n  timeout;\n  // Allows TypeScript to distinguish between an actual instance of this\n  // class versus an object that looks structurally similar.\n  // eslint-disable-next-line no-unused-private-class-members\n  #brand = brand2;\n  constructor(options) {\n    this.transferables = options?.transferables;\n    this.timeout = options?.timeout;\n  }\n};\nvar CallOptions_default = CallOptions;\n\n// src/connectRemoteProxy.ts\nvar methodsToTreatAsNative = /* @__PURE__ */ new Set([\"apply\", \"call\", \"bind\"]);\nvar createRemoteProxy = (callback, log, path = []) => {\n  return new Proxy(\n    path.length ? () => {\n    } : /* @__PURE__ */ Object.create(null),\n    {\n      get(target, prop) {\n        if (prop === \"then\") {\n          return;\n        }\n        if (path.length && methodsToTreatAsNative.has(prop)) {\n          return Reflect.get(target, prop);\n        }\n        return createRemoteProxy(callback, log, [...path, prop]);\n      },\n      apply(target, _thisArg, args) {\n        return callback(path, args);\n      }\n    }\n  );\n};\nvar getDestroyedConnectionMethodCallError = (methodPath) => {\n  return new PenpalError_default(\n    \"CONNECTION_DESTROYED\",\n    `Method call ${formatMethodPath(\n      methodPath\n    )}() failed due to destroyed connection`\n  );\n};\nvar connectRemoteProxy = (messenger, channel, log) => {\n  let isDestroyed = false;\n  const replyHandlers = /* @__PURE__ */ new Map();\n  const handleMessage = (message) => {\n    if (!isReplyMessage(message)) {\n      return;\n    }\n    const { callId, value, isError, isSerializedErrorInstance } = message;\n    const replyHandler = replyHandlers.get(callId);\n    if (!replyHandler) {\n      return;\n    }\n    replyHandlers.delete(callId);\n    log?.(\n      `Received ${formatMethodPath(replyHandler.methodPath)}() call`,\n      message\n    );\n    if (isError) {\n      replyHandler.reject(\n        isSerializedErrorInstance ? deserializeError(value) : value\n      );\n    } else {\n      replyHandler.resolve(value);\n    }\n  };\n  messenger.addMessageHandler(handleMessage);\n  const remoteProxy = createRemoteProxy((methodPath, args) => {\n    if (isDestroyed) {\n      throw getDestroyedConnectionMethodCallError(methodPath);\n    }\n    const callId = generateId_default();\n    const lastArg = args[args.length - 1];\n    const lastArgIsOptions = lastArg instanceof CallOptions_default;\n    const { timeout, transferables } = lastArgIsOptions ? lastArg : {};\n    const argsWithoutOptions = lastArgIsOptions ? args.slice(0, -1) : args;\n    return new Promise((resolve, reject) => {\n      const timeoutId = timeout !== void 0 ? window.setTimeout(() => {\n        replyHandlers.delete(callId);\n        reject(\n          new PenpalError_default(\n            \"METHOD_CALL_TIMEOUT\",\n            `Method call ${formatMethodPath(\n              methodPath\n            )}() timed out after ${timeout}ms`\n          )\n        );\n      }, timeout) : void 0;\n      replyHandlers.set(callId, { methodPath, resolve, reject, timeoutId });\n      try {\n        const callMessage = {\n          namespace: namespace_default,\n          channel,\n          type: \"CALL\",\n          id: callId,\n          methodPath,\n          args: argsWithoutOptions\n        };\n        log?.(`Sending ${formatMethodPath(methodPath)}() call`, callMessage);\n        messenger.sendMessage(callMessage, transferables);\n      } catch (error) {\n        reject(\n          new PenpalError_default(\"TRANSMISSION_FAILED\", error.message)\n        );\n      }\n    });\n  }, log);\n  const destroy = () => {\n    isDestroyed = true;\n    messenger.removeMessageHandler(handleMessage);\n    for (const { methodPath, reject, timeoutId } of replyHandlers.values()) {\n      clearTimeout(timeoutId);\n      reject(getDestroyedConnectionMethodCallError(methodPath));\n    }\n    replyHandlers.clear();\n  };\n  return {\n    remoteProxy,\n    destroy\n  };\n};\nvar connectRemoteProxy_default = connectRemoteProxy;\n\n// src/getPromiseWithResolvers.ts\nvar getPromiseWithResolvers = () => {\n  let resolve;\n  let reject;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return {\n    promise,\n    resolve,\n    reject\n  };\n};\nvar getPromiseWithResolvers_default = getPromiseWithResolvers;\n\n// src/PenpalBugError.ts\nvar PenpalBugError = class extends Error {\n  constructor(message) {\n    super(\n      `You've hit a bug in Penpal. Please file an issue with the following information: ${message}`\n    );\n  }\n};\nvar PenpalBugError_default = PenpalBugError;\n\n// src/backwardCompatibility.ts\nvar DEPRECATED_PENPAL_PARTICIPANT_ID = \"deprecated-penpal\";\nvar isDeprecatedMessage = (data) => {\n  return isObject(data) && \"penpal\" in data;\n};\nvar upgradeMethodPath = (methodPath) => methodPath.split(\".\");\nvar downgradeMethodPath = (methodPath) => methodPath.join(\".\");\nvar getUnexpectedMessageError = (message) => {\n  return new PenpalBugError_default(\n    `Unexpected message to translate: ${JSON.stringify(message)}`\n  );\n};\nvar upgradeMessage = (message) => {\n  if (message.penpal === \"syn\" /* Syn */) {\n    return {\n      namespace: namespace_default,\n      channel: void 0,\n      type: \"SYN\",\n      participantId: DEPRECATED_PENPAL_PARTICIPANT_ID\n    };\n  }\n  if (message.penpal === \"ack\" /* Ack */) {\n    return {\n      namespace: namespace_default,\n      channel: void 0,\n      type: \"ACK2\"\n    };\n  }\n  if (message.penpal === \"call\" /* Call */) {\n    return {\n      namespace: namespace_default,\n      channel: void 0,\n      type: \"CALL\",\n      // Actually converting the ID to a string would break communication.\n      id: message.id,\n      methodPath: upgradeMethodPath(message.methodName),\n      args: message.args\n    };\n  }\n  if (message.penpal === \"reply\" /* Reply */) {\n    if (message.resolution === \"fulfilled\" /* Fulfilled */) {\n      return {\n        namespace: namespace_default,\n        channel: void 0,\n        type: \"REPLY\",\n        // Actually converting the ID to a string would break communication.\n        callId: message.id,\n        value: message.returnValue\n      };\n    } else {\n      return {\n        namespace: namespace_default,\n        channel: void 0,\n        type: \"REPLY\",\n        // Actually converting the ID to a string would break communication.\n        callId: message.id,\n        isError: true,\n        ...message.returnValueIsError ? {\n          value: message.returnValue,\n          isSerializedErrorInstance: true\n        } : {\n          value: message.returnValue\n        }\n      };\n    }\n  }\n  throw getUnexpectedMessageError(message);\n};\nvar downgradeMessage = (message) => {\n  if (isAck1Message(message)) {\n    return {\n      penpal: \"synAck\" /* SynAck */,\n      methodNames: message.methodPaths.map(downgradeMethodPath)\n    };\n  }\n  if (isCallMessage(message)) {\n    return {\n      penpal: \"call\" /* Call */,\n      // Actually converting the ID to a number would break communication.\n      id: message.id,\n      methodName: downgradeMethodPath(message.methodPath),\n      args: message.args\n    };\n  }\n  if (isReplyMessage(message)) {\n    if (message.isError) {\n      return {\n        penpal: \"reply\" /* Reply */,\n        // Actually converting the ID to a number would break communication.\n        id: message.callId,\n        resolution: \"rejected\" /* Rejected */,\n        ...message.isSerializedErrorInstance ? {\n          returnValue: message.value,\n          returnValueIsError: true\n        } : { returnValue: message.value }\n      };\n    } else {\n      return {\n        penpal: \"reply\" /* Reply */,\n        // Actually converting the ID to a number would break communication.\n        id: message.callId,\n        resolution: \"fulfilled\" /* Fulfilled */,\n        returnValue: message.value\n      };\n    }\n  }\n  throw getUnexpectedMessageError(message);\n};\n\n// src/shakeHands.ts\nvar shakeHands = ({\n  messenger,\n  methods,\n  timeout,\n  channel,\n  log\n}) => {\n  const participantId = generateId_default();\n  let remoteParticipantId;\n  const destroyHandlers = [];\n  let isComplete = false;\n  const methodPaths = extractMethodPathsFromMethods(methods);\n  const { promise, resolve, reject } = getPromiseWithResolvers_default();\n  const timeoutId = timeout !== void 0 ? setTimeout(() => {\n    reject(\n      new PenpalError_default(\n        \"CONNECTION_TIMEOUT\",\n        `Connection timed out after ${timeout}ms`\n      )\n    );\n  }, timeout) : void 0;\n  const destroy = () => {\n    for (const destroyHandler of destroyHandlers) {\n      destroyHandler();\n    }\n  };\n  const connectCallHandlerAndMethodProxies = () => {\n    if (isComplete) {\n      return;\n    }\n    destroyHandlers.push(connectCallHandler_default(messenger, methods, channel, log));\n    const { remoteProxy, destroy: destroyMethodProxies } = connectRemoteProxy_default(messenger, channel, log);\n    destroyHandlers.push(destroyMethodProxies);\n    clearTimeout(timeoutId);\n    isComplete = true;\n    resolve({\n      remoteProxy,\n      destroy\n    });\n  };\n  const sendSynMessage = () => {\n    const synMessage = {\n      namespace: namespace_default,\n      type: \"SYN\",\n      channel,\n      participantId\n    };\n    log?.(`Sending handshake SYN`, synMessage);\n    try {\n      messenger.sendMessage(synMessage);\n    } catch (error) {\n      reject(new PenpalError_default(\"TRANSMISSION_FAILED\", error.message));\n    }\n  };\n  const handleSynMessage = (message) => {\n    log?.(`Received handshake SYN`, message);\n    if (message.participantId === remoteParticipantId && // TODO: Used for backward-compatibility. Remove in next major version.\n    remoteParticipantId !== DEPRECATED_PENPAL_PARTICIPANT_ID) {\n      return;\n    }\n    remoteParticipantId = message.participantId;\n    sendSynMessage();\n    const isHandshakeLeader = participantId > remoteParticipantId || // TODO: Used for backward-compatibility. Remove in next major version.\n    remoteParticipantId === DEPRECATED_PENPAL_PARTICIPANT_ID;\n    if (!isHandshakeLeader) {\n      return;\n    }\n    const ack1Message = {\n      namespace: namespace_default,\n      channel,\n      type: \"ACK1\",\n      methodPaths\n    };\n    log?.(`Sending handshake ACK1`, ack1Message);\n    try {\n      messenger.sendMessage(ack1Message);\n    } catch (error) {\n      reject(new PenpalError_default(\"TRANSMISSION_FAILED\", error.message));\n      return;\n    }\n  };\n  const handleAck1Message = (message) => {\n    log?.(`Received handshake ACK1`, message);\n    const ack2Message = {\n      namespace: namespace_default,\n      channel,\n      type: \"ACK2\"\n    };\n    log?.(`Sending handshake ACK2`, ack2Message);\n    try {\n      messenger.sendMessage(ack2Message);\n    } catch (error) {\n      reject(new PenpalError_default(\"TRANSMISSION_FAILED\", error.message));\n      return;\n    }\n    connectCallHandlerAndMethodProxies();\n  };\n  const handleAck2Message = (message) => {\n    log?.(`Received handshake ACK2`, message);\n    connectCallHandlerAndMethodProxies();\n  };\n  const handleMessage = (message) => {\n    if (isSynMessage(message)) {\n      handleSynMessage(message);\n    }\n    if (isAck1Message(message)) {\n      handleAck1Message(message);\n    }\n    if (isAck2Message(message)) {\n      handleAck2Message(message);\n    }\n  };\n  messenger.addMessageHandler(handleMessage);\n  destroyHandlers.push(() => messenger.removeMessageHandler(handleMessage));\n  sendSynMessage();\n  return promise;\n};\nvar shakeHands_default = shakeHands;\n\n// src/once.ts\nvar once = (fn) => {\n  let isCalled = false;\n  let result;\n  return (...args) => {\n    if (!isCalled) {\n      isCalled = true;\n      result = fn(...args);\n    }\n    return result;\n  };\n};\nvar once_default = once;\n\n// src/connect.ts\nvar usedMessengers = /* @__PURE__ */ new WeakSet();\nvar connect = ({\n  messenger,\n  methods = {},\n  timeout,\n  channel,\n  log\n}) => {\n  if (!messenger) {\n    throw new PenpalError_default(\"INVALID_ARGUMENT\", \"messenger must be defined\");\n  }\n  if (usedMessengers.has(messenger)) {\n    throw new PenpalError_default(\n      \"INVALID_ARGUMENT\",\n      \"A messenger can only be used for a single connection\"\n    );\n  }\n  usedMessengers.add(messenger);\n  const connectionDestroyedHandlers = [messenger.destroy];\n  const destroyConnection = once_default((notifyOtherParticipant) => {\n    if (notifyOtherParticipant) {\n      const destroyMessage = {\n        namespace: namespace_default,\n        channel,\n        type: \"DESTROY\"\n      };\n      try {\n        messenger.sendMessage(destroyMessage);\n      } catch (_) {\n      }\n    }\n    for (const connectionDestroyedHandler of connectionDestroyedHandlers) {\n      connectionDestroyedHandler();\n    }\n    log?.(\"Connection destroyed\");\n  });\n  const validateReceivedMessage = (data) => {\n    return isMessage(data) && data.channel === channel;\n  };\n  const promise = (async () => {\n    try {\n      messenger.initialize({ log, validateReceivedMessage });\n      messenger.addMessageHandler((message) => {\n        if (isDestroyMessage(message)) {\n          destroyConnection(false);\n        }\n      });\n      const { remoteProxy, destroy } = await shakeHands_default({\n        messenger,\n        methods,\n        timeout,\n        channel,\n        log\n      });\n      connectionDestroyedHandlers.push(destroy);\n      return remoteProxy;\n    } catch (error) {\n      destroyConnection(true);\n      throw error;\n    }\n  })();\n  return {\n    promise,\n    // Why we don't reject the connection promise when consumer calls destroy():\n    // https://github.com/Aaronius/penpal/issues/51\n    destroy: () => {\n      destroyConnection(true);\n    }\n  };\n};\nvar connect_default = connect;\n\n// src/messengers/WindowMessenger.ts\nvar WindowMessenger = class {\n  #remoteWindow;\n  #allowedOrigins;\n  #log;\n  #validateReceivedMessage;\n  #concreteRemoteOrigin;\n  #messageCallbacks = /* @__PURE__ */ new Set();\n  #port;\n  // TODO: Used for backward-compatibility. Remove in next major version.\n  #isChildUsingDeprecatedProtocol = false;\n  constructor({ remoteWindow, allowedOrigins }) {\n    if (!remoteWindow) {\n      throw new PenpalError_default(\"INVALID_ARGUMENT\", \"remoteWindow must be defined\");\n    }\n    this.#remoteWindow = remoteWindow;\n    this.#allowedOrigins = allowedOrigins?.length ? allowedOrigins : [window.origin];\n  }\n  initialize = ({\n    log,\n    validateReceivedMessage\n  }) => {\n    this.#log = log;\n    this.#validateReceivedMessage = validateReceivedMessage;\n    window.addEventListener(\"message\", this.#handleMessageFromRemoteWindow);\n  };\n  sendMessage = (message, transferables) => {\n    if (isSynMessage(message)) {\n      const originForSending = this.#getOriginForSendingMessage(message);\n      this.#remoteWindow.postMessage(message, {\n        targetOrigin: originForSending,\n        transfer: transferables\n      });\n      return;\n    }\n    if (isAck1Message(message) || // If the child is using a previous version of Penpal, we need to\n    // downgrade the message and send it through the window rather than\n    // the port because older versions of Penpal don't use MessagePorts.\n    this.#isChildUsingDeprecatedProtocol) {\n      const payload = this.#isChildUsingDeprecatedProtocol ? downgradeMessage(message) : message;\n      const originForSending = this.#getOriginForSendingMessage(message);\n      this.#remoteWindow.postMessage(payload, {\n        targetOrigin: originForSending,\n        transfer: transferables\n      });\n      return;\n    }\n    if (isAck2Message(message)) {\n      const { port1, port2 } = new MessageChannel();\n      this.#port = port1;\n      port1.addEventListener(\"message\", this.#handleMessageFromPort);\n      port1.start();\n      const transferablesToSend = [port2, ...transferables || []];\n      const originForSending = this.#getOriginForSendingMessage(message);\n      this.#remoteWindow.postMessage(message, {\n        targetOrigin: originForSending,\n        transfer: transferablesToSend\n      });\n      return;\n    }\n    if (this.#port) {\n      this.#port.postMessage(message, {\n        transfer: transferables\n      });\n      return;\n    }\n    throw new PenpalBugError_default(\"Port is undefined\");\n  };\n  addMessageHandler = (callback) => {\n    this.#messageCallbacks.add(callback);\n  };\n  removeMessageHandler = (callback) => {\n    this.#messageCallbacks.delete(callback);\n  };\n  destroy = () => {\n    window.removeEventListener(\"message\", this.#handleMessageFromRemoteWindow);\n    this.#destroyPort();\n    this.#messageCallbacks.clear();\n  };\n  #isAllowedOrigin = (origin) => {\n    return this.#allowedOrigins.some(\n      (allowedOrigin) => allowedOrigin instanceof RegExp ? allowedOrigin.test(origin) : allowedOrigin === origin || allowedOrigin === \"*\"\n    );\n  };\n  #getOriginForSendingMessage = (message) => {\n    if (isSynMessage(message)) {\n      return \"*\";\n    }\n    if (!this.#concreteRemoteOrigin) {\n      throw new PenpalBugError_default(\"Concrete remote origin not set\");\n    }\n    return this.#concreteRemoteOrigin === \"null\" && this.#allowedOrigins.includes(\"*\") ? \"*\" : this.#concreteRemoteOrigin;\n  };\n  #destroyPort = () => {\n    this.#port?.removeEventListener(\"message\", this.#handleMessageFromPort);\n    this.#port?.close();\n    this.#port = void 0;\n  };\n  #handleMessageFromRemoteWindow = ({\n    source,\n    origin,\n    ports,\n    data\n  }) => {\n    if (source !== this.#remoteWindow) {\n      return;\n    }\n    if (isDeprecatedMessage(data)) {\n      this.#log?.(\n        \"Please upgrade the child window to the latest version of Penpal.\"\n      );\n      this.#isChildUsingDeprecatedProtocol = true;\n      data = upgradeMessage(data);\n    }\n    if (!this.#validateReceivedMessage?.(data)) {\n      return;\n    }\n    if (!this.#isAllowedOrigin(origin)) {\n      this.#log?.(\n        `Received a message from origin \\`${origin}\\` which did not match allowed origins \\`[${this.#allowedOrigins.join(\", \")}]\\``\n      );\n      return;\n    }\n    if (isSynMessage(data)) {\n      this.#destroyPort();\n      this.#concreteRemoteOrigin = origin;\n    }\n    if (isAck2Message(data) && // Previous versions of Penpal don't use MessagePorts and do all\n    // communication through the window.\n    !this.#isChildUsingDeprecatedProtocol) {\n      this.#port = ports[0];\n      if (!this.#port) {\n        throw new PenpalBugError_default(\"No port received on ACK2\");\n      }\n      this.#port.addEventListener(\"message\", this.#handleMessageFromPort);\n      this.#port.start();\n    }\n    for (const callback of this.#messageCallbacks) {\n      callback(data);\n    }\n  };\n  #handleMessageFromPort = ({ data }) => {\n    if (!this.#validateReceivedMessage?.(data)) {\n      return;\n    }\n    for (const callback of this.#messageCallbacks) {\n      callback(data);\n    }\n  };\n};\nvar WindowMessenger_default = WindowMessenger;\n\n// src/messengers/WorkerMessenger.ts\nvar WorkerMessenger = class {\n  #worker;\n  #validateReceivedMessage;\n  #messageCallbacks = /* @__PURE__ */ new Set();\n  #port;\n  constructor({ worker }) {\n    if (!worker) {\n      throw new PenpalError_default(\"INVALID_ARGUMENT\", \"worker must be defined\");\n    }\n    this.#worker = worker;\n  }\n  initialize = ({ validateReceivedMessage }) => {\n    this.#validateReceivedMessage = validateReceivedMessage;\n    this.#worker.addEventListener(\"message\", this.#handleMessage);\n  };\n  sendMessage = (message, transferables) => {\n    if (isSynMessage(message) || isAck1Message(message)) {\n      this.#worker.postMessage(message, { transfer: transferables });\n      return;\n    }\n    if (isAck2Message(message)) {\n      const { port1, port2 } = new MessageChannel();\n      this.#port = port1;\n      port1.addEventListener(\"message\", this.#handleMessage);\n      port1.start();\n      this.#worker.postMessage(message, {\n        transfer: [port2, ...transferables || []]\n      });\n      return;\n    }\n    if (this.#port) {\n      this.#port.postMessage(message, {\n        transfer: transferables\n      });\n      return;\n    }\n    throw new PenpalBugError_default(\"Port is undefined\");\n  };\n  addMessageHandler = (callback) => {\n    this.#messageCallbacks.add(callback);\n  };\n  removeMessageHandler = (callback) => {\n    this.#messageCallbacks.delete(callback);\n  };\n  destroy = () => {\n    this.#worker.removeEventListener(\"message\", this.#handleMessage);\n    this.#destroyPort();\n    this.#messageCallbacks.clear();\n  };\n  #destroyPort = () => {\n    this.#port?.removeEventListener(\"message\", this.#handleMessage);\n    this.#port?.close();\n    this.#port = void 0;\n  };\n  #handleMessage = ({ ports, data }) => {\n    if (!this.#validateReceivedMessage?.(data)) {\n      return;\n    }\n    if (isSynMessage(data)) {\n      this.#destroyPort();\n    }\n    if (isAck2Message(data)) {\n      this.#port = ports[0];\n      if (!this.#port) {\n        throw new PenpalBugError_default(\"No port received on ACK2\");\n      }\n      this.#port.addEventListener(\"message\", this.#handleMessage);\n      this.#port.start();\n    }\n    for (const callback of this.#messageCallbacks) {\n      callback(data);\n    }\n  };\n};\nvar WorkerMessenger_default = WorkerMessenger;\n\n// src/messengers/PortMessenger.ts\nvar PortMessenger = class {\n  #port;\n  #validateReceivedMessage;\n  #messageCallbacks = /* @__PURE__ */ new Set();\n  constructor({ port }) {\n    if (!port) {\n      throw new PenpalError_default(\"INVALID_ARGUMENT\", \"port must be defined\");\n    }\n    this.#port = port;\n  }\n  initialize = ({ validateReceivedMessage }) => {\n    this.#validateReceivedMessage = validateReceivedMessage;\n    this.#port.addEventListener(\"message\", this.#handleMessage);\n    this.#port.start();\n  };\n  sendMessage = (message, transferables) => {\n    this.#port?.postMessage(message, {\n      transfer: transferables\n    });\n  };\n  addMessageHandler = (callback) => {\n    this.#messageCallbacks.add(callback);\n  };\n  removeMessageHandler = (callback) => {\n    this.#messageCallbacks.delete(callback);\n  };\n  destroy = () => {\n    this.#port.removeEventListener(\"message\", this.#handleMessage);\n    this.#port.close();\n    this.#messageCallbacks.clear();\n  };\n  #handleMessage = ({ data }) => {\n    if (!this.#validateReceivedMessage?.(data)) {\n      return;\n    }\n    for (const callback of this.#messageCallbacks) {\n      callback(data);\n    }\n  };\n};\nvar PortMessenger_default = PortMessenger;\n\n// src/ErrorCodeObj.ts\nvar ErrorCodeObj = {\n  ConnectionDestroyed: \"CONNECTION_DESTROYED\",\n  ConnectionTimeout: \"CONNECTION_TIMEOUT\",\n  InvalidArgument: \"INVALID_ARGUMENT\",\n  MethodCallTimeout: \"METHOD_CALL_TIMEOUT\",\n  MethodNotFound: \"METHOD_NOT_FOUND\",\n  TransmissionFailed: \"TRANSMISSION_FAILED\"\n};\nvar ErrorCodeObj_default = ErrorCodeObj;\n\n// src/debug.ts\nvar debug = (prefix) => {\n  return (...args) => {\n    console.log(`\\u270D\\uFE0F %c${prefix}%c`, \"font-weight: bold;\", \"\", ...args);\n  };\n};\nvar debug_default = debug;\n\nexport { CallOptions_default as CallOptions, ErrorCodeObj_default as ErrorCode, PenpalError_default as PenpalError, PortMessenger_default as PortMessenger, Reply_default as Reply, WindowMessenger_default as WindowMessenger, WorkerMessenger_default as WorkerMessenger, connect_default as connect, debug_default as debug };\n//# sourceMappingURL=penpal.mjs.map\n//# sourceMappingURL=penpal.mjs.map",
    "export const DOM_IGNORE_TAGS = ['SCRIPT', 'STYLE', 'LINK', 'META', 'NOSCRIPT'];\nexport const INLINE_ONLY_CONTAINERS = new Set([\n    'a',\n    'abbr',\n    'area',\n    'audio',\n    'b',\n    'bdi',\n    'bdo',\n    'br',\n    'button',\n    'canvas',\n    'cite',\n    'code',\n    'data',\n    'datalist',\n    'del',\n    'dfn',\n    'em',\n    'embed',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'kbd',\n    'label',\n    'li',\n    'map',\n    'mark',\n    'meter',\n    'noscript',\n    'object',\n    'output',\n    'p',\n    'picture',\n    'progress',\n    'q',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'select',\n    'slot',\n    'small',\n    'span',\n    'strong',\n    'sub',\n    'sup',\n    'svg',\n    'template',\n    'textarea',\n    'time',\n    'u',\n    'var',\n    'video',\n    'wbr',\n]);\n",
    "import { Orientation, Theme } from './frame';\nexport const APP_NAME = 'Onlook';\nexport const APP_SCHEMA = 'onlook';\nexport const HOSTING_DOMAIN = 'onlook.live';\nexport const CUSTOM_OUTPUT_DIR = '.next-prod';\nexport const MAX_NAME_LENGTH = 50;\n\nexport enum EditorAttributes {\n    // DOM attributes\n    ONLOOK_TOOLBAR = 'onlook-toolbar',\n    ONLOOK_RECT_ID = 'onlook-rect',\n    ONLOOK_STYLESHEET_ID = 'onlook-stylesheet',\n    ONLOOK_STUB_ID = 'onlook-drag-stub',\n    ONLOOK_MOVE_KEY_PREFIX = 'olk-',\n    OVERLAY_CONTAINER_ID = 'overlay-container',\n    CANVAS_CONTAINER_ID = 'canvas-container',\n    STYLESHEET_ID = 'onlook-default-stylesheet',\n\n    // IDs\n    DATA_ONLOOK_ID = 'data-oid',\n    DATA_ONLOOK_INSTANCE_ID = 'data-oiid',\n    DATA_ONLOOK_DOM_ID = 'data-odid',\n    DATA_ONLOOK_COMPONENT_NAME = 'data-ocname',\n\n    // Data attributes\n    DATA_ONLOOK_IGNORE = 'data-onlook-ignore',\n    DATA_ONLOOK_INSERTED = 'data-onlook-inserted',\n    DATA_ONLOOK_DRAG_SAVED_STYLE = 'data-onlook-drag-saved-style',\n    DATA_ONLOOK_DRAGGING = 'data-onlook-dragging',\n    DATA_ONLOOK_DRAG_DIRECTION = 'data-onlook-drag-direction',\n    DATA_ONLOOK_DRAG_START_POSITION = 'data-onlook-drag-start-position',\n    DATA_ONLOOK_NEW_INDEX = 'data-onlook-new-index',\n    DATA_ONLOOK_EDITING_TEXT = 'data-onlook-editing-text',\n    DATA_ONLOOK_DYNAMIC_TYPE = 'data-onlook-dynamic-type',\n    DATA_ONLOOK_CORE_ELEMENT_TYPE = 'data-onlook-core-element-type',\n}\n\nexport const DefaultSettings = {\n    SCALE: 0.7,\n    PAN_POSITION: { x: 175, y: 100 },\n    URL: 'http://localhost:3000/',\n    FRAME_POSITION: { x: 0, y: 0 },\n    FRAME_DIMENSION: { width: 1536, height: 960 },\n    ASPECT_RATIO_LOCKED: false,\n    DEVICE: 'Custom:Custom',\n    THEME: Theme.System,\n    ORIENTATION: Orientation.Portrait,\n    MIN_DIMENSIONS: { width: '280px', height: '360px' },\n    COMMANDS: {\n        run: 'bun run dev',\n        build: 'bun run build',\n        install: 'bun install',\n    },\n    IMAGE_FOLDER: 'public',\n    IMAGE_DIMENSION: { width: '100px', height: '100px' },\n    FONT_FOLDER: 'public/fonts',\n    FONT_CONFIG: 'app/fonts.ts',\n    TAILWIND_CONFIG: 'tailwind.config.ts',\n    CHAT_SETTINGS: {\n        showSuggestions: true,\n        autoApplyCode: true,\n        expandCodeBlocks: false,\n        showMiniChat: true,\n    },\n    EDITOR_SETTINGS: {\n        shouldWarnDelete: false,\n        enableBunReplace: true,\n        buildFlags: '--no-lint',\n    },\n};\n\nexport const DEFAULT_COLOR_NAME = 'DEFAULT';\n\nexport const PRELOAD_SCRIPT_SRC =\n    'https://cdn.jsdelivr.net/gh/onlook-dev/onlook@main/apps/web/preload/dist/index.js';\n\nexport const DEPRECATED_PRELOAD_SCRIPT_SRC = 'onlook-dev/web';\n",
    "import { CUSTOM_OUTPUT_DIR } from './editor';\n\nconst BASE_EXCLUDED_DIRECTORIES = ['node_modules', 'dist', 'build', '.git', '.next'] as const;\n\nexport const EXCLUDED_SYNC_DIRECTORIES = [\n    ...BASE_EXCLUDED_DIRECTORIES,\n    'static',\n    CUSTOM_OUTPUT_DIR,\n];\n\nexport const IGNORED_UPLOAD_DIRECTORIES = [...BASE_EXCLUDED_DIRECTORIES, CUSTOM_OUTPUT_DIR];\n\nexport const EXCLUDED_PUBLISH_DIRECTORIES = [...BASE_EXCLUDED_DIRECTORIES, 'coverage'];\n\nexport const JSX_FILE_EXTENSIONS = ['.jsx', '.tsx'];\n\nexport const JS_FILE_EXTENSIONS = ['.js', '.ts', '.mjs', '.cjs'];\n\nexport const LAYOUT_FILE_LOCATION = ['src/app', 'app'];\n\nexport const LAYOUT_FILE_CONDITIONS = {\n    fileName: 'layout',\n    targetExtensions: JSX_FILE_EXTENSIONS,\n    potentialPaths: LAYOUT_FILE_LOCATION,\n};\n\nexport const SUPPORTED_LOCK_FILES = [\n    'bun.lock',\n    'package-lock.json',\n    'yarn.lock',\n    'pnpm-lock.yaml',\n];\n\nexport const BINARY_EXTENSIONS = [\n    '.jpg',\n    '.jpeg',\n    '.png',\n    '.gif',\n    '.bmp',\n    '.svg',\n    '.ico',\n    '.webp',\n    '.pdf',\n    '.zip',\n    '.tar',\n    '.gz',\n    '.rar',\n    '.7z',\n    '.mp3',\n    '.mp4',\n    '.wav',\n    '.avi',\n    '.mov',\n    '.wmv',\n    '.exe',\n    '.bin',\n    '.dll',\n    '.so',\n    '.dylib',\n    '.woff',\n    '.woff2',\n    '.ttf',\n    '.eot',\n    '.otf',\n];\n\nexport const IGNORED_UPLOAD_FILES = [\n    '.DS_Store',\n    'Thumbs.db',\n    'yarn.lock',\n    'package-lock.json',\n    'pnpm-lock.yaml',\n    'bun.lockb',\n    '.env.local',\n    '.env.development.local',\n    '.env.production.local',\n    '.env.test.local',\n];\n\nexport const IMAGE_EXTENSIONS = [\n    'image/jpeg',\n    'image/png',\n    'image/gif',\n    'image/webp',\n    'image/svg+xml',\n    'image/bmp',\n    'image/ico',\n    'image/x-icon',\n    'image/avif',\n];\n\n/**\n * Compression presets for common use cases\n */\nexport const COMPRESSION_IMAGE_PRESETS = {\n    web: {\n        quality: 80,\n        format: 'webp' as const,\n        progressive: true,\n        effort: 4,\n    },\n    thumbnail: {\n        quality: 70,\n        width: 300,\n        height: 300,\n        format: 'webp' as const,\n        keepAspectRatio: true,\n    },\n    highQuality: {\n        quality: 95,\n        format: 'jpeg' as const,\n        progressive: true,\n        mozjpeg: true,\n    },\n    lowFileSize: {\n        quality: 60,\n        format: 'webp' as const,\n        effort: 6,\n    },\n} as const;\n",
    "export enum Language {\n    English = 'en',\n    Japanese = 'ja',\n    Chinese = 'zh',\n    Korean = 'ko',\n}\n\nexport const LANGUAGE_DISPLAY_NAMES: Record<Language, string> = {\n    [Language.English]: 'English',\n    [Language.Japanese]: '日本語',\n    [Language.Chinese]: '中文',\n    [Language.Korean]: '한국어',\n} as const;\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { LayerNode } from '@onlook/models';\nimport debounce from 'lodash/debounce';\nimport { isValidHtmlElement } from '../helpers/dom';\nimport { getInstanceId, getOid, getOrAssignDomId } from '../helpers/ids';\nimport { publishDomProcessed } from './events/publish';\nimport { getFrameId } from './state';\n\nexport interface ProcessDomResult {\n    rootDomId: string;\n    layerMap: Array<[string, LayerNode]>;\n}\n\nfunction processDomDebounced(root: HTMLElement = document.body): ProcessDomResult | null {\n    const frameId = getFrameId();\n    if (!frameId) {\n        console.warn('frameView id not found, skipping dom processing');\n        return null;\n    }\n    const layerMap = buildLayerTree(root);\n    if (!layerMap) {\n        console.warn('Error building layer tree, root element is null');\n        return null;\n    }\n\n    const rootDomId = root.getAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID);\n    if (!rootDomId) {\n        console.warn('Root dom id not found');\n        return null;\n    }\n    const rootNode = layerMap.get(rootDomId);\n    if (!rootNode) {\n        console.warn('Root node not found');\n        return null;\n    }\n\n    publishDomProcessed(layerMap, rootNode);\n    return { rootDomId, layerMap: Array.from(layerMap.entries()) };\n}\n\nexport const processDom = debounce(processDomDebounced, 500);\n\n// Filter conditions for nodes to reject in layer tree\nconst FILTER_CONDITIONS = [\n    (element: HTMLElement) => {\n        const parent = element.parentElement;\n        return parent && parent.tagName.toLowerCase() === 'svg';\n    },\n    (element: HTMLElement) => {\n        return element.tagName.toLowerCase() === 'next-route-announcer';\n    },\n    (element: HTMLElement) => {\n        return element.tagName.toLowerCase() === 'nextjs-portal';\n    },\n];\n\nexport function buildLayerTree(root: HTMLElement): Map<string, LayerNode> | null {\n    if (!isValidHtmlElement(root)) {\n        return null;\n    }\n\n    const layerMap = new Map<string, LayerNode>();\n    const treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n        acceptNode: (node: Node) => {\n            const element = node as HTMLElement;\n\n            if (FILTER_CONDITIONS.some(condition => condition(element))) {\n                return NodeFilter.FILTER_REJECT;\n            }\n\n            return isValidHtmlElement(element)\n                ? NodeFilter.FILTER_ACCEPT\n                : NodeFilter.FILTER_SKIP;\n        },\n    });\n\n    // Process root node\n    const rootLayerNode = processNode(root);\n    rootLayerNode.children = [];\n    layerMap.set(rootLayerNode.domId, rootLayerNode);\n\n    let currentNode: Node | null = treeWalker.nextNode();\n\n    while (currentNode) {\n        const layerNode = processNode(currentNode as HTMLElement);\n        layerNode.children = [];\n\n        // Get parent's domId\n        const parentElement = (currentNode as HTMLElement).parentElement;\n        if (parentElement) {\n            const parentDomId = parentElement.getAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID);\n            if (parentDomId) {\n                layerNode.parent = parentDomId;\n\n                // Add this node's domId to parent's children array\n                const parentNode = layerMap.get(parentDomId);\n                if (parentNode && parentNode.children) {\n                    parentNode.children.push(layerNode.domId);\n                }\n            }\n        }\n\n        layerMap.set(layerNode.domId, layerNode);\n        currentNode = treeWalker.nextNode();\n    }\n\n    return layerMap;\n}\n\nfunction processNode(node: HTMLElement): LayerNode {\n    const domId = getOrAssignDomId(node);\n    const oid = getOid(node);\n    const instanceId = getInstanceId(node);\n    const textContent = Array.from(node.childNodes)\n        .map((node) => (node.nodeType === Node.TEXT_NODE ? node.textContent : ''))\n        .join(' ')\n        .trim()\n        .slice(0, 500);\n    const style = window.getComputedStyle(node);\n    const component = node.getAttribute(EditorAttributes.DATA_ONLOOK_COMPONENT_NAME) as\n        | string\n        | null;\n\n    const layerNode: LayerNode = {\n        domId,\n        oid: oid || null,\n        instanceId: instanceId || null,\n        textContent: textContent || '',\n        tagName: node.tagName.toLowerCase(),\n        isVisible: style.visibility !== 'hidden',\n        component: component || null,\n        frameId: getFrameId(),\n        children: null,\n        parent: null,\n        dynamicType: null,\n        coreElementType: null,\n    };\n    return layerNode;\n}\n",
    "import { DOM_IGNORE_TAGS, EditorAttributes } from '@onlook/constants';\n\nexport function getHtmlElement(domId: string): HTMLElement | null {\n    return document.querySelector(`[${EditorAttributes.DATA_ONLOOK_DOM_ID}=\"${domId}\"]`);\n}\n\nexport function getDomIdSelector(domId: string, escape: boolean = false) {\n    const selector = `[${EditorAttributes.DATA_ONLOOK_DOM_ID}=\"${domId}\"]`;\n    if (!escape) {\n        return selector;\n    }\n    return escapeSelector(selector);\n}\n\nexport function getArrayString(items: string[]) {\n    return `[${items.map((item) => `'${item}'`).join(',')}]`;\n}\n\nexport function escapeSelector(selector: string) {\n    return CSS.escape(selector);\n}\n\nexport function isValidHtmlElement(element: Element): boolean {\n    return (\n        element &&\n        element instanceof Node &&\n        element.nodeType === Node.ELEMENT_NODE &&\n        !DOM_IGNORE_TAGS.includes(element.tagName) &&\n        !element.hasAttribute(EditorAttributes.DATA_ONLOOK_IGNORE) &&\n        (element as HTMLElement).style.display !== 'none'\n    );\n}\n\nexport function isOnlookInDoc(doc: Document): boolean {\n    const attributeExists = doc.evaluate(\n        `//*[@${EditorAttributes.DATA_ONLOOK_ID}]`,\n        doc,\n        null,\n        XPathResult.BOOLEAN_TYPE,\n        null,\n    ).booleanValue;\n    return attributeExists;\n}\n",
    "/* @ts-self-types=\"./index.d.ts\" */\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport { nanoid } from 'nanoid/non-secure';\n\nexport function getOrAssignDomId(node: HTMLElement): string {\n    let domId = node.getAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID) as string;\n    if (!domId) {\n        domId = `odid-${nanoid()}`;\n        node.setAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID, domId);\n    }\n    return domId;\n}\n\nexport const VALID_DATA_ATTR_CHARS = 'abcdefghijklmnopqrstuvwxyz0123456789-._:';\n\nexport function getOid(node: HTMLElement): string | undefined {\n    return node.getAttribute(EditorAttributes.DATA_ONLOOK_ID) as string;\n}\n\nexport function getInstanceId(node: HTMLElement): string | undefined {\n    return node.getAttribute(EditorAttributes.DATA_ONLOOK_INSTANCE_ID) as string;\n}\n",
    "import { penpalParent } from '../..';\n\nexport function publishDomProcessed(layerMap: Map<string, any>, rootNode: any) {\n    if (!penpalParent) return;\n    \n    penpalParent.onDomProcessed({\n        layerMap: Object.fromEntries(layerMap),\n        rootNode\n    }).catch((error: Error) => {\n        console.error('Failed to send DOM processed event:', error);\n    });\n}\n",
    "import { penpalParent } from \"..\";\n\nexport function setFrameId(frameId: string) {\n    (window as any)._onlookFrameId = frameId;\n}\n\nexport function getFrameId(): string {\n    const frameId = (window as any)._onlookFrameId;\n    if (!frameId) {\n        console.warn('Frame id not found');\n        penpalParent?.getFrameId().then((id) => {\n            setFrameId(id);\n        });\n        return '';\n    }\n    return frameId;\n}\n",
    "export function assertNever(n: never): never {\n    throw new Error(`Expected \\`never\\`, found: ${JSON.stringify(n)}`);\n}\n",
    "export const jsonClone = <T>(obj: T): T => JSON.parse(JSON.stringify(obj));",
    "import type { DomElementStyles } from '@onlook/models';\nimport { getHtmlElement, jsonClone } from '../../helpers';\n\nexport function getStyles(element: HTMLElement): DomElementStyles {\n    const computed = getElComputedStyle(element);\n    const inline = getInlineStyles(element);\n    const stylesheet = getStylesheetStyles(element);\n\n    const defined = {\n        width: 'auto',\n        height: 'auto',\n        ...inline,\n        ...stylesheet,\n    };\n\n    return {\n        defined,\n        computed,\n    };\n}\n\nexport function getComputedStyleByDomId(domId: string): Record<string, string> {\n    const element = getHtmlElement(domId);\n    if (!element) {\n        return {};\n    }\n    return getElComputedStyle(element as HTMLElement);\n}\n\nfunction getElComputedStyle(element: HTMLElement): Record<string, string> {\n    const computedStyle = jsonClone(window.getComputedStyle(element)) as unknown as Record<\n        string,\n        string\n    >;\n    return computedStyle;\n}\n\nfunction getInlineStyles(element: HTMLElement) {\n    const styles: Record<string, string> = {};\n    const inlineStyles = parseCssText(element.style.cssText);\n    Object.entries(inlineStyles).forEach(([prop, value]) => {\n        styles[prop] = value;\n    });\n    return styles;\n}\n\nfunction getStylesheetStyles(element: HTMLElement) {\n    const styles: Record<string, string> = {};\n    const sheets = document.styleSheets;\n    for (let i = 0; i < sheets.length; i++) {\n        let rules: CSSStyleRule[];\n        const sheet = sheets[i];\n        try {\n            if (!sheet) {\n                console.warn('Sheet is undefined');\n                continue;\n            }\n            rules = (Array.from(sheet.cssRules) as CSSStyleRule[]) || sheet.rules;\n        } catch (e) {\n            console.warn(\"Can't read the css rules of: \" + sheet?.href, e);\n            continue;\n        }\n        for (let j = 0; j < rules.length; j++) {\n            try {\n                const rule = rules[j];\n                if (rule && element.matches(rule.selectorText)) {\n                    const ruleStyles = parseCssText(rule.style.cssText);\n                    Object.entries(ruleStyles).forEach(([prop, value]) => (styles[prop] = value));\n                }\n            } catch (e) {\n                console.warn('Error', e);\n            }\n        }\n    }\n    return styles;\n}\n\nfunction parseCssText(cssText: string) {\n    const styles: Record<string, string> = {};\n    cssText.split(';').forEach((style) => {\n        style = style.trim();\n        if (!style) {\n            return;\n        }\n        const [property, ...values] = style.split(':');\n        styles[property?.trim() ?? ''] = values.join(':').trim();\n    });\n    return styles;\n}\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { DomElement, ParentDomElement } from '@onlook/models';\nimport type { ActionLocation } from '@onlook/models/actions';\nimport { getInstanceId, getOid } from '../../helpers/ids';\nimport { getFrameId } from '../state';\nimport { getStyles } from './style';\n\nexport const getDeepElement = (x: number, y: number): Element | undefined => {\n    const el = document.elementFromPoint(x, y);\n    if (!el) {\n        return;\n    }\n    const crawlShadows = (node: Element): Element => {\n        if (node?.shadowRoot) {\n            const potential = node.shadowRoot.elementFromPoint(x, y);\n            if (potential == node) {\n                return node;\n            } else if (potential?.shadowRoot) {\n                return crawlShadows(potential);\n            } else {\n                return potential || node;\n            }\n        } else {\n            return node;\n        }\n    };\n\n    const nested_shadow = crawlShadows(el);\n    return nested_shadow || el;\n};\n\nexport const getDomElement = (el: HTMLElement, getStyle: boolean): DomElement => {\n    const parent = el.parentElement;\n    const parentDomElement: ParentDomElement | null = parent\n        ? {\n            domId: parent.getAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID) as string,\n            frameId: getFrameId(),\n            oid: parent.getAttribute(EditorAttributes.DATA_ONLOOK_ID) as string,\n            instanceId: parent.getAttribute(EditorAttributes.DATA_ONLOOK_INSTANCE_ID) as string,\n            rect: parent.getBoundingClientRect() as DOMRect,\n        }\n        : null;\n\n    const rect = el.getBoundingClientRect();\n    const styles = getStyle ? getStyles(el) : null;\n    const domElement: DomElement = {\n        domId: el.getAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID) as string,\n        oid: el.getAttribute(EditorAttributes.DATA_ONLOOK_ID) as string,\n        frameId: getFrameId(),\n        instanceId: el.getAttribute(EditorAttributes.DATA_ONLOOK_INSTANCE_ID) as string,\n        rect,\n        tagName: el.tagName,\n        parent: parentDomElement,\n        styles,\n    };\n    return domElement;\n};\n\nexport function restoreElementStyle(el: HTMLElement) {\n    try {\n        const saved = el.getAttribute(EditorAttributes.DATA_ONLOOK_DRAG_SAVED_STYLE);\n        if (saved) {\n            const style = JSON.parse(saved);\n            for (const key in style) {\n                el.style[key as any] = style[key];\n            }\n        }\n    } catch (e) {\n        console.warn('Error restoring style', e);\n    }\n}\n\nexport function getElementLocation(targetEl: HTMLElement): ActionLocation | undefined {\n    const parent = targetEl.parentElement;\n    if (!parent) {\n        return;\n    }\n\n    const location: ActionLocation = {\n        type: 'index',\n        targetDomId: parent.getAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID) as string,\n        targetOid: getInstanceId(parent) || getOid(parent) || null,\n        index: Array.from(targetEl.parentElement?.children || []).indexOf(targetEl),\n        originalIndex: Array.from(targetEl.parentElement?.children || []).indexOf(targetEl),\n    };\n    return location;\n}\n\nexport const getImmediateTextContent = (el: HTMLElement): string | undefined => {\n    const stringArr = Array.from(el.childNodes)\n        .filter((node) => node.nodeType === Node.TEXT_NODE)\n        .map((node) => node.textContent);\n\n    if (stringArr.length === 0) {\n        return;\n    }\n    return stringArr.join('');\n};\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { DomElement } from '@onlook/models';\nimport { getHtmlElement } from '../../helpers';\nimport { getDomElement } from './helpers';\n\nexport const getElementByDomId = (domId: string, getStyle: boolean): DomElement => {\n    const el = getHtmlElement(domId) || document.body;\n    return getDomElement(el as HTMLElement, getStyle);\n};\n\nexport const getElementAtLoc = (x: number, y: number, getStyle: boolean): DomElement => {\n    const el = getDeepElement(x, y) || document.body;\n    return getDomElement(el as HTMLElement, getStyle);\n};\n\nconst getDeepElement = (x: number, y: number): Element | undefined => {\n    const el = document.elementFromPoint(x, y);\n    if (!el) {\n        return;\n    }\n    const crawlShadows = (node: Element): Element => {\n        if (node?.shadowRoot) {\n            const potential = node.shadowRoot.elementFromPoint(x, y);\n            if (potential == node) {\n                return node;\n            } else if (potential?.shadowRoot) {\n                return crawlShadows(potential);\n            } else {\n                return potential || node;\n            }\n        } else {\n            return node;\n        }\n    };\n\n    const nested_shadow = crawlShadows(el);\n    return nested_shadow || el;\n};\n\nexport const updateElementInstance = (domId: string, instanceId: string, component: string) => {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Failed to updateElementInstanceId: Element not found');\n        return;\n    }\n    el.setAttribute(EditorAttributes.DATA_ONLOOK_INSTANCE_ID, instanceId);\n    el.setAttribute(EditorAttributes.DATA_ONLOOK_COMPONENT_NAME, component);\n};\n\nexport const getParentElement = (domId: string) => {\n    const el = getHtmlElement(domId);\n    if (!el?.parentElement) {\n        return null;\n    }\n    return getDomElement(el.parentElement, false);\n};\n\nexport const getChildrenCount = (domId: string) => {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        return 0;\n    }\n    return el.children.length;\n};\n\nexport const getOffsetParent = (domId: string) => {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        return null;\n    }\n    return getDomElement(el.offsetParent as HTMLElement, false);\n};\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { DomElement, LayerNode } from '@onlook/models';\nimport type { ActionTarget, GroupContainer } from '@onlook/models/actions';\nimport { getHtmlElement } from '../../../helpers';\nimport { getOrAssignDomId } from '../../../helpers/ids';\nimport { buildLayerTree } from '../../dom';\nimport { getDomElement } from '../helpers';\n\nexport function groupElements(\n    parent: ActionTarget,\n    container: GroupContainer,\n    children: Array<ActionTarget>,\n): { domEl: DomElement, newMap: Map<string, LayerNode> | null } | null {\n    const parentEl = getHtmlElement(parent.domId);\n    if (!parentEl) {\n        console.warn('Failed to find parent element', parent.domId);\n        return null;\n    }\n\n    const containerEl = createContainerElement(container);\n\n    // Find child elements and their positions\n    const childrenMap = new Set(children.map((c) => c.domId));\n    const childrenWithIndices = Array.from(parentEl.children)\n        .map((child, index) => ({\n            element: child as HTMLElement,\n            index,\n            domId: getOrAssignDomId(child as HTMLElement),\n        }))\n        .filter(({ domId }) => childrenMap.has(domId));\n\n    if (childrenWithIndices.length === 0) {\n        console.warn('No valid children found to group');\n        return null;\n    }\n\n    // Insert container at the position of the first child\n    const insertIndex = Math.min(...childrenWithIndices.map((c) => c.index));\n    parentEl.insertBefore(containerEl, parentEl.children[insertIndex] ?? null);\n\n    // Move children into container\n    childrenWithIndices.forEach(({ element }) => {\n        const newElement = element.cloneNode(true) as HTMLElement;\n\n        newElement.setAttribute(EditorAttributes.DATA_ONLOOK_INSERTED, 'true');\n        containerEl.appendChild(newElement);\n        element.style.display = 'none';\n        removeIdsFromChildElement(element);\n    });\n\n    const domEl = getDomElement(containerEl, true);\n\n    return {\n        domEl,\n        newMap: buildLayerTree(containerEl),\n    };\n}\n\nexport function ungroupElements(\n    parent: ActionTarget,\n    container: GroupContainer,\n): { domEl: DomElement, newMap: Map<string, LayerNode> | null } | null {\n    const parentEl = getHtmlElement(parent.domId);\n    if (!parentEl) {\n        console.warn(`Parent element not found: ${parent.domId}`);\n        return null;\n    }\n\n    let containerEl: HTMLElement | null;\n\n    if (container.domId) {\n        containerEl = getHtmlElement(container.domId);\n    } else {\n        console.warn(`Container domId is required for ungrouping`);\n        return null;\n    }\n\n    if (!containerEl) {\n        console.warn(`Container element not found for ungrouping`);\n        return null;\n    }\n\n    // Move all children of the container to the parent\n    const children = Array.from(containerEl.children) as HTMLElement[];\n    children.forEach(child => {\n        parentEl.appendChild(child);\n    });\n\n    // Remove the empty container\n    containerEl.remove();\n\n    const domEl = getDomElement(parentEl, true);\n\n    return {\n        domEl,\n        newMap: buildLayerTree(parentEl),\n    };\n}\n\nfunction createContainerElement(target: GroupContainer): HTMLElement {\n    const containerEl = document.createElement(target.tagName);\n    Object.entries(target.attributes).forEach(([key, value]) => {\n        containerEl.setAttribute(key, value);\n    });\n    containerEl.setAttribute(EditorAttributes.DATA_ONLOOK_INSERTED, 'true');\n    containerEl.setAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID, target.domId);\n    containerEl.setAttribute(EditorAttributes.DATA_ONLOOK_ID, target.oid);\n    return containerEl;\n}\n\nfunction removeIdsFromChildElement(el: HTMLElement) {\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID);\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_ID);\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_INSERTED);\n\n    const children = Array.from(el.children);\n    if (children.length === 0) {\n        return;\n    }\n\n    children.forEach((child) => {\n        removeIdsFromChildElement(child as HTMLElement);\n    });\n}\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { CoreElementType, DomElement, DynamicType } from '@onlook/models';\nimport type { ActionElement, ActionLocation } from '@onlook/models/actions';\nimport { getHtmlElement } from '../../../helpers';\nimport { getInstanceId, getOid, getOrAssignDomId } from '../../../helpers/ids';\nimport { getDomElement, getImmediateTextContent } from '../helpers';\n\nexport function getActionElement(domId: string): ActionElement | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Element not found for domId:', domId);\n        return null;\n    }\n\n    return getActionElementFromHtmlElement(el);\n}\n\nexport function getActionElementFromHtmlElement(el: HTMLElement): ActionElement | null {\n    const attributes: Record<string, string> = Array.from(el.attributes).reduce(\n        (acc, attr) => {\n            acc[attr.name] = attr.value;\n            return acc;\n        },\n        {} as Record<string, string>,\n    );\n\n    const oid = getInstanceId(el) || getOid(el) || null;\n    if (!oid) {\n        console.warn('Element has no oid');\n        return null;\n    }\n\n    return {\n        oid,\n        domId: getOrAssignDomId(el),\n        tagName: el.tagName.toLowerCase(),\n        children: Array.from(el.children)\n            .map((child) => getActionElementFromHtmlElement(child as HTMLElement))\n            .filter(Boolean) as ActionElement[],\n        attributes,\n        textContent: getImmediateTextContent(el) || null,\n        styles: {},\n    };\n}\n\nexport function getActionLocation(domId: string): ActionLocation | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        throw new Error('Element not found for domId: ' + domId);\n    }\n\n    const parent = el.parentElement;\n    if (!parent) {\n        throw new Error('Inserted element has no parent');\n    }\n\n    const targetOid = getInstanceId(parent) || getOid(parent);\n    if (!targetOid) {\n        console.warn('Parent element has no oid');\n        return null;\n    }\n\n    const targetDomId = getOrAssignDomId(parent);\n    const index: number | undefined = Array.from(parent.children).indexOf(el);\n    if (index === -1) {\n        return {\n            type: 'append',\n            targetDomId,\n            targetOid,\n        };\n    }\n\n    return {\n        type: 'index',\n        targetDomId,\n        targetOid,\n        index,\n        originalIndex: index,\n    };\n}\n\nexport function getElementType(domId: string): {\n    dynamicType: DynamicType | null;\n    coreType: CoreElementType | null;\n} {\n    const el = document.querySelector(\n        `[${EditorAttributes.DATA_ONLOOK_DOM_ID}=\"${domId}\"]`,\n    ) as HTMLElement | null;\n\n    if (!el) {\n        console.warn('No element found', { domId });\n        return { dynamicType: null, coreType: null };\n    }\n\n    const dynamicType =\n        (el.getAttribute(EditorAttributes.DATA_ONLOOK_DYNAMIC_TYPE) as DynamicType) || null;\n    const coreType =\n        (el.getAttribute(EditorAttributes.DATA_ONLOOK_CORE_ELEMENT_TYPE) as CoreElementType) ||\n        null;\n\n    return { dynamicType, coreType };\n}\n\nexport function setElementType(\n    domId: string,\n    dynamicType: DynamicType | null,\n    coreElementType: CoreElementType | null,\n) {\n    const el = document.querySelector(`[${EditorAttributes.DATA_ONLOOK_DOM_ID}=\"${domId}\"]`);\n\n    if (el) {\n        if (dynamicType) {\n            el.setAttribute(EditorAttributes.DATA_ONLOOK_DYNAMIC_TYPE, dynamicType);\n        }\n        if (coreElementType) {\n            el.setAttribute(EditorAttributes.DATA_ONLOOK_CORE_ELEMENT_TYPE, coreElementType);\n        }\n    }\n}\n\nexport function getFirstOnlookElement(): DomElement | null {\n    const body = document.body;\n    const firstElement = body.querySelector(`[${EditorAttributes.DATA_ONLOOK_ID}]`);\n    if (firstElement) {\n        return getDomElement(firstElement as HTMLElement, true);\n    }\n    return null;\n}\n",
    "// CSS Syntax Module Level 3\n// https://www.w3.org/TR/css-syntax-3/\nexport const EOF = 0;                 // <EOF-token>\nexport const Ident = 1;               // <ident-token>\nexport const Function = 2;            // <function-token>\nexport const AtKeyword = 3;           // <at-keyword-token>\nexport const Hash = 4;                // <hash-token>\nexport const String = 5;              // <string-token>\nexport const BadString = 6;           // <bad-string-token>\nexport const Url = 7;                 // <url-token>\nexport const BadUrl = 8;              // <bad-url-token>\nexport const Delim = 9;               // <delim-token>\nexport const Number = 10;             // <number-token>\nexport const Percentage = 11;         // <percentage-token>\nexport const Dimension = 12;          // <dimension-token>\nexport const WhiteSpace = 13;         // <whitespace-token>\nexport const CDO = 14;                // <CDO-token>\nexport const CDC = 15;                // <CDC-token>\nexport const Colon = 16;              // <colon-token>     :\nexport const Semicolon = 17;          // <semicolon-token> ;\nexport const Comma = 18;              // <comma-token>     ,\nexport const LeftSquareBracket = 19;  // <[-token>\nexport const RightSquareBracket = 20; // <]-token>\nexport const LeftParenthesis = 21;    // <(-token>\nexport const RightParenthesis = 22;   // <)-token>\nexport const LeftCurlyBracket = 23;   // <{-token>\nexport const RightCurlyBracket = 24;  // <}-token>\nexport const Comment = 25;\n",
    "const EOF = 0;\n\n// https://drafts.csswg.org/css-syntax-3/\n// § 4.2. Definitions\n\n// digit\n// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).\nexport function isDigit(code) {\n    return code >= 0x0030 && code <= 0x0039;\n}\n\n// hex digit\n// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),\n// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).\nexport function isHexDigit(code) {\n    return (\n        isDigit(code) || // 0 .. 9\n        (code >= 0x0041 && code <= 0x0046) || // A .. F\n        (code >= 0x0061 && code <= 0x0066)    // a .. f\n    );\n}\n\n// uppercase letter\n// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).\nexport function isUppercaseLetter(code) {\n    return code >= 0x0041 && code <= 0x005A;\n}\n\n// lowercase letter\n// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).\nexport function isLowercaseLetter(code) {\n    return code >= 0x0061 && code <= 0x007A;\n}\n\n// letter\n// An uppercase letter or a lowercase letter.\nexport function isLetter(code) {\n    return isUppercaseLetter(code) || isLowercaseLetter(code);\n}\n\n// non-ASCII code point\n// A code point with a value equal to or greater than U+0080 <control>.\n//\n// 2024-09-02: The latest spec narrows the range for non-ASCII characters (see https://github.com/csstree/csstree/issues/188).\n// However, all modern browsers support a wider range, and strictly following the latest spec could result\n// in some CSS being parsed incorrectly, even though it works in the browser. Therefore, this function adheres\n// to the previous, broader definition of non-ASCII characters.\nexport function isNonAscii(code) {\n    return code >= 0x0080;\n}\n\n// name-start code point\n// A letter, a non-ASCII code point, or U+005F LOW LINE (_).\nexport function isNameStart(code) {\n    return isLetter(code) || isNonAscii(code) || code === 0x005F;\n}\n\n// name code point\n// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).\nexport function isName(code) {\n    return isNameStart(code) || isDigit(code) || code === 0x002D;\n}\n\n// non-printable code point\n// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,\n// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.\nexport function isNonPrintable(code) {\n    return (\n        (code >= 0x0000 && code <= 0x0008) ||\n        (code === 0x000B) ||\n        (code >= 0x000E && code <= 0x001F) ||\n        (code === 0x007F)\n    );\n}\n\n// newline\n// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,\n// as they are converted to U+000A LINE FEED during preprocessing.\n// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED\nexport function isNewline(code) {\n    return code === 0x000A || code === 0x000D || code === 0x000C;\n}\n\n// whitespace\n// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\nexport function isWhiteSpace(code) {\n    return isNewline(code) || code === 0x0020 || code === 0x0009;\n}\n\n// § 4.3.8. Check if two code points are a valid escape\nexport function isValidEscape(first, second) {\n    // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n    if (first !== 0x005C) {\n        return false;\n    }\n\n    // Otherwise, if the second code point is a newline or EOF, return false.\n    if (isNewline(second) || second === EOF) {\n        return false;\n    }\n\n    // Otherwise, return true.\n    return true;\n}\n\n// § 4.3.9. Check if three code points would start an identifier\nexport function isIdentifierStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002D HYPHEN-MINUS\n    if (first === 0x002D) {\n        // If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,\n        // or the second and third code points are a valid escape, return true. Otherwise, return false.\n        return (\n            isNameStart(second) ||\n            second === 0x002D ||\n            isValidEscape(second, third)\n        );\n    }\n\n    // name-start code point\n    if (isNameStart(first)) {\n        // Return true.\n        return true;\n    }\n\n    // U+005C REVERSE SOLIDUS (\\)\n    if (first === 0x005C) {\n        // If the first and second code points are a valid escape, return true. Otherwise, return false.\n        return isValidEscape(first, second);\n    }\n\n    // anything else\n    // Return false.\n    return false;\n}\n\n// § 4.3.10. Check if three code points would start a number\nexport function isNumberStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    if (first === 0x002B || first === 0x002D) {\n        // If the second code point is a digit, return true.\n        if (isDigit(second)) {\n            return 2;\n        }\n\n        // Otherwise, if the second code point is a U+002E FULL STOP (.)\n        // and the third code point is a digit, return true.\n        // Otherwise, return false.\n        return second === 0x002E && isDigit(third) ? 3 : 0;\n    }\n\n    // U+002E FULL STOP (.)\n    if (first === 0x002E) {\n        // If the second code point is a digit, return true. Otherwise, return false.\n        return isDigit(second) ? 2 : 0;\n    }\n\n    // digit\n    if (isDigit(first)) {\n        // Return true.\n        return 1;\n    }\n\n    // anything else\n    // Return false.\n    return 0;\n}\n\n//\n// Misc\n//\n\n// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)\nexport function isBOM(code) {\n    // UTF-16BE\n    if (code === 0xFEFF) {\n        return 1;\n    }\n\n    // UTF-16LE\n    if (code === 0xFFFE) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Fast code category\n// Only ASCII code points has a special meaning, that's why we define a maps for 0..127 codes only\nconst CATEGORY = new Array(0x80);\nexport const EofCategory = 0x80;\nexport const WhiteSpaceCategory = 0x82;\nexport const DigitCategory = 0x83;\nexport const NameStartCategory = 0x84;\nexport const NonPrintableCategory = 0x85;\n\nfor (let i = 0; i < CATEGORY.length; i++) {\n    CATEGORY[i] =\n        isWhiteSpace(i) && WhiteSpaceCategory ||\n        isDigit(i) && DigitCategory ||\n        isNameStart(i) && NameStartCategory ||\n        isNonPrintable(i) && NonPrintableCategory ||\n        i || EofCategory;\n}\n\nexport function charCodeCategory(code) {\n    return code < 0x80 ? CATEGORY[code] : NameStartCategory;\n}\n",
    "import {\n    isDigit,\n    isHexDigit,\n    isUppercaseLetter,\n    isName,\n    isWhiteSpace,\n    isValidEscape\n} from './char-code-definitions.js';\n\nfunction getCharCode(source, offset) {\n    return offset < source.length ? source.charCodeAt(offset) : 0;\n}\n\nexport function getNewlineLength(source, offset, code) {\n    if (code === 13 /* \\r */ && getCharCode(source, offset + 1) === 10 /* \\n */) {\n        return 2;\n    }\n\n    return 1;\n}\n\nexport function cmpChar(testStr, offset, referenceCode) {\n    let code = testStr.charCodeAt(offset);\n\n    // code.toLowerCase() for A..Z\n    if (isUppercaseLetter(code)) {\n        code = code | 32;\n    }\n\n    return code === referenceCode;\n}\n\nexport function cmpStr(testStr, start, end, referenceStr) {\n    if (end - start !== referenceStr.length) {\n        return false;\n    }\n\n    if (start < 0 || end > testStr.length) {\n        return false;\n    }\n\n    for (let i = start; i < end; i++) {\n        const referenceCode = referenceStr.charCodeAt(i - start);\n        let testCode = testStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for A..Z\n        if (isUppercaseLetter(testCode)) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nexport function findWhiteSpaceStart(source, offset) {\n    for (; offset >= 0; offset--) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset + 1;\n}\n\nexport function findWhiteSpaceEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\nexport function findDecimalNumberEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isDigit(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.7. Consume an escaped code point\nexport function consumeEscaped(source, offset) {\n    // It assumes that the U+005C REVERSE SOLIDUS (\\) has already been consumed and\n    // that the next input code point has already been verified to be part of a valid escape.\n    offset += 2;\n\n    // hex digit\n    if (isHexDigit(getCharCode(source, offset - 1))) {\n        // Consume as many hex digits as possible, but no more than 5.\n        // Note that this means 1-6 hex digits have been consumed in total.\n        for (const maxOffset = Math.min(source.length, offset + 5); offset < maxOffset; offset++) {\n            if (!isHexDigit(getCharCode(source, offset))) {\n                break;\n            }\n        }\n\n        // If the next input code point is whitespace, consume it as well.\n        const code = getCharCode(source, offset);\n        if (isWhiteSpace(code)) {\n            offset += getNewlineLength(source, offset, code);\n        }\n    }\n\n    return offset;\n}\n\n// §4.3.11. Consume a name\n// Note: This algorithm does not do the verification of the first few code points that are necessary\n// to ensure the returned code points would constitute an <ident-token>. If that is the intended use,\n// ensure that the stream starts with an identifier before calling this algorithm.\nexport function consumeName(source, offset) {\n    // Let result initially be an empty string.\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        const code = source.charCodeAt(offset);\n\n        // name code point\n        if (isName(code)) {\n            // Append the code point to result.\n            continue;\n        }\n\n        // the stream starts with a valid escape\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point. Append the returned code point to result.\n            offset = consumeEscaped(source, offset) - 1;\n            continue;\n        }\n\n        // anything else\n        // Reconsume the current input code point. Return result.\n        break;\n    }\n\n    return offset;\n}\n\n// §4.3.12. Consume a number\nexport function consumeNumber(source, offset) {\n    let code = source.charCodeAt(offset);\n\n    // 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),\n    // consume it and append it to repr.\n    if (code === 0x002B || code === 0x002D) {\n        code = source.charCodeAt(offset += 1);\n    }\n\n    // 3. While the next input code point is a digit, consume it and append it to repr.\n    if (isDigit(code)) {\n        offset = findDecimalNumberEnd(source, offset + 1);\n        code = source.charCodeAt(offset);\n    }\n\n    // 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n    if (code === 0x002E && isDigit(source.charCodeAt(offset + 1))) {\n        // 4.1 Consume them.\n        // 4.2 Append them to repr.\n        offset += 2;\n\n        // 4.3 Set type to \"number\".\n        // TODO\n\n        // 4.4 While the next input code point is a digit, consume it and append it to repr.\n\n        offset = findDecimalNumberEnd(source, offset);\n    }\n\n    // 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)\n    // or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:\n    if (cmpChar(source, offset, 101 /* e */)) {\n        let sign = 0;\n        code = source.charCodeAt(offset + 1);\n\n        // ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...\n        if (code === 0x002D || code === 0x002B) {\n            sign = 1;\n            code = source.charCodeAt(offset + 2);\n        }\n\n        // ... followed by a digit\n        if (isDigit(code)) {\n            // 5.1 Consume them.\n            // 5.2 Append them to repr.\n\n            // 5.3 Set type to \"number\".\n            // TODO\n\n            // 5.4 While the next input code point is a digit, consume it and append it to repr.\n            offset = findDecimalNumberEnd(source, offset + 1 + sign + 1);\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.14. Consume the remnants of a bad url\n// ... its sole use is to consume enough of the input stream to reach a recovery point\n// where normal tokenizing can resume.\nexport function consumeBadUrlRemnants(source, offset) {\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        const code = source.charCodeAt(offset);\n\n        // U+0029 RIGHT PARENTHESIS ())\n        // EOF\n        if (code === 0x0029) {\n            // Return.\n            offset++;\n            break;\n        }\n\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point.\n            // Note: This allows an escaped right parenthesis (\"\\)\") to be encountered\n            // without ending the <bad-url-token>. This is otherwise identical to\n            // the \"anything else\" clause.\n            offset = consumeEscaped(source, offset);\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.7. Consume an escaped code point\n// Note: This algorithm assumes that escaped is valid without leading U+005C REVERSE SOLIDUS (\\)\nexport function decodeEscaped(escaped) {\n    // Single char escaped that's not a hex digit\n    if (escaped.length === 1 && !isHexDigit(escaped.charCodeAt(0))) {\n        return escaped[0];\n    }\n\n    // Interpret the hex digits as a hexadecimal number.\n    let code = parseInt(escaped, 16);\n\n    if (\n        (code === 0) ||                       // If this number is zero,\n        (code >= 0xD800 && code <= 0xDFFF) || // or is for a surrogate,\n        (code > 0x10FFFF)                     // or is greater than the maximum allowed code point\n    ) {\n        // ... return U+FFFD REPLACEMENT CHARACTER\n        code = 0xFFFD;\n    }\n\n    // Otherwise, return the code point with that value.\n    return String.fromCodePoint(code);\n}\n",
    "export default [\n    'EOF-token',\n    'ident-token',\n    'function-token',\n    'at-keyword-token',\n    'hash-token',\n    'string-token',\n    'bad-string-token',\n    'url-token',\n    'bad-url-token',\n    'delim-token',\n    'number-token',\n    'percentage-token',\n    'dimension-token',\n    'whitespace-token',\n    'CDO-token',\n    'CDC-token',\n    'colon-token',\n    'semicolon-token',\n    'comma-token',\n    '[-token',\n    ']-token',\n    '(-token',\n    ')-token',\n    '{-token',\n    '}-token',\n    'comment-token'\n];\n",
    "const MIN_SIZE = 16 * 1024;\n\nexport function adoptBuffer(buffer = null, size) {\n    if (buffer === null || buffer.length < size) {\n        return new Uint32Array(Math.max(size + 1024, MIN_SIZE));\n    }\n\n    return buffer;\n};\n",
    "import { adoptBuffer } from './adopt-buffer.js';\nimport { isBOM } from './char-code-definitions.js';\n\nconst N = 10;\nconst F = 12;\nconst R = 13;\n\nfunction computeLinesAndColumns(host) {\n    const source = host.source;\n    const sourceLength = source.length;\n    const startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n    const lines = adoptBuffer(host.lines, sourceLength);\n    const columns = adoptBuffer(host.columns, sourceLength);\n    let line = host.startLine;\n    let column = host.startColumn;\n\n    for (let i = startOffset; i < sourceLength; i++) {\n        const code = source.charCodeAt(i);\n\n        lines[i] = line;\n        columns[i] = column++;\n\n        if (code === N || code === R || code === F) {\n            if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n                i++;\n                lines[i] = line;\n                columns[i] = column;\n            }\n\n            line++;\n            column = 1;\n        }\n    }\n\n    lines[sourceLength] = line;\n    columns[sourceLength] = column;\n\n    host.lines = lines;\n    host.columns = columns;\n    host.computed = true;\n}\n\nexport class OffsetToLocation {\n    constructor(source, startOffset, startLine, startColumn) {\n        this.setSource(source, startOffset, startLine, startColumn);\n        this.lines = null;\n        this.columns = null;\n    }\n    setSource(source = '', startOffset = 0, startLine = 1, startColumn = 1) {\n        this.source = source;\n        this.startOffset = startOffset;\n        this.startLine = startLine;\n        this.startColumn = startColumn;\n        this.computed = false;\n    }\n    getLocation(offset, filename) {\n        if (!this.computed) {\n            computeLinesAndColumns(this);\n        }\n\n        return {\n            source: filename,\n            offset: this.startOffset + offset,\n            line: this.lines[offset],\n            column: this.columns[offset]\n        };\n    }\n    getLocationRange(start, end, filename) {\n        if (!this.computed) {\n            computeLinesAndColumns(this);\n        }\n\n        return {\n            source: filename,\n            start: {\n                offset: this.startOffset + start,\n                line: this.lines[start],\n                column: this.columns[start]\n            },\n            end: {\n                offset: this.startOffset + end,\n                line: this.lines[end],\n                column: this.columns[end]\n            }\n        };\n    }\n};\n",
    "import { adoptBuffer } from './adopt-buffer.js';\nimport { cmpStr } from './utils.js';\nimport tokenNames from './names.js';\nimport {\n    WhiteSpace,\n    Comment,\n    Delim,\n    EOF,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis,\n    LeftSquareBracket,\n    RightSquareBracket,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from './types.js';\n\nconst OFFSET_MASK = 0x00FFFFFF;\nconst TYPE_SHIFT = 24;\nconst balancePair = new Uint8Array(32); // 32b of memory ought to be enough for anyone (any number of tokens)\nbalancePair[FunctionToken] = RightParenthesis;\nbalancePair[LeftParenthesis] = RightParenthesis;\nbalancePair[LeftSquareBracket] = RightSquareBracket;\nbalancePair[LeftCurlyBracket] = RightCurlyBracket;\n\nfunction isBlockOpenerToken(tokenType) {\n    return balancePair[tokenType] !== 0;\n}\n\nexport class TokenStream {\n    constructor(source, tokenize) {\n        this.setSource(source, tokenize);\n    }\n    reset() {\n        this.eof = false;\n        this.tokenIndex = -1;\n        this.tokenType = 0;\n        this.tokenStart = this.firstCharOffset;\n        this.tokenEnd = this.firstCharOffset;\n    }\n    setSource(source = '', tokenize = () => {}) {\n        source = String(source || '');\n\n        const sourceLength = source.length;\n        const offsetAndType = adoptBuffer(this.offsetAndType, source.length + 1); // +1 because of eof-token\n        const balance = adoptBuffer(this.balance, source.length + 1);\n        let tokenCount = 0;\n        let firstCharOffset = -1;\n        let balanceCloseType = 0;\n        let balanceStart = source.length;\n\n        // capture buffers\n        this.offsetAndType = null;\n        this.balance = null;\n        balance.fill(0);\n\n        tokenize(source, (type, start, end) => {\n            const index = tokenCount++;\n\n            // type & offset\n            offsetAndType[index] = (type << TYPE_SHIFT) | end;\n\n            if (firstCharOffset === -1) {\n                firstCharOffset = start;\n            }\n\n            // balance\n            balance[index] = balanceStart;\n\n            if (type === balanceCloseType) {\n                const prevBalanceStart = balance[balanceStart];\n\n                // set reference to balance end for a block opener\n                balance[balanceStart] = index;\n\n                // pop state\n                balanceStart = prevBalanceStart;\n                balanceCloseType = balancePair[offsetAndType[prevBalanceStart] >> TYPE_SHIFT];\n            } else if (isBlockOpenerToken(type)) { // check for FunctionToken, <(-token>, <[-token> and <{-token>\n                // push state\n                balanceStart = index;\n                balanceCloseType = balancePair[type];\n            }\n        });\n\n        // finalize buffers\n        offsetAndType[tokenCount] = (EOF << TYPE_SHIFT) | sourceLength; // <EOF-token>\n        balance[tokenCount] = tokenCount; // prevents false positive balance match with any token\n\n        // reverse references from balance start to end\n        // tokens\n        //   token:   a ( [ b c ] d e ) {\n        //   index:   0 1 2 3 4 5 6 7 8 9\n        // before\n        //   balance: 0 8 5 2 2 2 1 1 1 0\n        //            - > > < < < < < < -\n        // after\n        //   balance: 9 8 5 5 5 2 8 8 1 9\n        //            > > > > > < > > < >\n        for (let i = 0; i < tokenCount; i++) {\n            const balanceStart = balance[i];\n\n            if (balanceStart <= i) {\n                const balanceEnd = balance[balanceStart];\n\n                if (balanceEnd !== i) {\n                    balance[i] = balanceEnd;\n                }\n            } else if (balanceStart > tokenCount) {\n                balance[i] = tokenCount;\n            }\n        }\n\n        // balance[0] = tokenCount;\n\n        this.source = source;\n        this.firstCharOffset = firstCharOffset === -1 ? 0 : firstCharOffset;\n        this.tokenCount = tokenCount;\n        this.offsetAndType = offsetAndType;\n        this.balance = balance;\n\n        this.reset();\n        this.next();\n    }\n\n    lookupType(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset] >> TYPE_SHIFT;\n        }\n\n        return EOF;\n    }\n    lookupTypeNonSC(idx) {\n        for (let offset = this.tokenIndex; offset < this.tokenCount; offset++) {\n            const tokenType = this.offsetAndType[offset] >> TYPE_SHIFT;\n\n            if (tokenType !== WhiteSpace && tokenType !== Comment) {\n                if (idx-- === 0) {\n                    return tokenType;\n                }\n            }\n        }\n\n        return EOF;\n    }\n    lookupOffset(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset - 1] & OFFSET_MASK;\n        }\n\n        return this.source.length;\n    }\n    lookupOffsetNonSC(idx) {\n        for (let offset = this.tokenIndex; offset < this.tokenCount; offset++) {\n            const tokenType = this.offsetAndType[offset] >> TYPE_SHIFT;\n\n            if (tokenType !== WhiteSpace && tokenType !== Comment) {\n                if (idx-- === 0) {\n                    return offset - this.tokenIndex;\n                }\n            }\n        }\n\n        return EOF;\n    }\n    lookupValue(offset, referenceStr) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return cmpStr(\n                this.source,\n                this.offsetAndType[offset - 1] & OFFSET_MASK,\n                this.offsetAndType[offset] & OFFSET_MASK,\n                referenceStr\n            );\n        }\n\n        return false;\n    }\n    getTokenStart(tokenIndex) {\n        if (tokenIndex === this.tokenIndex) {\n            return this.tokenStart;\n        }\n\n        if (tokenIndex > 0) {\n            return tokenIndex < this.tokenCount\n                ? this.offsetAndType[tokenIndex - 1] & OFFSET_MASK\n                : this.offsetAndType[this.tokenCount] & OFFSET_MASK;\n        }\n\n        return this.firstCharOffset;\n    }\n    substrToCursor(start) {\n        return this.source.substring(start, this.tokenStart);\n    }\n\n    isBalanceEdge(pos) {\n        return this.balance[this.tokenIndex] < pos;\n        // return this.balance[this.balance[pos]] !== this.tokenIndex;\n    }\n    isDelim(code, offset) {\n        if (offset) {\n            return (\n                this.lookupType(offset) === Delim &&\n                this.source.charCodeAt(this.lookupOffset(offset)) === code\n            );\n        }\n\n        return (\n            this.tokenType === Delim &&\n            this.source.charCodeAt(this.tokenStart) === code\n        );\n    }\n\n    skip(tokenCount) {\n        let next = this.tokenIndex + tokenCount;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.offsetAndType[next - 1] & OFFSET_MASK;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.next();\n        }\n    }\n    next() {\n        let next = this.tokenIndex + 1;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.tokenEnd;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.eof = true;\n            this.tokenIndex = this.tokenCount;\n            this.tokenType = EOF;\n            this.tokenStart = this.tokenEnd = this.source.length;\n        }\n    }\n    skipSC() {\n        while (this.tokenType === WhiteSpace || this.tokenType === Comment) {\n            this.next();\n        }\n    }\n    skipUntilBalanced(startToken, stopConsume) {\n        let cursor = startToken;\n        let balanceEnd = 0;\n        let offset = 0;\n\n        loop:\n        for (; cursor < this.tokenCount; cursor++) {\n            balanceEnd = this.balance[cursor];\n\n            // stop scanning on balance edge that points to offset before start token\n            if (balanceEnd < startToken) {\n                break loop;\n            }\n\n            offset = cursor > 0 ? this.offsetAndType[cursor - 1] & OFFSET_MASK : this.firstCharOffset;\n\n            // check stop condition\n            switch (stopConsume(this.source.charCodeAt(offset))) {\n                case 1: // just stop\n                    break loop;\n\n                case 2: // stop & included\n                    cursor++;\n                    break loop;\n\n                default:\n                    // fast forward to the end of balanced block for an open block tokens\n                    if (isBlockOpenerToken(this.offsetAndType[cursor] >> TYPE_SHIFT)) {\n                        cursor = balanceEnd;\n                    }\n            }\n        }\n\n        this.skip(cursor - this.tokenIndex);\n    }\n\n    forEachToken(fn) {\n        for (let i = 0, offset = this.firstCharOffset; i < this.tokenCount; i++) {\n            const start = offset;\n            const item = this.offsetAndType[i];\n            const end = item & OFFSET_MASK;\n            const type = item >> TYPE_SHIFT;\n\n            offset = end;\n\n            fn(type, start, end, i);\n        }\n    }\n    dump() {\n        const tokens = new Array(this.tokenCount);\n\n        this.forEachToken((type, start, end, index) => {\n            tokens[index] = {\n                idx: index,\n                type: tokenNames[type],\n                chunk: this.source.substring(start, end),\n                balance: this.balance[index]\n            };\n        });\n\n        return tokens;\n    }\n};\n",
    "import * as TYPE from './types.js';\nimport {\n    isNewline,\n    isName,\n    isValidEscape,\n    isNumberStart,\n    isIdentifierStart,\n    isBOM,\n    charCodeCategory,\n    WhiteSpaceCategory,\n    DigitCategory,\n    NameStartCategory,\n    NonPrintableCategory\n} from './char-code-definitions.js';\nimport {\n    cmpStr,\n    getNewlineLength,\n    findWhiteSpaceEnd,\n    consumeEscaped,\n    consumeName,\n    consumeNumber,\n    consumeBadUrlRemnants\n} from './utils.js';\n\nexport function tokenize(source, onToken) {\n    function getCharCode(offset) {\n        return offset < sourceLength ? source.charCodeAt(offset) : 0;\n    }\n\n    // § 4.3.3. Consume a numeric token\n    function consumeNumericToken() {\n        // Consume a number and let number be the result.\n        offset = consumeNumber(source, offset);\n\n        // If the next 3 input code points would start an identifier, then:\n        if (isIdentifierStart(getCharCode(offset), getCharCode(offset + 1), getCharCode(offset + 2))) {\n            // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n            // Consume a name. Set the <dimension-token>’s unit to the returned value.\n            // Return the <dimension-token>.\n            type = TYPE.Dimension;\n            offset = consumeName(source, offset);\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n        if (getCharCode(offset) === 0x0025) {\n            // Create a <percentage-token> with the same value as number, and return it.\n            type = TYPE.Percentage;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n        type = TYPE.Number;\n    }\n\n    // § 4.3.4. Consume an ident-like token\n    function consumeIdentLikeToken() {\n        const nameStartOffset = offset;\n\n        // Consume a name, and let string be the result.\n        offset = consumeName(source, offset);\n\n        // If string’s value is an ASCII case-insensitive match for \"url\",\n        // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        if (cmpStr(source, nameStartOffset, offset, 'url') && getCharCode(offset) === 0x0028) {\n            // While the next two input code points are whitespace, consume the next input code point.\n            offset = findWhiteSpaceEnd(source, offset + 1);\n\n            // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n            // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n            // then create a <function-token> with its value set to string and return it.\n            if (getCharCode(offset) === 0x0022 ||\n                getCharCode(offset) === 0x0027) {\n                type = TYPE.Function;\n                offset = nameStartOffset + 4;\n                return;\n            }\n\n            // Otherwise, consume a url token, and return it.\n            consumeUrlToken();\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        // Create a <function-token> with its value set to string and return it.\n        if (getCharCode(offset) === 0x0028) {\n            type = TYPE.Function;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create an <ident-token> with its value set to string and return it.\n        type = TYPE.Ident;\n    }\n\n    // § 4.3.5. Consume a string token\n    function consumeStringToken(endingCodePoint) {\n        // This algorithm may be called with an ending code point, which denotes the code point\n        // that ends the string. If an ending code point is not specified,\n        // the current input code point is used.\n        if (!endingCodePoint) {\n            endingCodePoint = getCharCode(offset++);\n        }\n\n        // Initially create a <string-token> with its value set to the empty string.\n        type = TYPE.String;\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            const code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // ending code point\n                case endingCodePoint:\n                    // Return the <string-token>.\n                    offset++;\n                    return;\n\n                    // EOF\n                    // case EofCategory:\n                    // This is a parse error. Return the <string-token>.\n                    // return;\n\n                // newline\n                case WhiteSpaceCategory:\n                    if (isNewline(code)) {\n                        // This is a parse error. Reconsume the current input code point,\n                        // create a <bad-string-token>, and return it.\n                        offset += getNewlineLength(source, offset, code);\n                        type = TYPE.BadString;\n                        return;\n                    }\n                    break;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the next input code point is EOF, do nothing.\n                    if (offset === source.length - 1) {\n                        break;\n                    }\n\n                    const nextCode = getCharCode(offset + 1);\n\n                    // Otherwise, if the next input code point is a newline, consume it.\n                    if (isNewline(nextCode)) {\n                        offset += getNewlineLength(source, offset + 1, nextCode);\n                    } else if (isValidEscape(code, nextCode)) {\n                        // Otherwise, (the stream starts with a valid escape) consume\n                        // an escaped code point and append the returned code point to\n                        // the <string-token>’s value.\n                        offset = consumeEscaped(source, offset) - 1;\n                    }\n                    break;\n\n                // anything else\n                // Append the current input code point to the <string-token>’s value.\n            }\n        }\n    }\n\n    // § 4.3.6. Consume a url token\n    // Note: This algorithm assumes that the initial \"url(\" has already been consumed.\n    // This algorithm also assumes that it’s being called to consume an \"unquoted\" value, like url(foo).\n    // A quoted value, like url(\"foo\"), is parsed as a <function-token>. Consume an ident-like token\n    // automatically handles this distinction; this algorithm shouldn’t be called directly otherwise.\n    function consumeUrlToken() {\n        // Initially create a <url-token> with its value set to the empty string.\n        type = TYPE.Url;\n\n        // Consume as much whitespace as possible.\n        offset = findWhiteSpaceEnd(source, offset);\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            const code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // U+0029 RIGHT PARENTHESIS ())\n                case 0x0029:\n                    // Return the <url-token>.\n                    offset++;\n                    return;\n\n                    // EOF\n                    // case EofCategory:\n                    // This is a parse error. Return the <url-token>.\n                    // return;\n\n                // whitespace\n                case WhiteSpaceCategory:\n                    // Consume as much whitespace as possible.\n                    offset = findWhiteSpaceEnd(source, offset);\n\n                    // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n                    // consume it and return the <url-token>\n                    // (if EOF was encountered, this is a parse error);\n                    if (getCharCode(offset) === 0x0029 || offset >= source.length) {\n                        if (offset < source.length) {\n                            offset++;\n                        }\n                        return;\n                    }\n\n                    // otherwise, consume the remnants of a bad url, create a <bad-url-token>,\n                    // and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+0022 QUOTATION MARK (\")\n                // U+0027 APOSTROPHE (')\n                // U+0028 LEFT PARENTHESIS (()\n                // non-printable code point\n                case 0x0022:\n                case 0x0027:\n                case 0x0028:\n                case NonPrintableCategory:\n                    // This is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the stream starts with a valid escape, consume an escaped code point and\n                    // append the returned code point to the <url-token>’s value.\n                    if (isValidEscape(code, getCharCode(offset + 1))) {\n                        offset = consumeEscaped(source, offset) - 1;\n                        break;\n                    }\n\n                    // Otherwise, this is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // anything else\n                // Append the current input code point to the <url-token>’s value.\n            }\n        }\n    }\n\n    // ensure source is a string\n    source = String(source || '');\n\n    const sourceLength = source.length;\n    let start = isBOM(getCharCode(0));\n    let offset = start;\n    let type;\n\n    // https://drafts.csswg.org/css-syntax-3/#consume-token\n    // § 4.3.1. Consume a token\n    while (offset < sourceLength) {\n        const code = source.charCodeAt(offset);\n\n        switch (charCodeCategory(code)) {\n            // whitespace\n            case WhiteSpaceCategory:\n                // Consume as much whitespace as possible. Return a <whitespace-token>.\n                type = TYPE.WhiteSpace;\n                offset = findWhiteSpaceEnd(source, offset + 1);\n                break;\n\n            // U+0022 QUOTATION MARK (\")\n            case 0x0022:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0023 NUMBER SIGN (#)\n            case 0x0023:\n                // If the next input code point is a name code point or the next two input code points are a valid escape, then:\n                if (isName(getCharCode(offset + 1)) || isValidEscape(getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // Create a <hash-token>.\n                    type = TYPE.Hash;\n\n                    // If the next 3 input code points would start an identifier, set the <hash-token>’s type flag to \"id\".\n                    // if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    //     // TODO: set id flag\n                    // }\n\n                    // Consume a name, and set the <hash-token>’s value to the returned string.\n                    offset = consumeName(source, offset + 1);\n\n                    // Return the <hash-token>.\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0027 APOSTROPHE (')\n            case 0x0027:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0028 LEFT PARENTHESIS (()\n            case 0x0028:\n                // Return a <(-token>.\n                type = TYPE.LeftParenthesis;\n                offset++;\n                break;\n\n            // U+0029 RIGHT PARENTHESIS ())\n            case 0x0029:\n                // Return a <)-token>.\n                type = TYPE.RightParenthesis;\n                offset++;\n                break;\n\n            // U+002B PLUS SIGN (+)\n            case 0x002B:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+002C COMMA (,)\n            case 0x002C:\n                // Return a <comma-token>.\n                type = TYPE.Comma;\n                offset++;\n                break;\n\n            // U+002D HYPHEN-MINUS (-)\n            case 0x002D:\n                // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n                    if (getCharCode(offset + 1) === 0x002D &&\n                        getCharCode(offset + 2) === 0x003E) {\n                        type = TYPE.CDC;\n                        offset = offset + 3;\n                    } else {\n                        // Otherwise, if the input stream starts with an identifier, ...\n                        if (isIdentifierStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                            // ... reconsume the current input code point, consume an ident-like token, and return it.\n                            consumeIdentLikeToken();\n                        } else {\n                            // Otherwise, return a <delim-token> with its value set to the current input code point.\n                            type = TYPE.Delim;\n                            offset++;\n                        }\n                    }\n                }\n                break;\n\n            // U+002E FULL STOP (.)\n            case 0x002E:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+002F SOLIDUS (/)\n            case 0x002F:\n                // If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),\n                if (getCharCode(offset + 1) === 0x002A) {\n                    // ... consume them and all following code points up to and including the first U+002A ASTERISK (*)\n                    // followed by a U+002F SOLIDUS (/), or up to an EOF code point.\n                    type = TYPE.Comment;\n                    offset = source.indexOf('*/', offset + 2);\n                    offset = offset === -1 ? source.length : offset + 2;\n                } else {\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+003A COLON (:)\n            case 0x003A:\n                // Return a <colon-token>.\n                type = TYPE.Colon;\n                offset++;\n                break;\n\n            // U+003B SEMICOLON (;)\n            case 0x003B:\n                // Return a <semicolon-token>.\n                type = TYPE.Semicolon;\n                offset++;\n                break;\n\n            // U+003C LESS-THAN SIGN (<)\n            case 0x003C:\n                // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...\n                if (getCharCode(offset + 1) === 0x0021 &&\n                    getCharCode(offset + 2) === 0x002D &&\n                    getCharCode(offset + 3) === 0x002D) {\n                    // ... consume them and return a <CDO-token>.\n                    type = TYPE.CDO;\n                    offset = offset + 4;\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0040 COMMERCIAL AT (@)\n            case 0x0040:\n                // If the next 3 input code points would start an identifier, ...\n                if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    // ... consume a name, create an <at-keyword-token> with its value set to the returned value, and return it.\n                    type = TYPE.AtKeyword;\n                    offset = consumeName(source, offset + 1);\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+005B LEFT SQUARE BRACKET ([)\n            case 0x005B:\n                // Return a <[-token>.\n                type = TYPE.LeftSquareBracket;\n                offset++;\n                break;\n\n            // U+005C REVERSE SOLIDUS (\\)\n            case 0x005C:\n                // If the input stream starts with a valid escape, ...\n                if (isValidEscape(code, getCharCode(offset + 1))) {\n                    // ... reconsume the current input code point, consume an ident-like token, and return it.\n                    consumeIdentLikeToken();\n                } else {\n                    // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+005D RIGHT SQUARE BRACKET (])\n            case 0x005D:\n                // Return a <]-token>.\n                type = TYPE.RightSquareBracket;\n                offset++;\n                break;\n\n            // U+007B LEFT CURLY BRACKET ({)\n            case 0x007B:\n                // Return a <{-token>.\n                type = TYPE.LeftCurlyBracket;\n                offset++;\n                break;\n\n            // U+007D RIGHT CURLY BRACKET (})\n            case 0x007D:\n                // Return a <}-token>.\n                type = TYPE.RightCurlyBracket;\n                offset++;\n                break;\n\n            // digit\n            case DigitCategory:\n                // Reconsume the current input code point, consume a numeric token, and return it.\n                consumeNumericToken();\n                break;\n\n            // name-start code point\n            case NameStartCategory:\n                // Reconsume the current input code point, consume an ident-like token, and return it.\n                consumeIdentLikeToken();\n                break;\n\n                // EOF\n                // case EofCategory:\n                // Return an <EOF-token>.\n                // break;\n\n            // anything else\n            default:\n                // Return a <delim-token> with its value set to the current input code point.\n                type = TYPE.Delim;\n                offset++;\n        }\n\n        // put token to stream\n        onToken(type, start, start = offset);\n    }\n}\n\nexport * from './types.js';\nexport * as tokenTypes from './types.js';\nexport { default as tokenNames } from './names.js';\nexport * from './char-code-definitions.js';\nexport * from './utils.js';\nexport * from './OffsetToLocation.js';\nexport * from './TokenStream.js';\n",
    "//\n//                              list\n//                            ┌──────┐\n//             ┌──────────────┼─head │\n//             │              │ tail─┼──────────────┐\n//             │              └──────┘              │\n//             ▼                                    ▼\n//            item        item        item        item\n//          ┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐\n//  null ◀──┼─prev │◀───┼─prev │◀───┼─prev │◀───┼─prev │\n//          │ next─┼───▶│ next─┼───▶│ next─┼───▶│ next─┼──▶ null\n//          ├──────┤    ├──────┤    ├──────┤    ├──────┤\n//          │ data │    │ data │    │ data │    │ data │\n//          └──────┘    └──────┘    └──────┘    └──────┘\n//\n\nlet releasedCursors = null;\n\nexport class List {\n    static createItem(data) {\n        return {\n            prev: null,\n            next: null,\n            data\n        };\n    }\n\n    constructor() {\n        this.head = null;\n        this.tail = null;\n        this.cursor = null;\n    }\n    createItem(data) {\n        return List.createItem(data);\n    }\n\n    // cursor helpers\n    allocateCursor(prev, next) {\n        let cursor;\n\n        if (releasedCursors !== null) {\n            cursor = releasedCursors;\n            releasedCursors = releasedCursors.cursor;\n            cursor.prev = prev;\n            cursor.next = next;\n            cursor.cursor = this.cursor;\n        } else {\n            cursor = {\n                prev,\n                next,\n                cursor: this.cursor\n            };\n        }\n\n        this.cursor = cursor;\n\n        return cursor;\n    }\n    releaseCursor() {\n        const { cursor } = this;\n\n        this.cursor = cursor.cursor;\n        cursor.prev = null;\n        cursor.next = null;\n        cursor.cursor = releasedCursors;\n        releasedCursors = cursor;\n    }\n    updateCursors(prevOld, prevNew, nextOld, nextNew) {\n        let { cursor } = this;\n\n        while (cursor !== null) {\n            if (cursor.prev === prevOld) {\n                cursor.prev = prevNew;\n            }\n\n            if (cursor.next === nextOld) {\n                cursor.next = nextNew;\n            }\n\n            cursor = cursor.cursor;\n        }\n    }\n    *[Symbol.iterator]() {\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            yield cursor.data;\n        }\n    }\n\n    // getters\n    get size() {\n        let size = 0;\n\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            size++;\n        }\n\n        return size;\n    }\n    get isEmpty() {\n        return this.head === null;\n    }\n    get first() {\n        return this.head && this.head.data;\n    }\n    get last() {\n        return this.tail && this.tail.data;\n    }\n\n    // convertors\n    fromArray(array) {\n        let cursor = null;\n        this.head = null;\n\n        for (let data of array) {\n            const item = List.createItem(data);\n\n            if (cursor !== null) {\n                cursor.next = item;\n            } else {\n                this.head = item;\n            }\n\n            item.prev = cursor;\n            cursor = item;\n        }\n\n        this.tail = cursor;\n        return this;\n    }\n    toArray() {\n        return [...this];\n    }\n    toJSON() {\n        return [...this];\n    }\n\n    // array-like methods\n    forEach(fn, thisArg = this) {\n        // push cursor\n        const cursor = this.allocateCursor(null, this.head);\n\n        while (cursor.next !== null) {\n            const item = cursor.next;\n            cursor.next = item.next;\n            fn.call(thisArg, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n    forEachRight(fn, thisArg = this) {\n        // push cursor\n        const cursor = this.allocateCursor(this.tail, null);\n\n        while (cursor.prev !== null) {\n            const item = cursor.prev;\n            cursor.prev = item.prev;\n            fn.call(thisArg, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n    reduce(fn, initialValue, thisArg = this) {\n        // push cursor\n        let cursor = this.allocateCursor(null, this.head);\n        let acc = initialValue;\n        let item;\n\n        while (cursor.next !== null) {\n            item = cursor.next;\n            cursor.next = item.next;\n\n            acc = fn.call(thisArg, acc, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n\n        return acc;\n    }\n    reduceRight(fn, initialValue, thisArg = this) {\n        // push cursor\n        let cursor = this.allocateCursor(this.tail, null);\n        let acc = initialValue;\n        let item;\n\n        while (cursor.prev !== null) {\n            item = cursor.prev;\n            cursor.prev = item.prev;\n\n            acc = fn.call(thisArg, acc, item.data, item, this);\n        }\n\n        // pop cursor\n        this.releaseCursor();\n\n        return acc;\n    }\n    some(fn, thisArg = this) {\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            if (fn.call(thisArg, cursor.data, cursor, this)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n    map(fn, thisArg = this) {\n        const result = new List();\n\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            result.appendData(fn.call(thisArg, cursor.data, cursor, this));\n        }\n\n        return result;\n    }\n    filter(fn, thisArg = this) {\n        const result = new List();\n\n        for (let cursor = this.head; cursor !== null; cursor = cursor.next) {\n            if (fn.call(thisArg, cursor.data, cursor, this)) {\n                result.appendData(cursor.data);\n            }\n        }\n\n        return result;\n    }\n\n    nextUntil(start, fn, thisArg = this) {\n        if (start === null) {\n            return;\n        }\n\n        // push cursor\n        const cursor = this.allocateCursor(null, start);\n\n        while (cursor.next !== null) {\n            const item = cursor.next;\n            cursor.next = item.next;\n            if (fn.call(thisArg, item.data, item, this)) {\n                break;\n            }\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n    prevUntil(start, fn, thisArg = this) {\n        if (start === null) {\n            return;\n        }\n\n        // push cursor\n        const cursor = this.allocateCursor(start, null);\n\n        while (cursor.prev !== null) {\n            const item = cursor.prev;\n            cursor.prev = item.prev;\n            if (fn.call(thisArg, item.data, item, this)) {\n                break;\n            }\n        }\n\n        // pop cursor\n        this.releaseCursor();\n    }\n\n    // mutation\n    clear() {\n        this.head = null;\n        this.tail = null;\n    }\n    copy() {\n        const result = new List();\n\n        for (let data of this) {\n            result.appendData(data);\n        }\n\n        return result;\n    }\n    prepend(item) {\n        //      head\n        //    ^\n        // item\n        this.updateCursors(null, item, this.head, item);\n\n        // insert to the beginning of the list\n        if (this.head !== null) {\n            // new item <- first item\n            this.head.prev = item;\n            // new item -> first item\n            item.next = this.head;\n        } else {\n            // if list has no head, then it also has no tail\n            // in this case tail points to the new item\n            this.tail = item;\n        }\n\n        // head always points to new item\n        this.head = item;\n        return this;\n    }\n    prependData(data) {\n        return this.prepend(List.createItem(data));\n    }\n    append(item) {\n        return this.insert(item);\n    }\n    appendData(data) {\n        return this.insert(List.createItem(data));\n    }\n    insert(item, before = null) {\n        if (before !== null) {\n            // prev   before\n            //      ^\n            //     item\n            this.updateCursors(before.prev, item, before, item);\n\n            if (before.prev === null) {\n                // insert to the beginning of list\n                if (this.head !== before) {\n                    throw new Error('before doesn\\'t belong to list');\n                }\n                // since head points to before therefore list doesn't empty\n                // no need to check tail\n                this.head = item;\n                before.prev = item;\n                item.next = before;\n                this.updateCursors(null, item);\n            } else {\n                // insert between two items\n                before.prev.next = item;\n                item.prev = before.prev;\n                before.prev = item;\n                item.next = before;\n            }\n        } else {\n            // tail\n            //      ^\n            //      item\n            this.updateCursors(this.tail, item, null, item);\n\n            // insert to the ending of the list\n            if (this.tail !== null) {\n                // last item -> new item\n                this.tail.next = item;\n                // last item <- new item\n                item.prev = this.tail;\n            } else {\n                // if list has no tail, then it also has no head\n                // in this case head points to new item\n                this.head = item;\n            }\n\n            // tail always points to new item\n            this.tail = item;\n        }\n\n        return this;\n    }\n    insertData(data, before) {\n        return this.insert(List.createItem(data), before);\n    }\n    remove(item) {\n        //      item\n        //       ^\n        // prev     next\n        this.updateCursors(item, item.prev, item, item.next);\n\n        if (item.prev !== null) {\n            item.prev.next = item.next;\n        } else {\n            if (this.head !== item) {\n                throw new Error('item doesn\\'t belong to list');\n            }\n\n            this.head = item.next;\n        }\n\n        if (item.next !== null) {\n            item.next.prev = item.prev;\n        } else {\n            if (this.tail !== item) {\n                throw new Error('item doesn\\'t belong to list');\n            }\n\n            this.tail = item.prev;\n        }\n\n        item.prev = null;\n        item.next = null;\n\n        return item;\n    }\n    push(data) {\n        this.insert(List.createItem(data));\n    }\n    pop() {\n        return this.tail !== null ? this.remove(this.tail) : null;\n    }\n    unshift(data) {\n        this.prepend(List.createItem(data));\n    }\n    shift() {\n        return this.head !== null ? this.remove(this.head) : null;\n    }\n    prependList(list) {\n        return this.insertList(list, this.head);\n    }\n    appendList(list) {\n        return this.insertList(list);\n    }\n    insertList(list, before) {\n        // ignore empty lists\n        if (list.head === null) {\n            return this;\n        }\n\n        if (before !== undefined && before !== null) {\n            this.updateCursors(before.prev, list.tail, before, list.head);\n\n            // insert in the middle of dist list\n            if (before.prev !== null) {\n                // before.prev <-> list.head\n                before.prev.next = list.head;\n                list.head.prev = before.prev;\n            } else {\n                this.head = list.head;\n            }\n\n            before.prev = list.tail;\n            list.tail.next = before;\n        } else {\n            this.updateCursors(this.tail, list.tail, null, list.head);\n\n            // insert to end of the list\n            if (this.tail !== null) {\n                // if destination list has a tail, then it also has a head,\n                // but head doesn't change\n                // dest tail -> source head\n                this.tail.next = list.head;\n                // dest tail <- source head\n                list.head.prev = this.tail;\n            } else {\n                // if list has no a tail, then it also has no a head\n                // in this case points head to new item\n                this.head = list.head;\n            }\n\n            // tail always start point to new item\n            this.tail = list.tail;\n        }\n\n        list.head = null;\n        list.tail = null;\n        return this;\n    }\n    replace(oldItem, newItemOrList) {\n        if ('head' in newItemOrList) {\n            this.insertList(newItemOrList, oldItem);\n        } else {\n            this.insert(newItemOrList, oldItem);\n        }\n\n        this.remove(oldItem);\n    }\n}\n",
    "export function createCustomError(name, message) {\n    // use Object.create(), because some VMs prevent setting line/column otherwise\n    // (iOS Safari 10 even throws an exception)\n    const error = Object.create(SyntaxError.prototype);\n    const errorStack = new Error();\n\n    return Object.assign(error, {\n        name,\n        message,\n        get stack() {\n            return (errorStack.stack || '').replace(/^(.+\\n){1,3}/, `${name}: ${message}\\n`);\n        }\n    });\n};\n",
    "import { createCustomError } from '../utils/create-custom-error.js';\n\nconst MAX_LINE_LENGTH = 100;\nconst OFFSET_CORRECTION = 60;\nconst TAB_REPLACEMENT = '    ';\n\nfunction sourceFragment({ source, line, column, baseLine, baseColumn }, extraLines) {\n    function processLines(start, end) {\n        return lines\n            .slice(start, end)\n            .map((line, idx) =>\n                String(start + idx + 1).padStart(maxNumLength) + ' |' + line\n            ).join('\\n');\n    }\n\n    const prelines = '\\n'.repeat(Math.max(baseLine - 1, 0));\n    const precolumns = ' '.repeat(Math.max(baseColumn - 1, 0));\n    const lines = (prelines + precolumns + source).split(/\\r\\n?|\\n|\\f/);\n    const startLine = Math.max(1, line - extraLines) - 1;\n    const endLine = Math.min(line + extraLines, lines.length + 1);\n    const maxNumLength = Math.max(4, String(endLine).length) + 1;\n    let cutLeft = 0;\n\n    // column correction according to replaced tab before column\n    column += (TAB_REPLACEMENT.length - 1) * (lines[line - 1].substr(0, column - 1).match(/\\t/g) || []).length;\n\n    if (column > MAX_LINE_LENGTH) {\n        cutLeft = column - OFFSET_CORRECTION + 3;\n        column = OFFSET_CORRECTION - 2;\n    }\n\n    for (let i = startLine; i <= endLine; i++) {\n        if (i >= 0 && i < lines.length) {\n            lines[i] = lines[i].replace(/\\t/g, TAB_REPLACEMENT);\n            lines[i] =\n                (cutLeft > 0 && lines[i].length > cutLeft ? '\\u2026' : '') +\n                lines[i].substr(cutLeft, MAX_LINE_LENGTH - 2) +\n                (lines[i].length > cutLeft + MAX_LINE_LENGTH - 1 ? '\\u2026' : '');\n        }\n    }\n\n    return [\n        processLines(startLine, line),\n        new Array(column + maxNumLength + 2).join('-') + '^',\n        processLines(line, endLine)\n    ].filter(Boolean)\n        .join('\\n')\n        .replace(/^(\\s+\\d+\\s+\\|\\n)+/, '')\n        .replace(/\\n(\\s+\\d+\\s+\\|)+$/, '');\n}\n\nexport function SyntaxError(message, source, offset, line, column, baseLine = 1, baseColumn = 1) {\n    const error = Object.assign(createCustomError('SyntaxError', message), {\n        source,\n        offset,\n        line,\n        column,\n        sourceFragment(extraLines) {\n            return sourceFragment({ source, line, column, baseLine, baseColumn }, isNaN(extraLines) ? 0 : extraLines);\n        },\n        get formattedMessage() {\n            return (\n                `Parse error: ${message}\\n` +\n                sourceFragment({ source, line, column, baseLine, baseColumn }, 2)\n            );\n        }\n    });\n\n    return error;\n}\n",
    "import { WhiteSpace, Comment } from '../tokenizer/index.js';\n\nexport function readSequence(recognizer) {\n    const children = this.createList();\n    let space = false;\n    const context = {\n        recognizer\n    };\n\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case Comment:\n                this.next();\n                continue;\n\n            case WhiteSpace:\n                space = true;\n                this.next();\n                continue;\n        }\n\n        let child = recognizer.getNode.call(this, context);\n\n        if (child === undefined) {\n            break;\n        }\n\n        if (space) {\n            if (recognizer.onWhiteSpace) {\n                recognizer.onWhiteSpace.call(this, child, children, context);\n            }\n            space = false;\n        }\n\n        children.push(child);\n    }\n\n    if (space && recognizer.onWhiteSpace) {\n        recognizer.onWhiteSpace.call(this, null, children, context);\n    }\n\n    return children;\n};\n",
    "import { List } from '../utils/List.js';\nimport { SyntaxError } from './SyntaxError.js';\nimport {\n    tokenize,\n    OffsetToLocation,\n    TokenStream,\n    tokenNames,\n\n    consumeNumber,\n    findWhiteSpaceStart,\n    cmpChar,\n    cmpStr,\n\n    WhiteSpace,\n    Comment,\n    Ident,\n    Function as FunctionToken,\n    Url,\n    Hash,\n    Percentage,\n    Number as NumberToken\n} from '../tokenizer/index.js';\nimport { readSequence } from './sequence.js';\n\nconst NOOP = () => {};\nconst EXCLAMATIONMARK = 0x0021;  // U+0021 EXCLAMATION MARK (!)\nconst NUMBERSIGN = 0x0023;       // U+0023 NUMBER SIGN (#)\nconst SEMICOLON = 0x003B;        // U+003B SEMICOLON (;)\nconst LEFTCURLYBRACKET = 0x007B; // U+007B LEFT CURLY BRACKET ({)\nconst NULL = 0;\n\nfunction createParseContext(name) {\n    return function() {\n        return this[name]();\n    };\n}\n\nfunction fetchParseValues(dict) {\n    const result = Object.create(null);\n\n    for (const name of Object.keys(dict)) {\n        const item = dict[name];\n        const fn = item.parse || item;\n\n        if (fn) {\n            result[name] = fn;\n        }\n    }\n\n    return result;\n}\n\nfunction processConfig(config) {\n    const parseConfig = {\n        context: Object.create(null),\n        features: Object.assign(Object.create(null), config.features),\n        scope: Object.assign(Object.create(null), config.scope),\n        atrule: fetchParseValues(config.atrule),\n        pseudo: fetchParseValues(config.pseudo),\n        node: fetchParseValues(config.node)\n    };\n\n    for (const [name, context] of Object.entries(config.parseContext)) {\n        switch (typeof context) {\n            case 'function':\n                parseConfig.context[name] = context;\n                break;\n\n            case 'string':\n                parseConfig.context[name] = createParseContext(context);\n                break;\n        }\n    }\n\n    return {\n        config: parseConfig,\n        ...parseConfig,\n        ...parseConfig.node\n    };\n}\n\nexport function createParser(config) {\n    let source = '';\n    let filename = '<unknown>';\n    let needPositions = false;\n    let onParseError = NOOP;\n    let onParseErrorThrow = false;\n\n    const locationMap = new OffsetToLocation();\n    const parser = Object.assign(new TokenStream(), processConfig(config || {}), {\n        parseAtrulePrelude: true,\n        parseRulePrelude: true,\n        parseValue: true,\n        parseCustomProperty: false,\n\n        readSequence,\n\n        consumeUntilBalanceEnd: () => 0,\n        consumeUntilLeftCurlyBracket(code) {\n            return code === LEFTCURLYBRACKET ? 1 : 0;\n        },\n        consumeUntilLeftCurlyBracketOrSemicolon(code) {\n            return code === LEFTCURLYBRACKET || code === SEMICOLON ? 1 : 0;\n        },\n        consumeUntilExclamationMarkOrSemicolon(code) {\n            return code === EXCLAMATIONMARK || code === SEMICOLON ? 1 : 0;\n        },\n        consumeUntilSemicolonIncluded(code) {\n            return code === SEMICOLON ? 2 : 0;\n        },\n\n        createList() {\n            return new List();\n        },\n        createSingleNodeList(node) {\n            return new List().appendData(node);\n        },\n        getFirstListNode(list) {\n            return list && list.first;\n        },\n        getLastListNode(list) {\n            return list && list.last;\n        },\n\n        parseWithFallback(consumer, fallback) {\n            const startIndex = this.tokenIndex;\n\n            try {\n                return consumer.call(this);\n            } catch (e) {\n                if (onParseErrorThrow) {\n                    throw e;\n                }\n\n                this.skip(startIndex - this.tokenIndex);\n                const fallbackNode = fallback.call(this);\n\n                onParseErrorThrow = true;\n                onParseError(e, fallbackNode);\n                onParseErrorThrow = false;\n\n                return fallbackNode;\n            }\n        },\n\n        lookupNonWSType(offset) {\n            let type;\n\n            do {\n                type = this.lookupType(offset++);\n                if (type !== WhiteSpace && type !== Comment) {\n                    return type;\n                }\n            } while (type !== NULL);\n\n            return NULL;\n        },\n\n        charCodeAt(offset) {\n            return offset >= 0 && offset < source.length ? source.charCodeAt(offset) : 0;\n        },\n        substring(offsetStart, offsetEnd) {\n            return source.substring(offsetStart, offsetEnd);\n        },\n        substrToCursor(start) {\n            return this.source.substring(start, this.tokenStart);\n        },\n\n        cmpChar(offset, charCode) {\n            return cmpChar(source, offset, charCode);\n        },\n        cmpStr(offsetStart, offsetEnd, str) {\n            return cmpStr(source, offsetStart, offsetEnd, str);\n        },\n\n        consume(tokenType) {\n            const start = this.tokenStart;\n\n            this.eat(tokenType);\n\n            return this.substrToCursor(start);\n        },\n        consumeFunctionName() {\n            const name = source.substring(this.tokenStart, this.tokenEnd - 1);\n\n            this.eat(FunctionToken);\n\n            return name;\n        },\n        consumeNumber(type) {\n            const number = source.substring(this.tokenStart, consumeNumber(source, this.tokenStart));\n\n            this.eat(type);\n\n            return number;\n        },\n\n        eat(tokenType) {\n            if (this.tokenType !== tokenType) {\n                const tokenName = tokenNames[tokenType].slice(0, -6).replace(/-/g, ' ').replace(/^./, m => m.toUpperCase());\n                let message = `${/[[\\](){}]/.test(tokenName) ? `\"${tokenName}\"` : tokenName} is expected`;\n                let offset = this.tokenStart;\n\n                // tweak message and offset\n                switch (tokenType) {\n                    case Ident:\n                        // when identifier is expected but there is a function or url\n                        if (this.tokenType === FunctionToken || this.tokenType === Url) {\n                            offset = this.tokenEnd - 1;\n                            message = 'Identifier is expected but function found';\n                        } else {\n                            message = 'Identifier is expected';\n                        }\n                        break;\n\n                    case Hash:\n                        if (this.isDelim(NUMBERSIGN)) {\n                            this.next();\n                            offset++;\n                            message = 'Name is expected';\n                        }\n                        break;\n\n                    case Percentage:\n                        if (this.tokenType === NumberToken) {\n                            offset = this.tokenEnd;\n                            message = 'Percent sign is expected';\n                        }\n                        break;\n                }\n\n                this.error(message, offset);\n            }\n\n            this.next();\n        },\n        eatIdent(name) {\n            if (this.tokenType !== Ident || this.lookupValue(0, name) === false) {\n                this.error(`Identifier \"${name}\" is expected`);\n            }\n\n            this.next();\n        },\n        eatDelim(code) {\n            if (!this.isDelim(code)) {\n                this.error(`Delim \"${String.fromCharCode(code)}\" is expected`);\n            }\n\n            this.next();\n        },\n\n        getLocation(start, end) {\n            if (needPositions) {\n                return locationMap.getLocationRange(\n                    start,\n                    end,\n                    filename\n                );\n            }\n\n            return null;\n        },\n        getLocationFromList(list) {\n            if (needPositions) {\n                const head = this.getFirstListNode(list);\n                const tail = this.getLastListNode(list);\n                return locationMap.getLocationRange(\n                    head !== null ? head.loc.start.offset - locationMap.startOffset : this.tokenStart,\n                    tail !== null ? tail.loc.end.offset - locationMap.startOffset : this.tokenStart,\n                    filename\n                );\n            }\n\n            return null;\n        },\n\n        error(message, offset) {\n            const location = typeof offset !== 'undefined' && offset < source.length\n                ? locationMap.getLocation(offset)\n                : this.eof\n                    ? locationMap.getLocation(findWhiteSpaceStart(source, source.length - 1))\n                    : locationMap.getLocation(this.tokenStart);\n\n            throw new SyntaxError(\n                message || 'Unexpected input',\n                source,\n                location.offset,\n                location.line,\n                location.column,\n                locationMap.startLine,\n                locationMap.startColumn\n            );\n        }\n    });\n\n    const parse = function(source_, options) {\n        source = source_;\n        options = options || {};\n\n        parser.setSource(source, tokenize);\n        locationMap.setSource(\n            source,\n            options.offset,\n            options.line,\n            options.column\n        );\n\n        filename = options.filename || '<unknown>';\n        needPositions = Boolean(options.positions);\n        onParseError = typeof options.onParseError === 'function' ? options.onParseError : NOOP;\n        onParseErrorThrow = false;\n\n        parser.parseAtrulePrelude = 'parseAtrulePrelude' in options ? Boolean(options.parseAtrulePrelude) : true;\n        parser.parseRulePrelude = 'parseRulePrelude' in options ? Boolean(options.parseRulePrelude) : true;\n        parser.parseValue = 'parseValue' in options ? Boolean(options.parseValue) : true;\n        parser.parseCustomProperty = 'parseCustomProperty' in options ? Boolean(options.parseCustomProperty) : false;\n\n        const { context = 'default', onComment } = options;\n\n        if (context in parser.context === false) {\n            throw new Error('Unknown context `' + context + '`');\n        }\n\n        if (typeof onComment === 'function') {\n            parser.forEachToken((type, start, end) => {\n                if (type === Comment) {\n                    const loc = parser.getLocation(start, end);\n                    const value = cmpStr(source, end - 2, end, '*/')\n                        ? source.slice(start + 2, end - 2)\n                        : source.slice(start + 2, end);\n\n                    onComment(value, loc);\n                }\n            });\n        }\n\n        const ast = parser.context[context].call(parser, options);\n\n        if (!parser.eof) {\n            parser.error();\n        }\n\n        return ast;\n    };\n\n    return Object.assign(parse, {\n        SyntaxError,\n        config: parser.config\n    });\n};\n",
    "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._ignoreInvalidMapping = util.getArg(aArgs, 'ignoreInvalidMapping', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer, generatorOps) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator(Object.assign(generatorOps || {}, {\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    }));\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      if (this._validateMapping(generated, original, source, name) === false) {\n        return;\n      }\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n      var message = 'original.line and original.column are not numbers -- you probably meant to omit ' +\n      'the original mapping entirely and only map the generated position. If so, pass ' +\n      'null for the original mapping instead of an object with empty or null values.'\n\n      if (this._ignoreInvalidMapping) {\n        if (typeof console !== 'undefined' && console.warn) {\n          console.warn(message);\n        }\n        return false;\n      } else {\n        throw new Error(message);\n      }\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      var message = 'Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      });\n\n      if (this._ignoreInvalidMapping) {\n        if (typeof console !== 'undefined' && console.warn) {\n          console.warn(message);\n        }\n        return false;\n      } else {\n        throw new Error(message)\n      }\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n",
    "import { SourceMapGenerator } from 'source-map-js/lib/source-map-generator.js';\n\nconst trackNodes = new Set(['Atrule', 'Selector', 'Declaration']);\n\nexport function generateSourceMap(handlers) {\n    const map = new SourceMapGenerator();\n    const generated = {\n        line: 1,\n        column: 0\n    };\n    const original = {\n        line: 0, // should be zero to add first mapping\n        column: 0\n    };\n    const activatedGenerated = {\n        line: 1,\n        column: 0\n    };\n    const activatedMapping = {\n        generated: activatedGenerated\n    };\n    let line = 1;\n    let column = 0;\n    let sourceMappingActive = false;\n\n    const origHandlersNode = handlers.node;\n    handlers.node = function(node) {\n        if (node.loc && node.loc.start && trackNodes.has(node.type)) {\n            const nodeLine = node.loc.start.line;\n            const nodeColumn = node.loc.start.column - 1;\n\n            if (original.line !== nodeLine ||\n                original.column !== nodeColumn) {\n                original.line = nodeLine;\n                original.column = nodeColumn;\n\n                generated.line = line;\n                generated.column = column;\n\n                if (sourceMappingActive) {\n                    sourceMappingActive = false;\n                    if (generated.line !== activatedGenerated.line ||\n                        generated.column !== activatedGenerated.column) {\n                        map.addMapping(activatedMapping);\n                    }\n                }\n\n                sourceMappingActive = true;\n                map.addMapping({\n                    source: node.loc.source,\n                    original,\n                    generated\n                });\n            }\n        }\n\n        origHandlersNode.call(this, node);\n\n        if (sourceMappingActive && trackNodes.has(node.type)) {\n            activatedGenerated.line = line;\n            activatedGenerated.column = column;\n        }\n    };\n\n    const origHandlersEmit = handlers.emit;\n    handlers.emit = function(value, type, auto) {\n        for (let i = 0; i < value.length; i++) {\n            if (value.charCodeAt(i) === 10) { // \\n\n                line++;\n                column = 0;\n            } else {\n                column++;\n            }\n        }\n\n        origHandlersEmit(value, type, auto);\n    };\n\n    const origHandlersResult = handlers.result;\n    handlers.result = function() {\n        if (sourceMappingActive) {\n            map.addMapping(activatedMapping);\n        }\n\n        return {\n            css: origHandlersResult(),\n            map\n        };\n    };\n\n    return handlers;\n};\n",
    "import {\n    WhiteSpace,\n    Delim,\n    Ident,\n    Function as FunctionToken,\n    Url,\n    BadUrl,\n    AtKeyword,\n    Hash,\n    Percentage,\n    Dimension,\n    Number as NumberToken,\n    String as StringToken,\n    Colon,\n    LeftParenthesis,\n    RightParenthesis,\n    CDC\n} from '../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\n\nconst code = (type, value) => {\n    if (type === Delim) {\n        type = value;\n    }\n\n    if (typeof type === 'string') {\n        const charCode = type.charCodeAt(0);\n        return charCode > 0x7F ? 0x8000 : charCode << 8;\n    }\n\n    return type;\n};\n\n// https://www.w3.org/TR/css-syntax-3/#serialization\n// The only requirement for serialization is that it must \"round-trip\" with parsing,\n// that is, parsing the stylesheet must produce the same data structures as parsing,\n// serializing, and parsing again, except for consecutive <whitespace-token>s,\n// which may be collapsed into a single token.\n\nconst specPairs = [\n    [Ident, Ident],\n    [Ident, FunctionToken],\n    [Ident, Url],\n    [Ident, BadUrl],\n    [Ident, '-'],\n    [Ident, NumberToken],\n    [Ident, Percentage],\n    [Ident, Dimension],\n    [Ident, CDC],\n    [Ident, LeftParenthesis],\n\n    [AtKeyword, Ident],\n    [AtKeyword, FunctionToken],\n    [AtKeyword, Url],\n    [AtKeyword, BadUrl],\n    [AtKeyword, '-'],\n    [AtKeyword, NumberToken],\n    [AtKeyword, Percentage],\n    [AtKeyword, Dimension],\n    [AtKeyword, CDC],\n\n    [Hash, Ident],\n    [Hash, FunctionToken],\n    [Hash, Url],\n    [Hash, BadUrl],\n    [Hash, '-'],\n    [Hash, NumberToken],\n    [Hash, Percentage],\n    [Hash, Dimension],\n    [Hash, CDC],\n\n    [Dimension, Ident],\n    [Dimension, FunctionToken],\n    [Dimension, Url],\n    [Dimension, BadUrl],\n    [Dimension, '-'],\n    [Dimension, NumberToken],\n    [Dimension, Percentage],\n    [Dimension, Dimension],\n    [Dimension, CDC],\n\n    ['#', Ident],\n    ['#', FunctionToken],\n    ['#', Url],\n    ['#', BadUrl],\n    ['#', '-'],\n    ['#', NumberToken],\n    ['#', Percentage],\n    ['#', Dimension],\n    ['#', CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    ['-', Ident],\n    ['-', FunctionToken],\n    ['-', Url],\n    ['-', BadUrl],\n    ['-', '-'],\n    ['-', NumberToken],\n    ['-', Percentage],\n    ['-', Dimension],\n    ['-', CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    [NumberToken, Ident],\n    [NumberToken, FunctionToken],\n    [NumberToken, Url],\n    [NumberToken, BadUrl],\n    [NumberToken, NumberToken],\n    [NumberToken, Percentage],\n    [NumberToken, Dimension],\n    [NumberToken, '%'],\n    [NumberToken, CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    ['@', Ident],\n    ['@', FunctionToken],\n    ['@', Url],\n    ['@', BadUrl],\n    ['@', '-'],\n    ['@', CDC], // https://github.com/w3c/csswg-drafts/pull/6874\n\n    ['.', NumberToken],\n    ['.', Percentage],\n    ['.', Dimension],\n\n    ['+', NumberToken],\n    ['+', Percentage],\n    ['+', Dimension],\n\n    ['/', '*']\n];\n// validate with scripts/generate-safe\nconst safePairs = specPairs.concat([\n    [Ident, Hash],\n\n    [Dimension, Hash],\n\n    [Hash, Hash],\n\n    [AtKeyword, LeftParenthesis],\n    [AtKeyword, StringToken],\n    [AtKeyword, Colon],\n\n    [Percentage, Percentage],\n    [Percentage, Dimension],\n    [Percentage, FunctionToken],\n    [Percentage, '-'],\n\n    [RightParenthesis, Ident],\n    [RightParenthesis, FunctionToken],\n    [RightParenthesis, Percentage],\n    [RightParenthesis, Dimension],\n    [RightParenthesis, Hash],\n    [RightParenthesis, '-']\n]);\n\nfunction createMap(pairs) {\n    const isWhiteSpaceRequired = new Set(\n        pairs.map(([prev, next]) => (code(prev) << 16 | code(next)))\n    );\n\n    return function(prevCode, type, value) {\n        const nextCode = code(type, value);\n        const nextCharCode = value.charCodeAt(0);\n        const emitWs =\n            (nextCharCode === HYPHENMINUS &&\n                type !== Ident &&\n                type !== FunctionToken &&\n                type !== CDC) ||\n            (nextCharCode === PLUSSIGN)\n                ? isWhiteSpaceRequired.has(prevCode << 16 | nextCharCode << 8)\n                : isWhiteSpaceRequired.has(prevCode << 16 | nextCode);\n\n        if (emitWs) {\n            this.emit(' ', WhiteSpace, true);\n        }\n\n        return nextCode;\n    };\n}\n\nexport const spec = createMap(specPairs);\nexport const safe = createMap(safePairs);\n",
    "import { tokenize, Delim, WhiteSpace } from '../tokenizer/index.js';\nimport { generateSourceMap } from './sourceMap.js';\nimport * as tokenBefore from './token-before.js';\n\nconst REVERSESOLIDUS = 0x005c; // U+005C REVERSE SOLIDUS (\\)\n\nfunction processChildren(node, delimeter) {\n    if (typeof delimeter === 'function') {\n        let prev = null;\n\n        node.children.forEach(node => {\n            if (prev !== null) {\n                delimeter.call(this, prev);\n            }\n\n            this.node(node);\n            prev = node;\n        });\n\n        return;\n    }\n\n    node.children.forEach(this.node, this);\n}\n\nfunction processChunk(chunk) {\n    tokenize(chunk, (type, start, end) => {\n        this.token(type, chunk.slice(start, end));\n    });\n}\n\nexport function createGenerator(config) {\n    const types = new Map();\n\n    for (let [name, item] of Object.entries(config.node)) {\n        const fn = item.generate || item;\n\n        if (typeof fn === 'function') {\n            types.set(name, item.generate || item);\n        }\n    }\n\n    return function(node, options) {\n        let buffer = '';\n        let prevCode = 0;\n        let handlers = {\n            node(node) {\n                if (types.has(node.type)) {\n                    types.get(node.type).call(publicApi, node);\n                } else {\n                    throw new Error('Unknown node type: ' + node.type);\n                }\n            },\n            tokenBefore: tokenBefore.safe,\n            token(type, value) {\n                prevCode = this.tokenBefore(prevCode, type, value);\n\n                this.emit(value, type, false);\n\n                if (type === Delim && value.charCodeAt(0) === REVERSESOLIDUS) {\n                    this.emit('\\n', WhiteSpace, true);\n                }\n            },\n            emit(value) {\n                buffer += value;\n            },\n            result() {\n                return buffer;\n            }\n        };\n\n        if (options) {\n            if (typeof options.decorator === 'function') {\n                handlers = options.decorator(handlers);\n            }\n\n            if (options.sourceMap) {\n                handlers = generateSourceMap(handlers);\n            }\n\n            if (options.mode in tokenBefore) {\n                handlers.tokenBefore = tokenBefore[options.mode];\n            }\n        }\n\n        const publicApi = {\n            node: (node) => handlers.node(node),\n            children: processChildren,\n            token: (type, value) => handlers.token(type, value),\n            tokenize: processChunk\n        };\n\n        handlers.node(node);\n\n        return handlers.result();\n    };\n};\n",
    "import { List } from '../utils/List.js';\n\nexport function createConvertor(walk) {\n    return {\n        fromPlainObject(ast) {\n            walk(ast, {\n                enter(node) {\n                    if (node.children && node.children instanceof List === false) {\n                        node.children = new List().fromArray(node.children);\n                    }\n                }\n            });\n\n            return ast;\n        },\n        toPlainObject(ast) {\n            walk(ast, {\n                leave(node) {\n                    if (node.children && node.children instanceof List) {\n                        node.children = node.children.toArray();\n                    }\n                }\n            });\n\n            return ast;\n        }\n    };\n};\n",
    "const { hasOwnProperty } = Object.prototype;\nconst noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nfunction invokeForType(fn, type) {\n    return function(node, item, list) {\n        if (node.type === type) {\n            fn.call(this, node, item, list);\n        }\n    };\n}\n\nfunction getWalkersFromStructure(name, nodeType) {\n    const structure = nodeType.structure;\n    const walkers = [];\n\n    for (const key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        let fieldTypes = structure[key];\n        const walker = {\n            name: key,\n            type: false,\n            nullable: false\n        };\n\n        if (!Array.isArray(fieldTypes)) {\n            fieldTypes = [fieldTypes];\n        }\n\n        for (const fieldType of fieldTypes) {\n            if (fieldType === null) {\n                walker.nullable = true;\n            } else if (typeof fieldType === 'string') {\n                walker.type = 'node';\n            } else if (Array.isArray(fieldType)) {\n                walker.type = 'list';\n            }\n        }\n\n        if (walker.type) {\n            walkers.push(walker);\n        }\n    }\n\n    if (walkers.length) {\n        return {\n            context: nodeType.walkContext,\n            fields: walkers\n        };\n    }\n\n    return null;\n}\n\nfunction getTypesFromConfig(config) {\n    const types = {};\n\n    for (const name in config.node) {\n        if (hasOwnProperty.call(config.node, name)) {\n            const nodeType = config.node[name];\n\n            if (!nodeType.structure) {\n                throw new Error('Missed `structure` field in `' + name + '` node type definition');\n            }\n\n            types[name] = getWalkersFromStructure(name, nodeType);\n        }\n    }\n\n    return types;\n}\n\nfunction createTypeIterator(config, reverse) {\n    const fields = config.fields.slice();\n    const contextName = config.context;\n    const useContext = typeof contextName === 'string';\n\n    if (reverse) {\n        fields.reverse();\n    }\n\n    return function(node, context, walk, walkReducer) {\n        let prevContextValue;\n\n        if (useContext) {\n            prevContextValue = context[contextName];\n            context[contextName] = node;\n        }\n\n        for (const field of fields) {\n            const ref = node[field.name];\n\n            if (!field.nullable || ref) {\n                if (field.type === 'list') {\n                    const breakWalk = reverse\n                        ? ref.reduceRight(walkReducer, false)\n                        : ref.reduce(walkReducer, false);\n\n                    if (breakWalk) {\n                        return true;\n                    }\n                } else if (walk(ref)) {\n                    return true;\n                }\n            }\n        }\n\n        if (useContext) {\n            context[contextName] = prevContextValue;\n        }\n    };\n}\n\nfunction createFastTraveralMap({\n    StyleSheet,\n    Atrule,\n    Rule,\n    Block,\n    DeclarationList\n}) {\n    return {\n        Atrule: {\n            StyleSheet,\n            Atrule,\n            Rule,\n            Block\n        },\n        Rule: {\n            StyleSheet,\n            Atrule,\n            Rule,\n            Block\n        },\n        Declaration: {\n            StyleSheet,\n            Atrule,\n            Rule,\n            Block,\n            DeclarationList\n        }\n    };\n}\n\nexport function createWalker(config) {\n    const types = getTypesFromConfig(config);\n    const iteratorsNatural = {};\n    const iteratorsReverse = {};\n    const breakWalk = Symbol('break-walk');\n    const skipNode = Symbol('skip-node');\n\n    for (const name in types) {\n        if (hasOwnProperty.call(types, name) && types[name] !== null) {\n            iteratorsNatural[name] = createTypeIterator(types[name], false);\n            iteratorsReverse[name] = createTypeIterator(types[name], true);\n        }\n    }\n\n    const fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural);\n    const fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse);\n\n    const walk = function(root, options) {\n        function walkNode(node, item, list) {\n            const enterRet = enter.call(context, node, item, list);\n\n            if (enterRet === breakWalk) {\n                return true;\n            }\n\n            if (enterRet === skipNode) {\n                return false;\n            }\n\n            if (iterators.hasOwnProperty(node.type)) {\n                if (iterators[node.type](node, context, walkNode, walkReducer)) {\n                    return true;\n                }\n            }\n\n            if (leave.call(context, node, item, list) === breakWalk) {\n                return true;\n            }\n\n            return false;\n        }\n\n        let enter = noop;\n        let leave = noop;\n        let iterators = iteratorsNatural;\n        let walkReducer = (ret, data, item, list) => ret || walkNode(data, item, list);\n        const context = {\n            break: breakWalk,\n            skip: skipNode,\n\n            root,\n            stylesheet: null,\n            atrule: null,\n            atrulePrelude: null,\n            rule: null,\n            selector: null,\n            block: null,\n            declaration: null,\n            function: null\n        };\n\n        if (typeof options === 'function') {\n            enter = options;\n        } else if (options) {\n            enter = ensureFunction(options.enter);\n            leave = ensureFunction(options.leave);\n\n            if (options.reverse) {\n                iterators = iteratorsReverse;\n            }\n\n            if (options.visit) {\n                if (fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {\n                    iterators = options.reverse\n                        ? fastTraversalIteratorsReverse[options.visit]\n                        : fastTraversalIteratorsNatural[options.visit];\n                } else if (!types.hasOwnProperty(options.visit)) {\n                    throw new Error('Bad value `' + options.visit + '` for `visit` option (should be: ' + Object.keys(types).sort().join(', ') + ')');\n                }\n\n                enter = invokeForType(enter, options.visit);\n                leave = invokeForType(leave, options.visit);\n            }\n        }\n\n        if (enter === noop && leave === noop) {\n            throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n        }\n\n        walkNode(root);\n    };\n\n    walk.break = breakWalk;\n    walk.skip = skipNode;\n\n    walk.find = function(ast, fn) {\n        let found = null;\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found = node;\n                return breakWalk;\n            }\n        });\n\n        return found;\n    };\n\n    walk.findLast = function(ast, fn) {\n        let found = null;\n\n        walk(ast, {\n            reverse: true,\n            enter(node, item, list) {\n                if (fn.call(this, node, item, list)) {\n                    found = node;\n                    return breakWalk;\n                }\n            }\n        });\n\n        return found;\n    };\n\n    walk.findAll = function(ast, fn) {\n        const found = [];\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found.push(node);\n            }\n        });\n\n        return found;\n    };\n\n    return walk;\n};\n",
    "function noop(value) {\n    return value;\n}\n\nfunction generateMultiplier(multiplier) {\n    const { min, max, comma } = multiplier;\n\n    if (min === 0 && max === 0) {\n        return comma ? '#?' : '*';\n    }\n\n    if (min === 0 && max === 1) {\n        return '?';\n    }\n\n    if (min === 1 && max === 0) {\n        return comma ? '#' : '+';\n    }\n\n    if (min === 1 && max === 1) {\n        return '';\n    }\n\n    return (\n        (comma ? '#' : '') +\n        (min === max\n            ? '{' + min + '}'\n            : '{' + min + ',' + (max !== 0 ? max : '') + '}'\n        )\n    );\n}\n\nfunction generateTypeOpts(node) {\n    switch (node.type) {\n        case 'Range':\n            return (\n                ' [' +\n                (node.min === null ? '-∞' : node.min) +\n                ',' +\n                (node.max === null ? '∞' : node.max) +\n                ']'\n            );\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n}\n\nfunction generateSequence(node, decorate, forceBraces, compact) {\n    const combinator = node.combinator === ' ' || compact ? node.combinator : ' ' + node.combinator + ' ';\n    const result = node.terms\n        .map(term => internalGenerate(term, decorate, forceBraces, compact))\n        .join(combinator);\n\n    if (node.explicit || forceBraces) {\n        return (compact || result[0] === ',' ? '[' : '[ ') + result + (compact ? ']' : ' ]');\n    }\n\n    return result;\n}\n\nfunction internalGenerate(node, decorate, forceBraces, compact) {\n    let result;\n\n    switch (node.type) {\n        case 'Group':\n            result =\n                generateSequence(node, decorate, forceBraces, compact) +\n                (node.disallowEmpty ? '!' : '');\n            break;\n\n        case 'Multiplier':\n            // return since node is a composition\n            return (\n                internalGenerate(node.term, decorate, forceBraces, compact) +\n                decorate(generateMultiplier(node), node)\n            );\n\n        case 'Boolean':\n            result = '<boolean-expr[' + internalGenerate(node.term, decorate, forceBraces, compact) + ']>';\n            break;\n\n        case 'Type':\n            result = '<' + node.name + (node.opts ? decorate(generateTypeOpts(node.opts), node.opts) : '') + '>';\n            break;\n\n        case 'Property':\n            result = '<\\'' + node.name + '\\'>';\n            break;\n\n        case 'Keyword':\n            result = node.name;\n            break;\n\n        case 'AtKeyword':\n            result = '@' + node.name;\n            break;\n\n        case 'Function':\n            result = node.name + '(';\n            break;\n\n        case 'String':\n        case 'Token':\n            result = node.value;\n            break;\n\n        case 'Comma':\n            result = ',';\n            break;\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n\n    return decorate(result, node);\n}\n\nexport function generate(node, options) {\n    let decorate = noop;\n    let forceBraces = false;\n    let compact = false;\n\n    if (typeof options === 'function') {\n        decorate = options;\n    } else if (options) {\n        forceBraces = Boolean(options.forceBraces);\n        compact = Boolean(options.compact);\n        if (typeof options.decorate === 'function') {\n            decorate = options.decorate;\n        }\n    }\n\n    return internalGenerate(node, decorate, forceBraces, compact);\n};\n",
    "import { createCustomError } from '../utils/create-custom-error.js';\nimport { generate } from '../definition-syntax/generate.js';\n\nconst defaultLoc = { offset: 0, line: 1, column: 1 };\n\nfunction locateMismatch(matchResult, node) {\n    const tokens = matchResult.tokens;\n    const longestMatch = matchResult.longestMatch;\n    const mismatchNode = longestMatch < tokens.length ? tokens[longestMatch].node || null : null;\n    const badNode = mismatchNode !== node ? mismatchNode : null;\n    let mismatchOffset = 0;\n    let mismatchLength = 0;\n    let entries = 0;\n    let css = '';\n    let start;\n    let end;\n\n    for (let i = 0; i < tokens.length; i++) {\n        const token = tokens[i].value;\n\n        if (i === longestMatch) {\n            mismatchLength = token.length;\n            mismatchOffset = css.length;\n        }\n\n        if (badNode !== null && tokens[i].node === badNode) {\n            if (i <= longestMatch) {\n                entries++;\n            } else {\n                entries = 0;\n            }\n        }\n\n        css += token;\n    }\n\n    if (longestMatch === tokens.length || entries > 1) { // last\n        start = fromLoc(badNode || node, 'end') || buildLoc(defaultLoc, css);\n        end = buildLoc(start);\n    } else {\n        start = fromLoc(badNode, 'start') ||\n            buildLoc(fromLoc(node, 'start') || defaultLoc, css.slice(0, mismatchOffset));\n        end = fromLoc(badNode, 'end') ||\n            buildLoc(start, css.substr(mismatchOffset, mismatchLength));\n    }\n\n    return {\n        css,\n        mismatchOffset,\n        mismatchLength,\n        start,\n        end\n    };\n}\n\nfunction fromLoc(node, point) {\n    const value = node && node.loc && node.loc[point];\n\n    if (value) {\n        return 'line' in value ? buildLoc(value) : value;\n    }\n\n    return null;\n}\n\nfunction buildLoc({ offset, line, column }, extra) {\n    const loc = {\n        offset,\n        line,\n        column\n    };\n\n    if (extra) {\n        const lines = extra.split(/\\n|\\r\\n?|\\f/);\n\n        loc.offset += extra.length;\n        loc.line += lines.length - 1;\n        loc.column = lines.length === 1 ? loc.column + extra.length : lines.pop().length + 1;\n    }\n\n    return loc;\n}\n\nexport const SyntaxReferenceError = function(type, referenceName) {\n    const error = createCustomError(\n        'SyntaxReferenceError',\n        type + (referenceName ? ' `' + referenceName + '`' : '')\n    );\n\n    error.reference = referenceName;\n\n    return error;\n};\n\nexport const SyntaxMatchError = function(message, syntax, node, matchResult) {\n    const error = createCustomError('SyntaxMatchError', message);\n    const {\n        css,\n        mismatchOffset,\n        mismatchLength,\n        start,\n        end\n    } = locateMismatch(matchResult, node);\n\n    error.rawMessage = message;\n    error.syntax = syntax ? generate(syntax) : '<generic>';\n    error.css = css;\n    error.mismatchOffset = mismatchOffset;\n    error.mismatchLength = mismatchLength;\n    error.message = message + '\\n' +\n        '  syntax: ' + error.syntax + '\\n' +\n        '   value: ' + (css || '<empty string>') + '\\n' +\n        '  --------' + new Array(error.mismatchOffset + 1).join('-') + '^';\n\n    Object.assign(error, start);\n    error.loc = {\n        source: (node && node.loc && node.loc.source) || '<unknown>',\n        start,\n        end\n    };\n\n    return error;\n};\n",
    "const keywords = new Map();\nconst properties = new Map();\nconst HYPHENMINUS = 45; // '-'.charCodeAt()\n\nexport const keyword = getKeywordDescriptor;\nexport const property = getPropertyDescriptor;\nexport const vendorPrefix = getVendorPrefix;\nexport function isCustomProperty(str, offset) {\n    offset = offset || 0;\n\n    return str.length - offset >= 2 &&\n           str.charCodeAt(offset) === HYPHENMINUS &&\n           str.charCodeAt(offset + 1) === HYPHENMINUS;\n}\n\nfunction getVendorPrefix(str, offset) {\n    offset = offset || 0;\n\n    // verdor prefix should be at least 3 chars length\n    if (str.length - offset >= 3) {\n        // vendor prefix starts with hyper minus following non-hyper minus\n        if (str.charCodeAt(offset) === HYPHENMINUS &&\n            str.charCodeAt(offset + 1) !== HYPHENMINUS) {\n            // vendor prefix should contain a hyper minus at the ending\n            const secondDashIndex = str.indexOf('-', offset + 2);\n\n            if (secondDashIndex !== -1) {\n                return str.substring(offset, secondDashIndex + 1);\n            }\n        }\n    }\n\n    return '';\n}\n\nfunction getKeywordDescriptor(keyword) {\n    if (keywords.has(keyword)) {\n        return keywords.get(keyword);\n    }\n\n    const name = keyword.toLowerCase();\n    let descriptor = keywords.get(name);\n\n    if (descriptor === undefined) {\n        const custom = isCustomProperty(name, 0);\n        const vendor = !custom ? getVendorPrefix(name, 0) : '';\n        descriptor = Object.freeze({\n            basename: name.substr(vendor.length),\n            name,\n            prefix: vendor,\n            vendor,\n            custom\n        });\n    }\n\n    keywords.set(keyword, descriptor);\n\n    return descriptor;\n}\n\nfunction getPropertyDescriptor(property) {\n    if (properties.has(property)) {\n        return properties.get(property);\n    }\n\n    let name = property;\n    let hack = property[0];\n\n    if (hack === '/') {\n        hack = property[1] === '/' ? '//' : '/';\n    } else if (hack !== '_' &&\n               hack !== '*' &&\n               hack !== '$' &&\n               hack !== '#' &&\n               hack !== '+' &&\n               hack !== '&') {\n        hack = '';\n    }\n\n    const custom = isCustomProperty(name, hack.length);\n\n    // re-use result when possible (the same as for lower case)\n    if (!custom) {\n        name = name.toLowerCase();\n        if (properties.has(name)) {\n            const descriptor = properties.get(name);\n            properties.set(property, descriptor);\n            return descriptor;\n        }\n    }\n\n    const vendor = !custom ? getVendorPrefix(name, hack.length) : '';\n    const prefix = name.substr(0, hack.length + vendor.length);\n    const descriptor = Object.freeze({\n        basename: name.substr(prefix.length),\n        name: name.substr(hack.length),\n        hack,\n        vendor,\n        prefix,\n        custom\n    });\n\n    properties.set(property, descriptor);\n\n    return descriptor;\n}\n",
    "// https://drafts.csswg.org/css-cascade-5/\nexport const cssWideKeywords = [\n    'initial',\n    'inherit',\n    'unset',\n    'revert',\n    'revert-layer'\n];\n",
    "import {\n    isDigit,\n    cmpChar,\n    Delim,\n    WhiteSpace,\n    Comment,\n    Ident,\n    Number as NumberToken,\n    Dimension\n} from '../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nconst N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nconst DISALLOW_SIGN = true;\nconst ALLOW_SIGN = false;\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === Delim && token.value.charCodeAt(0) === code;\n}\n\nfunction skipSC(token, offset, getNextToken) {\n    while (token !== null && (token.type === WhiteSpace || token.type === Comment)) {\n        token = getNextToken(++offset);\n    }\n\n    return offset;\n}\n\nfunction checkInteger(token, valueOffset, disallowSign, offset) {\n    if (!token) {\n        return 0;\n    }\n\n    const code = token.value.charCodeAt(valueOffset);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            // Number sign is not allowed\n            return 0;\n        }\n        valueOffset++;\n    }\n\n    for (; valueOffset < token.value.length; valueOffset++) {\n        if (!isDigit(token.value.charCodeAt(valueOffset))) {\n            // Integer is expected\n            return 0;\n        }\n    }\n\n    return offset + 1;\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB(token, offset_, getNextToken) {\n    let sign = false;\n    let offset = skipSC(token, offset_, getNextToken);\n\n    token = getNextToken(offset);\n\n    if (token === null) {\n        return offset_;\n    }\n\n    if (token.type !== NumberToken) {\n        if (isDelim(token, PLUSSIGN) || isDelim(token, HYPHENMINUS)) {\n            sign = true;\n            offset = skipSC(getNextToken(++offset), offset, getNextToken);\n            token = getNextToken(offset);\n\n            if (token === null || token.type !== NumberToken) {\n                return 0;\n            }\n        } else {\n            return offset_;\n        }\n    }\n\n    if (!sign) {\n        const code = token.value.charCodeAt(0);\n        if (code !== PLUSSIGN && code !== HYPHENMINUS) {\n            // Number sign is expected\n            return 0;\n        }\n    }\n\n    return checkInteger(token, sign ? 0 : 1, sign, offset);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nexport default function anPlusB(token, getNextToken) {\n    /* eslint-disable brace-style*/\n    let offset = 0;\n\n    if (!token) {\n        return 0;\n    }\n\n    // <integer>\n    if (token.type === NumberToken) {\n        return checkInteger(token, 0, ALLOW_SIGN, offset); // b\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (token.type === Ident && token.value.charCodeAt(0) === HYPHENMINUS) {\n        // expect 1st char is N\n        if (!cmpChar(token.value, 1, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // -n- <signless-integer>\n            case 3:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // <dashndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 3, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (token.type === Ident || (isDelim(token, PLUSSIGN) && getNextToken(offset + 1).type === Ident)) {\n        // just ignore a plus\n        if (token.type !== Ident) {\n            token = getNextToken(++offset);\n        }\n\n        if (token === null || !cmpChar(token.value, 0, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // '+'? n- <signless-integer>\n            case 2:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // '+'? <ndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 2, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (token.type === Dimension) {\n        let code = token.value.charCodeAt(0);\n        let sign = code === PLUSSIGN || code === HYPHENMINUS ? 1 : 0;\n        let i = sign;\n\n        for (; i < token.value.length; i++) {\n            if (!isDigit(token.value.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === sign) {\n            // Integer is expected\n            return 0;\n        }\n\n        if (!cmpChar(token.value, i, N)) {\n            return 0;\n        }\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === token.value.length) {\n            return consumeB(getNextToken(++offset), offset, getNextToken);\n        } else {\n            if (token.value.charCodeAt(i + 1) !== HYPHENMINUS) {\n                return 0;\n            }\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === token.value.length) {\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n            }\n            // <ndashdigit-dimension>\n            else {\n                return checkInteger(token, i + 2, DISALLOW_SIGN, offset);\n            }\n        }\n    }\n\n    return 0;\n};\n",
    "import {\n    isHexDigit,\n    cmpChar,\n    Ident,\n    Delim,\n    Number as NumberToken,\n    Dimension\n} from '../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nconst QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nconst U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === Delim && token.value.charCodeAt(0) === code;\n}\n\nfunction startsWith(token, code) {\n    return token.value.charCodeAt(0) === code;\n}\n\nfunction hexSequence(token, offset, allowDash) {\n    let hexlen = 0;\n\n    for (let pos = offset; pos < token.value.length; pos++) {\n        const code = token.value.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && hexlen !== 0) {\n            hexSequence(token, offset + hexlen + 1, false);\n            return 6; // dissallow following question marks\n        }\n\n        if (!isHexDigit(code)) {\n            return 0; // not a hex digit\n        }\n\n        if (++hexlen > 6) {\n            return 0; // too many hex digits\n        };\n    }\n\n    return hexlen;\n}\n\nfunction withQuestionMarkSequence(consumed, length, getNextToken) {\n    if (!consumed) {\n        return 0; // nothing consumed\n    }\n\n    while (isDelim(getNextToken(length), QUESTIONMARK)) {\n        if (++consumed > 6) {\n            return 0; // too many question marks\n        }\n\n        length++;\n    }\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nexport default function urange(token, getNextToken) {\n    let length = 0;\n\n    // should start with `u` or `U`\n    if (token === null || token.type !== Ident || !cmpChar(token.value, 0, U)) {\n        return 0;\n    }\n\n    token = getNextToken(++length);\n    if (token === null) {\n        return 0;\n    }\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (isDelim(token, PLUSSIGN)) {\n        token = getNextToken(++length);\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === Ident) {\n            // u '+' <ident-token> '?'*\n            return withQuestionMarkSequence(hexSequence(token, 0, true), ++length, getNextToken);\n        }\n\n        if (isDelim(token, QUESTIONMARK)) {\n            // u '+' '?'+\n            return withQuestionMarkSequence(1, ++length, getNextToken);\n        }\n\n        // Hex digit or question mark is expected\n        return 0;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (token.type === NumberToken) {\n        const consumedHexLength = hexSequence(token, 1, true);\n        if (consumedHexLength === 0) {\n            return 0;\n        }\n\n        token = getNextToken(++length);\n        if (token === null) {\n            // u <number-token> <eof>\n            return length;\n        }\n\n        if (token.type === Dimension || token.type === NumberToken) {\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            if (!startsWith(token, HYPHENMINUS) || !hexSequence(token, 1, false)) {\n                return 0;\n            }\n\n            return length + 1;\n        }\n\n        // u <number-token> '?'*\n        return withQuestionMarkSequence(consumedHexLength, length, getNextToken);\n    }\n\n    // u <dimension-token> '?'*\n    if (token.type === Dimension) {\n        return withQuestionMarkSequence(hexSequence(token, 1, true), ++length, getNextToken);\n    }\n\n    return 0;\n};\n",
    "import { cssWideKeywords } from './generic-const.js';\nimport anPlusB from './generic-an-plus-b.js';\nimport urange from './generic-urange.js';\nimport {\n    isIdentifierStart,\n    isHexDigit,\n    isDigit,\n    cmpStr,\n    consumeNumber,\n\n    Ident,\n    Function as FunctionToken,\n    AtKeyword,\n    Hash,\n    String as StringToken,\n    BadString,\n    Url,\n    BadUrl,\n    Delim,\n    Number as NumberToken,\n    Percentage,\n    Dimension,\n    WhiteSpace,\n    CDO,\n    CDC,\n    Colon,\n    Semicolon,\n    Comma,\n    LeftSquareBracket,\n    RightSquareBracket,\n    LeftParenthesis,\n    RightParenthesis,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from '../tokenizer/index.js';\n\nconst calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\nconst balancePair = new Map([\n    [FunctionToken, RightParenthesis],\n    [LeftParenthesis, RightParenthesis],\n    [LeftSquareBracket, RightSquareBracket],\n    [LeftCurlyBracket, RightCurlyBracket]\n]);\n\n// safe char code getter\nfunction charCodeAt(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (let i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        charCodeAt(str, offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(charCodeAt(str, offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        const num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        // FIXME: when opts.min is a string it's a dimension, skip a range validation\n        // for now since it requires a type covertation which is not implmented yet\n        if (opts.min !== null && num < opts.min && typeof opts.min !== 'string') {\n            return true;\n        }\n\n        // FIXME: when opts.max is a string it's a dimension, skip a range validation\n        // for now since it requires a type covertation which is not implmented yet\n        if (opts.max !== null && num > opts.max && typeof opts.max !== 'string') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    let balanceCloseType = 0;\n    let balanceStash = [];\n    let length = 0;\n\n    // balanced token consuming\n    scan:\n    do {\n        switch (token.type) {\n            case RightCurlyBracket:\n            case RightParenthesis:\n            case RightSquareBracket:\n                if (token.type !== balanceCloseType) {\n                    break scan;\n                }\n\n                balanceCloseType = balanceStash.pop();\n\n                if (balanceStash.length === 0) {\n                    length++;\n                    break scan;\n                }\n\n                break;\n\n            case FunctionToken:\n            case LeftParenthesis:\n            case LeftSquareBracket:\n            case LeftCurlyBracket:\n                balanceStash.push(balanceCloseType);\n                balanceCloseType = balancePair.get(token.type);\n                break;\n        }\n\n        length++;\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === FunctionToken && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== Ident) {\n        return 0;\n    }\n\n    const name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if any—for example by saying that any pre-defined keywords\n    // in that property’s value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-values-4/#dashed-idents\n// The <dashed-ident> production is a <custom-ident>, with all the case-sensitivity that implies,\n// with the additional restriction that it must start with two dashes (U+002D HYPHEN-MINUS).\nfunction dashedIdent(token) {\n    if (token === null || token.type !== Ident) {\n        return 0;\n    }\n\n    // ... must start with two dashes (U+002D HYPHEN-MINUS)\n    if (charCodeAt(token.value, 0) !== 0x002D || charCodeAt(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: it’s defined as any <dashed-ident>\n// (a valid identifier that starts with two dashes), except -- itself, which is reserved for future use by CSS.\nfunction customPropertyName(token) {\n    // ... it’s defined as any <dashed-ident>\n    if (!dashedIdent(token)) {\n        return 0;\n    }\n\n    // ... except -- itself, which is reserved for future use by CSS\n    if (token.value === '--') {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== Hash) {\n        return 0;\n    }\n\n    const length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (let i = 1; i < length; i++) {\n        if (!isHexDigit(charCodeAt(token.value, i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCodeAt(token.value, 1), charCodeAt(token.value, 2), charCodeAt(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    let balanceCloseType = 0;\n    let balanceStash = [];\n    let length = 0;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence does not contain ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... <bad-string-token>, <bad-url-token>,\n            case BadString:\n            case BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case RightCurlyBracket:\n            case RightParenthesis:\n            case RightSquareBracket:\n                if (token.type !== balanceCloseType) {\n                    break scan;\n                }\n\n                balanceCloseType = balanceStash.pop();\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case Semicolon:\n                if (balanceCloseType === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case Delim:\n                if (balanceCloseType === 0 && token.value === '!') {\n                    break scan;\n                }\n\n                break;\n\n            case FunctionToken:\n            case LeftParenthesis:\n            case LeftSquareBracket:\n            case LeftCurlyBracket:\n                balanceStash.push(balanceCloseType);\n                balanceCloseType = balancePair.get(token.type);\n                break;\n        }\n\n        length++;\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    let balanceCloseType = 0;\n    let balanceStash = [];\n    let length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case BadString:\n            case BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case RightCurlyBracket:\n            case RightParenthesis:\n            case RightSquareBracket:\n                if (token.type !== balanceCloseType) {\n                    break scan;\n                }\n\n                balanceCloseType = balanceStash.pop();\n                break;\n\n            case FunctionToken:\n            case LeftParenthesis:\n            case LeftSquareBracket:\n            case LeftCurlyBracket:\n                balanceStash.push(balanceCloseType);\n                balanceCloseType = balancePair.get(token.type);\n                break;\n        }\n\n        length++;\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    if (type) {\n        type = new Set(type);\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== Dimension) {\n            return 0;\n        }\n\n        const numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            const reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            const unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.has(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// §5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === NumberToken) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n// § 5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    const numberEnd = consumeNumber(token.value, 0);\n    const isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// §5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== NumberToken) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.\n    let i = charCodeAt(token.value, 0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            charCodeAt(token.value, 0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(charCodeAt(token.value, i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// token types\nexport const tokenTypes = {\n    'ident-token': tokenType(Ident),\n    'function-token': tokenType(FunctionToken),\n    'at-keyword-token': tokenType(AtKeyword),\n    'hash-token': tokenType(Hash),\n    'string-token': tokenType(StringToken),\n    'bad-string-token': tokenType(BadString),\n    'url-token': tokenType(Url),\n    'bad-url-token': tokenType(BadUrl),\n    'delim-token': tokenType(Delim),\n    'number-token': tokenType(NumberToken),\n    'percentage-token': tokenType(Percentage),\n    'dimension-token': tokenType(Dimension),\n    'whitespace-token': tokenType(WhiteSpace),\n    'CDO-token': tokenType(CDO),\n    'CDC-token': tokenType(CDC),\n    'colon-token': tokenType(Colon),\n    'semicolon-token': tokenType(Semicolon),\n    'comma-token': tokenType(Comma),\n    '[-token': tokenType(LeftSquareBracket),\n    ']-token': tokenType(RightSquareBracket),\n    '(-token': tokenType(LeftParenthesis),\n    ')-token': tokenType(RightParenthesis),\n    '{-token': tokenType(LeftCurlyBracket),\n    '}-token': tokenType(RightCurlyBracket)\n};\n\n// token production types\nexport const productionTypes = {\n    // token type aliases\n    'string': tokenType(StringToken),\n    'ident': tokenType(Ident),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // complex types\n    'custom-ident': customIdent,\n    'dashed-ident': dashedIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue\n};\n\nexport const unitGroups = [\n    'length',\n    'angle',\n    'time',\n    'frequency',\n    'resolution',\n    'flex',\n    'decibel',\n    'semitones'\n];\n\n// dimensions types depend on units set\nexport function createDemensionTypes(units) {\n    const {\n        angle,\n        decibel,\n        frequency,\n        flex,\n        length,\n        resolution,\n        semitones,\n        time\n    } = units || {};\n\n    return {\n        'dimension': calc(dimension(null)),\n        'angle': calc(dimension(angle)),\n        'decibel': calc(dimension(decibel)),\n        'frequency': calc(dimension(frequency)),\n        'flex': calc(dimension(flex)),\n        'length': calc(zero(dimension(length))),\n        'resolution': calc(dimension(resolution)),\n        'semitones': calc(dimension(semitones)),\n        'time': calc(dimension(time))\n    };\n}\n\nexport function createGenericTypes(units) {\n    return {\n        ...tokenTypes,\n        ...productionTypes,\n        ...createDemensionTypes(units)\n    };\n};\n",
    "export const length = [\n    // absolute length units https://www.w3.org/TR/css-values-3/#lengths\n    'cm', 'mm', 'q', 'in', 'pt', 'pc', 'px',\n    // font-relative length units https://drafts.csswg.org/css-values-4/#font-relative-lengths\n    'em', 'rem',\n    'ex', 'rex',\n    'cap', 'rcap',\n    'ch', 'rch',\n    'ic', 'ric',\n    'lh', 'rlh',\n    // viewport-percentage lengths https://drafts.csswg.org/css-values-4/#viewport-relative-lengths\n    'vw', 'svw', 'lvw', 'dvw',\n    'vh', 'svh', 'lvh', 'dvh',\n    'vi', 'svi', 'lvi', 'dvi',\n    'vb', 'svb', 'lvb', 'dvb',\n    'vmin', 'svmin', 'lvmin', 'dvmin',\n    'vmax', 'svmax', 'lvmax', 'dvmax',\n    // container relative lengths https://drafts.csswg.org/css-contain-3/#container-lengths\n    'cqw', 'cqh', 'cqi', 'cqb', 'cqmin', 'cqmax'\n];\nexport const angle = ['deg', 'grad', 'rad', 'turn'];    // https://www.w3.org/TR/css-values-3/#angles\nexport const time = ['s', 'ms'];                        // https://www.w3.org/TR/css-values-3/#time\nexport const frequency = ['hz', 'khz'];                 // https://www.w3.org/TR/css-values-3/#frequency\nexport const resolution = ['dpi', 'dpcm', 'dppx', 'x']; // https://www.w3.org/TR/css-values-3/#resolution\nexport const flex = ['fr'];                             // https://drafts.csswg.org/css-grid/#fr-unit\nexport const decibel = ['db'];                          // https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nexport const semitones = ['st'];                        // https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\n",
    "import { createCustomError } from '../utils/create-custom-error.js';\n\nexport function SyntaxError(message, input, offset) {\n    return Object.assign(createCustomError('SyntaxError', message), {\n        input,\n        offset,\n        rawMessage: message,\n        message: message + '\\n' +\n            '  ' + input + '\\n' +\n            '--' + new Array((offset || input.length) + 1).join('-') + '^'\n    });\n};\n",
    "import { SyntaxError } from './SyntaxError.js';\n\nconst TAB = 9;\nconst N = 10;\nconst F = 12;\nconst R = 13;\nconst SPACE = 32;\nconst NAME_CHAR = new Uint8Array(128).map((_, idx) =>\n    /[a-zA-Z0-9\\-]/.test(String.fromCharCode(idx)) ? 1 : 0\n);\n\nexport class Scanner {\n    constructor(str) {\n        this.str = str;\n        this.pos = 0;\n    }\n\n    charCodeAt(pos) {\n        return pos < this.str.length ? this.str.charCodeAt(pos) : 0;\n    }\n    charCode() {\n        return this.charCodeAt(this.pos);\n    }\n    isNameCharCode(code = this.charCode()) {\n        return code < 128 && NAME_CHAR[code] === 1;\n    }\n    nextCharCode() {\n        return this.charCodeAt(this.pos + 1);\n    }\n    nextNonWsCode(pos) {\n        return this.charCodeAt(this.findWsEnd(pos));\n    }\n    skipWs() {\n        this.pos = this.findWsEnd(this.pos);\n    }\n    findWsEnd(pos) {\n        for (; pos < this.str.length; pos++) {\n            const code = this.str.charCodeAt(pos);\n            if (code !== R && code !== N && code !== F && code !== SPACE && code !== TAB) {\n                break;\n            }\n        }\n\n        return pos;\n    }\n    substringToPos(end) {\n        return this.str.substring(this.pos, this.pos = end);\n    }\n    eat(code) {\n        if (this.charCode() !== code) {\n            this.error('Expect `' + String.fromCharCode(code) + '`');\n        }\n\n        this.pos++;\n    }\n    peek() {\n        return this.pos < this.str.length ? this.str.charAt(this.pos++) : '';\n    }\n    error(message) {\n        throw new SyntaxError(message, this.str, this.pos);\n    }\n\n    scanSpaces() {\n        return this.substringToPos(this.findWsEnd(this.pos));\n    }\n    scanWord() {\n        let end = this.pos;\n\n        for (; end < this.str.length; end++) {\n            const code = this.str.charCodeAt(end);\n            if (code >= 128 || NAME_CHAR[code] === 0) {\n                break;\n            }\n        }\n\n        if (this.pos === end) {\n            this.error('Expect a keyword');\n        }\n\n        return this.substringToPos(end);\n    }\n    scanNumber() {\n        let end = this.pos;\n\n        for (; end < this.str.length; end++) {\n            const code = this.str.charCodeAt(end);\n\n            if (code < 48 || code > 57) {\n                break;\n            }\n        }\n\n        if (this.pos === end) {\n            this.error('Expect a number');\n        }\n\n        return this.substringToPos(end);\n    }\n    scanString() {\n        const end = this.str.indexOf('\\'', this.pos + 1);\n\n        if (end === -1) {\n            this.pos = this.str.length;\n            this.error('Expect an apostrophe');\n        }\n\n        return this.substringToPos(end + 1);\n    }\n};\n",
    "import { Scanner } from './scanner.js';\n\nconst TAB = 9;\nconst N = 10;\nconst F = 12;\nconst R = 13;\nconst SPACE = 32;\nconst EXCLAMATIONMARK = 33;    // !\nconst NUMBERSIGN = 35;         // #\nconst AMPERSAND = 38;          // &\nconst APOSTROPHE = 39;         // '\nconst LEFTPARENTHESIS = 40;    // (\nconst RIGHTPARENTHESIS = 41;   // )\nconst ASTERISK = 42;           // *\nconst PLUSSIGN = 43;           // +\nconst COMMA = 44;              // ,\nconst HYPERMINUS = 45;         // -\nconst LESSTHANSIGN = 60;       // <\nconst GREATERTHANSIGN = 62;    // >\nconst QUESTIONMARK = 63;       // ?\nconst COMMERCIALAT = 64;       // @\nconst LEFTSQUAREBRACKET = 91;  // [\nconst RIGHTSQUAREBRACKET = 93; // ]\nconst LEFTCURLYBRACKET = 123;  // {\nconst VERTICALLINE = 124;      // |\nconst RIGHTCURLYBRACKET = 125; // }\nconst INFINITY = 8734;         // ∞\nconst COMBINATOR_PRECEDENCE = {\n    ' ': 1,\n    '&&': 2,\n    '||': 3,\n    '|': 4\n};\n\nfunction readMultiplierRange(scanner) {\n    let min = null;\n    let max = null;\n\n    scanner.eat(LEFTCURLYBRACKET);\n    scanner.skipWs();\n\n    min = scanner.scanNumber(scanner);\n    scanner.skipWs();\n\n    if (scanner.charCode() === COMMA) {\n        scanner.pos++;\n        scanner.skipWs();\n\n        if (scanner.charCode() !== RIGHTCURLYBRACKET) {\n            max = scanner.scanNumber(scanner);\n            scanner.skipWs();\n        }\n    } else {\n        max = min;\n    }\n\n    scanner.eat(RIGHTCURLYBRACKET);\n\n    return {\n        min: Number(min),\n        max: max ? Number(max) : 0\n    };\n}\n\nfunction readMultiplier(scanner) {\n    let range = null;\n    let comma = false;\n\n    switch (scanner.charCode()) {\n        case ASTERISK:\n            scanner.pos++;\n\n            range = {\n                min: 0,\n                max: 0\n            };\n\n            break;\n\n        case PLUSSIGN:\n            scanner.pos++;\n\n            range = {\n                min: 1,\n                max: 0\n            };\n\n            break;\n\n        case QUESTIONMARK:\n            scanner.pos++;\n\n            range = {\n                min: 0,\n                max: 1\n            };\n\n            break;\n\n        case NUMBERSIGN:\n            scanner.pos++;\n\n            comma = true;\n\n            if (scanner.charCode() === LEFTCURLYBRACKET) {\n                range = readMultiplierRange(scanner);\n            } else if (scanner.charCode() === QUESTIONMARK) {\n                // https://www.w3.org/TR/css-values-4/#component-multipliers\n                // > the # and ? multipliers may be stacked as #?\n                // In this case just treat \"#?\" as a single multiplier\n                // { min: 0, max: 0, comma: true }\n                scanner.pos++;\n                range = {\n                    min: 0,\n                    max: 0\n                };\n            } else {\n                range = {\n                    min: 1,\n                    max: 0\n                };\n            }\n\n            break;\n\n        case LEFTCURLYBRACKET:\n            range = readMultiplierRange(scanner);\n            break;\n\n        default:\n            return null;\n    }\n\n    return {\n        type: 'Multiplier',\n        comma,\n        min: range.min,\n        max: range.max,\n        term: null\n    };\n}\n\nfunction maybeMultiplied(scanner, node) {\n    const multiplier = readMultiplier(scanner);\n\n    if (multiplier !== null) {\n        multiplier.term = node;\n\n        // https://www.w3.org/TR/css-values-4/#component-multipliers\n        // > The + and # multipliers may be stacked as +#;\n        // Represent \"+#\" as nested multipliers:\n        // { ...<multiplier #>,\n        //   term: {\n        //     ...<multipler +>,\n        //     term: node\n        //   }\n        // }\n        if (scanner.charCode() === NUMBERSIGN &&\n            scanner.charCodeAt(scanner.pos - 1) === PLUSSIGN) {\n            return maybeMultiplied(scanner, multiplier);\n        }\n\n        return multiplier;\n    }\n\n    return node;\n}\n\nfunction maybeToken(scanner) {\n    const ch = scanner.peek();\n\n    if (ch === '') {\n        return null;\n    }\n\n    return maybeMultiplied(scanner, {\n        type: 'Token',\n        value: ch\n    });\n}\n\nfunction readProperty(scanner) {\n    let name;\n\n    scanner.eat(LESSTHANSIGN);\n    scanner.eat(APOSTROPHE);\n\n    name = scanner.scanWord();\n\n    scanner.eat(APOSTROPHE);\n    scanner.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(scanner, {\n        type: 'Property',\n        name\n    });\n}\n\n// https://drafts.csswg.org/css-values-3/#numeric-ranges\n// 4.1. Range Restrictions and Range Definition Notation\n//\n// Range restrictions can be annotated in the numeric type notation using CSS bracketed\n// range notation—[min,max]—within the angle brackets, after the identifying keyword,\n// indicating a closed range between (and including) min and max.\n// For example, <integer [0, 10]> indicates an integer between 0 and 10, inclusive.\nfunction readTypeRange(scanner) {\n    // use null for Infinity to make AST format JSON serializable/deserializable\n    let min = null; // -Infinity\n    let max = null; // Infinity\n    let sign = 1;\n\n    scanner.eat(LEFTSQUAREBRACKET);\n\n    if (scanner.charCode() === HYPERMINUS) {\n        scanner.peek();\n        sign = -1;\n    }\n\n    if (sign == -1 && scanner.charCode() === INFINITY) {\n        scanner.peek();\n    } else {\n        min = sign * Number(scanner.scanNumber(scanner));\n\n        if (scanner.isNameCharCode()) {\n            min += scanner.scanWord();\n        }\n    }\n\n    scanner.skipWs();\n    scanner.eat(COMMA);\n    scanner.skipWs();\n\n    if (scanner.charCode() === INFINITY) {\n        scanner.peek();\n    } else {\n        sign = 1;\n\n        if (scanner.charCode() === HYPERMINUS) {\n            scanner.peek();\n            sign = -1;\n        }\n\n        max = sign * Number(scanner.scanNumber(scanner));\n\n        if (scanner.isNameCharCode()) {\n            max += scanner.scanWord();\n        }\n    }\n\n    scanner.eat(RIGHTSQUAREBRACKET);\n\n    return {\n        type: 'Range',\n        min,\n        max\n    };\n}\n\nfunction readType(scanner) {\n    let name;\n    let opts = null;\n\n    scanner.eat(LESSTHANSIGN);\n    name = scanner.scanWord();\n\n    // https://drafts.csswg.org/css-values-5/#boolean\n    if (name === 'boolean-expr') {\n        scanner.eat(LEFTSQUAREBRACKET);\n\n        const implicitGroup = readImplicitGroup(scanner, RIGHTSQUAREBRACKET);\n\n        scanner.eat(RIGHTSQUAREBRACKET);\n        scanner.eat(GREATERTHANSIGN);\n\n        return maybeMultiplied(scanner, {\n            type: 'Boolean',\n            term: implicitGroup.terms.length === 1\n                ? implicitGroup.terms[0]\n                : implicitGroup\n        });\n    }\n\n    if (scanner.charCode() === LEFTPARENTHESIS &&\n        scanner.nextCharCode() === RIGHTPARENTHESIS) {\n        scanner.pos += 2;\n        name += '()';\n    }\n\n    if (scanner.charCodeAt(scanner.findWsEnd(scanner.pos)) === LEFTSQUAREBRACKET) {\n        scanner.skipWs();\n        opts = readTypeRange(scanner);\n    }\n\n    scanner.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(scanner, {\n        type: 'Type',\n        name,\n        opts\n    });\n}\n\nfunction readKeywordOrFunction(scanner) {\n    const name = scanner.scanWord();\n\n    if (scanner.charCode() === LEFTPARENTHESIS) {\n        scanner.pos++;\n\n        return {\n            type: 'Function',\n            name\n        };\n    }\n\n    return maybeMultiplied(scanner, {\n        type: 'Keyword',\n        name\n    });\n}\n\nfunction regroupTerms(terms, combinators) {\n    function createGroup(terms, combinator) {\n        return {\n            type: 'Group',\n            terms,\n            combinator,\n            disallowEmpty: false,\n            explicit: false\n        };\n    }\n\n    let combinator;\n\n    combinators = Object.keys(combinators)\n        .sort((a, b) => COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b]);\n\n    while (combinators.length > 0) {\n        combinator = combinators.shift();\n\n        let i = 0;\n        let subgroupStart = 0;\n\n        for (; i < terms.length; i++) {\n            const term = terms[i];\n\n            if (term.type === 'Combinator') {\n                if (term.value === combinator) {\n                    if (subgroupStart === -1) {\n                        subgroupStart = i - 1;\n                    }\n                    terms.splice(i, 1);\n                    i--;\n                } else {\n                    if (subgroupStart !== -1 && i - subgroupStart > 1) {\n                        terms.splice(\n                            subgroupStart,\n                            i - subgroupStart,\n                            createGroup(terms.slice(subgroupStart, i), combinator)\n                        );\n                        i = subgroupStart + 1;\n                    }\n                    subgroupStart = -1;\n                }\n            }\n        }\n\n        if (subgroupStart !== -1 && combinators.length) {\n            terms.splice(\n                subgroupStart,\n                i - subgroupStart,\n                createGroup(terms.slice(subgroupStart, i), combinator)\n            );\n        }\n    }\n\n    return combinator;\n}\n\nfunction readImplicitGroup(scanner, stopCharCode) {\n    const combinators = Object.create(null);\n    const terms = [];\n    let token;\n    let prevToken = null;\n    let prevTokenPos = scanner.pos;\n\n    while (scanner.charCode() !== stopCharCode && (token = peek(scanner, stopCharCode))) {\n        if (token.type !== 'Spaces') {\n            if (token.type === 'Combinator') {\n                // check for combinator in group beginning and double combinator sequence\n                if (prevToken === null || prevToken.type === 'Combinator') {\n                    scanner.pos = prevTokenPos;\n                    scanner.error('Unexpected combinator');\n                }\n\n                combinators[token.value] = true;\n            } else if (prevToken !== null && prevToken.type !== 'Combinator') {\n                combinators[' '] = true;  // a b\n                terms.push({\n                    type: 'Combinator',\n                    value: ' '\n                });\n            }\n\n            terms.push(token);\n            prevToken = token;\n            prevTokenPos = scanner.pos;\n        }\n    }\n\n    // check for combinator in group ending\n    if (prevToken !== null && prevToken.type === 'Combinator') {\n        scanner.pos -= prevTokenPos;\n        scanner.error('Unexpected combinator');\n    }\n\n    return {\n        type: 'Group',\n        terms,\n        combinator: regroupTerms(terms, combinators) || ' ',\n        disallowEmpty: false,\n        explicit: false\n    };\n}\n\nfunction readGroup(scanner, stopCharCode) {\n    let result;\n\n    scanner.eat(LEFTSQUAREBRACKET);\n    result = readImplicitGroup(scanner, stopCharCode);\n    scanner.eat(RIGHTSQUAREBRACKET);\n\n    result.explicit = true;\n\n    if (scanner.charCode() === EXCLAMATIONMARK) {\n        scanner.pos++;\n        result.disallowEmpty = true;\n    }\n\n    return result;\n}\n\nfunction peek(scanner, stopCharCode) {\n    let code = scanner.charCode();\n\n    switch (code) {\n        case RIGHTSQUAREBRACKET:\n            // don't eat, stop scan a group\n            break;\n\n        case LEFTSQUAREBRACKET:\n            return maybeMultiplied(scanner, readGroup(scanner, stopCharCode));\n\n        case LESSTHANSIGN:\n            return scanner.nextCharCode() === APOSTROPHE\n                ? readProperty(scanner)\n                : readType(scanner);\n\n        case VERTICALLINE:\n            return {\n                type: 'Combinator',\n                value: scanner.substringToPos(\n                    scanner.pos + (scanner.nextCharCode() === VERTICALLINE ? 2 : 1)\n                )\n            };\n\n        case AMPERSAND:\n            scanner.pos++;\n            scanner.eat(AMPERSAND);\n\n            return {\n                type: 'Combinator',\n                value: '&&'\n            };\n\n        case COMMA:\n            scanner.pos++;\n            return {\n                type: 'Comma'\n            };\n\n        case APOSTROPHE:\n            return maybeMultiplied(scanner, {\n                type: 'String',\n                value: scanner.scanString()\n            });\n\n        case SPACE:\n        case TAB:\n        case N:\n        case R:\n        case F:\n            return {\n                type: 'Spaces',\n                value: scanner.scanSpaces()\n            };\n\n        case COMMERCIALAT:\n            code = scanner.nextCharCode();\n\n            if (scanner.isNameCharCode(code)) {\n                scanner.pos++;\n                return {\n                    type: 'AtKeyword',\n                    name: scanner.scanWord()\n                };\n            }\n\n            return maybeToken(scanner);\n\n        case ASTERISK:\n        case PLUSSIGN:\n        case QUESTIONMARK:\n        case NUMBERSIGN:\n        case EXCLAMATIONMARK:\n            // prohibited tokens (used as a multiplier start)\n            break;\n\n        case LEFTCURLYBRACKET:\n            // LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting\n            // check next char isn't a number, because it's likely a disjoined multiplier\n            code = scanner.nextCharCode();\n\n            if (code < 48 || code > 57) {\n                return maybeToken(scanner);\n            }\n\n            break;\n\n        default:\n            if (scanner.isNameCharCode(code)) {\n                return readKeywordOrFunction(scanner);\n            }\n\n            return maybeToken(scanner);\n    }\n}\n\nexport function parse(source) {\n    const scanner = new Scanner(source);\n    const result = readImplicitGroup(scanner);\n\n    if (scanner.pos !== source.length) {\n        scanner.error('Unexpected input');\n    }\n\n    // reduce redundant groups with single group term\n    if (result.terms.length === 1 && result.terms[0].type === 'Group') {\n        return result.terms[0];\n    }\n\n    return result;\n};\n",
    "const noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nexport function walk(node, options, context) {\n    function walk(node) {\n        enter.call(context, node);\n\n        switch (node.type) {\n            case 'Group':\n                node.terms.forEach(walk);\n                break;\n\n            case 'Multiplier':\n            case 'Boolean':\n                walk(node.term);\n                break;\n\n            case 'Type':\n            case 'Property':\n            case 'Keyword':\n            case 'AtKeyword':\n            case 'Function':\n            case 'String':\n            case 'Token':\n            case 'Comma':\n                break;\n\n            default:\n                throw new Error('Unknown type: ' + node.type);\n        }\n\n        leave.call(context, node);\n    }\n\n    let enter = noop;\n    let leave = noop;\n\n    if (typeof options === 'function') {\n        enter = options;\n    } else if (options) {\n        enter = ensureFunction(options.enter);\n        leave = ensureFunction(options.leave);\n    }\n\n    if (enter === noop && leave === noop) {\n        throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n    }\n\n    walk(node, context);\n};\n",
    "import { tokenize } from '../tokenizer/index.js';\n\nconst astToTokens = {\n    decorator(handlers) {\n        const tokens = [];\n        let curNode = null;\n\n        return {\n            ...handlers,\n            node(node) {\n                const tmp = curNode;\n                curNode = node;\n                handlers.node.call(this, node);\n                curNode = tmp;\n            },\n            emit(value, type, auto) {\n                tokens.push({\n                    type,\n                    value,\n                    node: auto ? null : curNode\n                });\n            },\n            result() {\n                return tokens;\n            }\n        };\n    }\n};\n\nfunction stringToTokens(str) {\n    const tokens = [];\n\n    tokenize(str, (type, start, end) =>\n        tokens.push({\n            type,\n            value: str.slice(start, end),\n            node: null\n        })\n    );\n\n    return tokens;\n}\n\nexport default function(value, syntax) {\n    if (typeof value === 'string') {\n        return stringToTokens(value);\n    }\n\n    return syntax.generate(value, astToTokens);\n};\n",
    "import { parse } from '../definition-syntax/parse.js';\n\nexport const MATCH = { type: 'Match' };\nexport const MISMATCH = { type: 'Mismatch' };\nexport const DISALLOW_EMPTY = { type: 'DisallowEmpty' };\n\nconst LEFTPARENTHESIS = 40;  // (\nconst RIGHTPARENTHESIS = 41; // )\n\nfunction createCondition(match, thenBranch, elseBranch) {\n    // reduce node count\n    if (thenBranch === MATCH && elseBranch === MISMATCH) {\n        return match;\n    }\n\n    if (match === MATCH && thenBranch === MATCH && elseBranch === MATCH) {\n        return match;\n    }\n\n    if (match.type === 'If' && match.else === MISMATCH && thenBranch === MATCH) {\n        thenBranch = match.then;\n        match = match.match;\n    }\n\n    return {\n        type: 'If',\n        match,\n        then: thenBranch,\n        else: elseBranch\n    };\n}\n\nfunction isFunctionType(name) {\n    return (\n        name.length > 2 &&\n        name.charCodeAt(name.length - 2) === LEFTPARENTHESIS &&\n        name.charCodeAt(name.length - 1) === RIGHTPARENTHESIS\n    );\n}\n\nfunction isEnumCapatible(term) {\n    return (\n        term.type === 'Keyword' ||\n        term.type === 'AtKeyword' ||\n        term.type === 'Function' ||\n        term.type === 'Type' && isFunctionType(term.name)\n    );\n}\n\nfunction groupNode(terms, combinator = ' ', explicit = false) {\n    return {\n        type: 'Group',\n        terms,\n        combinator,\n        disallowEmpty: false,\n        explicit\n    };\n}\n\nfunction replaceTypeInGraph(node, replacements, visited = new Set()) {\n    if (!visited.has(node)) {\n        visited.add(node);\n\n        switch (node.type) {\n            case 'If':\n                node.match = replaceTypeInGraph(node.match, replacements, visited);\n                node.then = replaceTypeInGraph(node.then, replacements, visited);\n                node.else = replaceTypeInGraph(node.else, replacements, visited);\n                break;\n\n            case 'Type':\n                return replacements[node.name] || node;\n        }\n    }\n\n    return node;\n}\n\nfunction buildGroupMatchGraph(combinator, terms, atLeastOneTermMatched) {\n    switch (combinator) {\n        case ' ': {\n            // Juxtaposing components means that all of them must occur, in the given order.\n            //\n            // a b c\n            // =\n            // match a\n            //   then match b\n            //     then match c\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            //   else MISMATCH\n            let result = MATCH;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                const term = terms[i];\n\n                result = createCondition(\n                    term,\n                    result,\n                    MISMATCH\n                );\n            };\n\n            return result;\n        }\n\n        case '|': {\n            // A bar (|) separates two or more alternatives: exactly one of them must occur.\n            //\n            // a | b | c\n            // =\n            // match a\n            //   then MATCH\n            //   else match b\n            //     then MATCH\n            //     else match c\n            //       then MATCH\n            //       else MISMATCH\n\n            let result = MISMATCH;\n            let map = null;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                let term = terms[i];\n\n                // reduce sequence of keywords into a Enum\n                if (isEnumCapatible(term)) {\n                    if (map === null && i > 0 && isEnumCapatible(terms[i - 1])) {\n                        map = Object.create(null);\n                        result = createCondition(\n                            {\n                                type: 'Enum',\n                                map\n                            },\n                            MATCH,\n                            result\n                        );\n                    }\n\n                    if (map !== null) {\n                        const key = (isFunctionType(term.name) ? term.name.slice(0, -1) : term.name).toLowerCase();\n                        if (key in map === false) {\n                            map[key] = term;\n                            continue;\n                        }\n                    }\n                }\n\n                map = null;\n\n                // create a new conditonal node\n                result = createCondition(\n                    term,\n                    MATCH,\n                    result\n                );\n            };\n\n            return result;\n        }\n\n        case '&&': {\n            // A double ampersand (&&) separates two or more components,\n            // all of which must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since &&-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms,\n                    all: true\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a && b && c\n            // =\n            // match a\n            //   then [b && c]\n            //   else match b\n            //     then [a && c]\n            //     else match c\n            //       then [a && b]\n            //       else MISMATCH\n            //\n            // a && b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MISMATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            let result = MISMATCH;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                const term = terms[i];\n                let thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        false\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n        }\n\n        case '||': {\n            // A double bar (||) separates two or more options:\n            // one or more of them must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since ||-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms,\n                    all: false\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a || b || c\n            // =\n            // match a\n            //   then [b || c]\n            //   else match b\n            //     then [a || c]\n            //     else match c\n            //       then [a || b]\n            //       else MISMATCH\n            //\n            // a || b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MATCH\n            //     else MISMATCH\n            let result = atLeastOneTermMatched ? MATCH : MISMATCH;\n\n            for (let i = terms.length - 1; i >= 0; i--) {\n                const term = terms[i];\n                let thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        true\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n        }\n    }\n}\n\nfunction buildMultiplierMatchGraph(node) {\n    let result = MATCH;\n    let matchTerm = buildMatchGraphInternal(node.term);\n\n    if (node.max === 0) {\n        // disable repeating of empty match to prevent infinite loop\n        matchTerm = createCondition(\n            matchTerm,\n            DISALLOW_EMPTY,\n            MISMATCH\n        );\n\n        // an occurrence count is not limited, make a cycle;\n        // to collect more terms on each following matching mismatch\n        result = createCondition(\n            matchTerm,\n            null, // will be a loop\n            MISMATCH\n        );\n\n        result.then = createCondition(\n            MATCH,\n            MATCH,\n            result // make a loop\n        );\n\n        if (node.comma) {\n            result.then.else = createCondition(\n                { type: 'Comma', syntax: node },\n                result,\n                MISMATCH\n            );\n        }\n    } else {\n        // create a match node chain for [min .. max] interval with optional matches\n        for (let i = node.min || 1; i <= node.max; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                createCondition(\n                    MATCH,\n                    MATCH,\n                    result\n                ),\n                MISMATCH\n            );\n        }\n    }\n\n    if (node.min === 0) {\n        // allow zero match\n        result = createCondition(\n            MATCH,\n            MATCH,\n            result\n        );\n    } else {\n        // create a match node chain to collect [0 ... min - 1] required matches\n        for (let i = 0; i < node.min - 1; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                result,\n                MISMATCH\n            );\n        }\n    }\n\n    return result;\n}\n\nfunction buildMatchGraphInternal(node) {\n    if (typeof node === 'function') {\n        return {\n            type: 'Generic',\n            fn: node\n        };\n    }\n\n    switch (node.type) {\n        case 'Group': {\n            let result = buildGroupMatchGraph(\n                node.combinator,\n                node.terms.map(buildMatchGraphInternal),\n                false\n            );\n\n            if (node.disallowEmpty) {\n                result = createCondition(\n                    result,\n                    DISALLOW_EMPTY,\n                    MISMATCH\n                );\n            }\n\n            return result;\n        }\n\n        case 'Multiplier':\n            return buildMultiplierMatchGraph(node);\n\n        // https://drafts.csswg.org/css-values-5/#boolean\n        case 'Boolean': {\n            const term = buildMatchGraphInternal(node.term);\n            // <boolean-expr[ <test> ]> = not <boolean-expr-group> | <boolean-expr-group> [ [ and <boolean-expr-group> ]* | [ or <boolean-expr-group> ]* ]\n            const matchNode = buildMatchGraphInternal(groupNode([\n                groupNode([\n                    { type: 'Keyword', name: 'not' },\n                    { type: 'Type', name: '!boolean-group' }\n                ]),\n                groupNode([\n                    { type: 'Type', name: '!boolean-group' },\n                    groupNode([\n                        { type: 'Multiplier', comma: false, min: 0, max: 0, term: groupNode([\n                            { type: 'Keyword', name: 'and' },\n                            { type: 'Type', name: '!boolean-group' }\n                        ]) },\n                        { type: 'Multiplier', comma: false, min: 0, max: 0, term: groupNode([\n                            { type: 'Keyword', name: 'or' },\n                            { type: 'Type', name: '!boolean-group' }\n                        ]) }\n                    ], '|')\n                ])\n            ], '|'));\n            // <boolean-expr-group> = <test> | ( <boolean-expr[ <test> ]> ) | <general-enclosed>\n            const booleanGroup = buildMatchGraphInternal(\n                groupNode([\n                    { type: 'Type', name: '!term' },\n                    groupNode([\n                        { type: 'Token', value: '(' },\n                        { type: 'Type', name: '!self' },\n                        { type: 'Token', value: ')' }\n                    ]),\n                    { type: 'Type', name: 'general-enclosed' }\n                ], '|')\n            );\n\n            replaceTypeInGraph(booleanGroup, { '!term': term, '!self': matchNode });\n            replaceTypeInGraph(matchNode, { '!boolean-group': booleanGroup });\n\n            return matchNode;\n        }\n\n        case 'Type':\n        case 'Property':\n            return {\n                type: node.type,\n                name: node.name,\n                syntax: node\n            };\n\n        case 'Keyword':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'AtKeyword':\n            return {\n                type: node.type,\n                name: '@' + node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'Function':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase() + '(',\n                syntax: node\n            };\n\n        case 'String':\n            // convert a one char length String to a Token\n            if (node.value.length === 3) {\n                return {\n                    type: 'Token',\n                    value: node.value.charAt(1),\n                    syntax: node\n                };\n            }\n\n            // otherwise use it as is\n            return {\n                type: node.type,\n                value: node.value.substr(1, node.value.length - 2).replace(/\\\\'/g, '\\''),\n                syntax: node\n            };\n\n        case 'Token':\n            return {\n                type: node.type,\n                value: node.value,\n                syntax: node\n            };\n\n        case 'Comma':\n            return {\n                type: node.type,\n                syntax: node\n            };\n\n        default:\n            throw new Error('Unknown node type:', node.type);\n    }\n}\n\nexport function buildMatchGraph(syntaxTree, ref) {\n    if (typeof syntaxTree === 'string') {\n        syntaxTree = parse(syntaxTree);\n    }\n\n    return {\n        type: 'MatchGraph',\n        match: buildMatchGraphInternal(syntaxTree),\n        syntax: ref || null,\n        source: syntaxTree\n    };\n}\n",
    "import { MATCH, MISMATCH, DISALLOW_EMPTY } from './match-graph.js';\nimport * as TYPE from '../tokenizer/types.js';\n\nconst { hasOwnProperty } = Object.prototype;\nconst STUB = 0;\nconst TOKEN = 1;\nconst OPEN_SYNTAX = 2;\nconst CLOSE_SYNTAX = 3;\n\nconst EXIT_REASON_MATCH = 'Match';\nconst EXIT_REASON_MISMATCH = 'Mismatch';\nconst EXIT_REASON_ITERATION_LIMIT = 'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)';\n\nconst ITERATION_LIMIT = 15000;\nexport let totalIterationCount = 0;\n\nfunction reverseList(list) {\n    let prev = null;\n    let next = null;\n    let item = list;\n\n    while (item !== null) {\n        next = item.prev;\n        item.prev = prev;\n        prev = item;\n        item = next;\n    }\n\n    return prev;\n}\n\nfunction areStringsEqualCaseInsensitive(testStr, referenceStr) {\n    if (testStr.length !== referenceStr.length) {\n        return false;\n    }\n\n    for (let i = 0; i < testStr.length; i++) {\n        const referenceCode = referenceStr.charCodeAt(i);\n        let testCode = testStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).\n        if (testCode >= 0x0041 && testCode <= 0x005A) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isContextEdgeDelim(token) {\n    if (token.type !== TYPE.Delim) {\n        return false;\n    }\n\n    // Fix matching for unicode-range: U+30??, U+FF00-FF9F\n    // Probably we need to check out previous match instead\n    return token.value !== '?';\n}\n\nfunction isCommaContextStart(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.Comma ||\n        token.type === TYPE.Function ||\n        token.type === TYPE.LeftParenthesis ||\n        token.type === TYPE.LeftSquareBracket ||\n        token.type === TYPE.LeftCurlyBracket ||\n        isContextEdgeDelim(token)\n    );\n}\n\nfunction isCommaContextEnd(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.RightParenthesis ||\n        token.type === TYPE.RightSquareBracket ||\n        token.type === TYPE.RightCurlyBracket ||\n        (token.type === TYPE.Delim && token.value === '/')\n    );\n}\n\nfunction internalMatch(tokens, state, syntaxes) {\n    function moveToNextToken() {\n        do {\n            tokenIndex++;\n            token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n        } while (token !== null && (token.type === TYPE.WhiteSpace || token.type === TYPE.Comment));\n    }\n\n    function getNextToken(offset) {\n        const nextIndex = tokenIndex + offset;\n\n        return nextIndex < tokens.length ? tokens[nextIndex] : null;\n    }\n\n    function stateSnapshotFromSyntax(nextState, prev) {\n        return {\n            nextState,\n            matchStack,\n            syntaxStack,\n            thenStack,\n            tokenIndex,\n            prev\n        };\n    }\n\n    function pushThenStack(nextState) {\n        thenStack = {\n            nextState,\n            matchStack,\n            syntaxStack,\n            prev: thenStack\n        };\n    }\n\n    function pushElseStack(nextState) {\n        elseStack = stateSnapshotFromSyntax(nextState, elseStack);\n    }\n\n    function addTokenToMatch() {\n        matchStack = {\n            type: TOKEN,\n            syntax: state.syntax,\n            token,\n            prev: matchStack\n        };\n\n        moveToNextToken();\n        syntaxStash = null;\n\n        if (tokenIndex > longestMatch) {\n            longestMatch = tokenIndex;\n        }\n    }\n\n    function openSyntax() {\n        syntaxStack = {\n            syntax: state.syntax,\n            opts: state.syntax.opts || (syntaxStack !== null && syntaxStack.opts) || null,\n            prev: syntaxStack\n        };\n\n        matchStack = {\n            type: OPEN_SYNTAX,\n            syntax: state.syntax,\n            token: matchStack.token,\n            prev: matchStack\n        };\n    }\n\n    function closeSyntax() {\n        if (matchStack.type === OPEN_SYNTAX) {\n            matchStack = matchStack.prev;\n        } else {\n            matchStack = {\n                type: CLOSE_SYNTAX,\n                syntax: syntaxStack.syntax,\n                token: matchStack.token,\n                prev: matchStack\n            };\n        }\n\n        syntaxStack = syntaxStack.prev;\n    }\n\n    let syntaxStack = null;\n    let thenStack = null;\n    let elseStack = null;\n\n    // null – stashing allowed, nothing stashed\n    // false – stashing disabled, nothing stashed\n    // anithing else – fail stashable syntaxes, some syntax stashed\n    let syntaxStash = null;\n\n    let iterationCount = 0; // count iterations and prevent infinite loop\n    let exitReason = null;\n\n    let token = null;\n    let tokenIndex = -1;\n    let longestMatch = 0;\n    let matchStack = {\n        type: STUB,\n        syntax: null,\n        token: null,\n        prev: null\n    };\n\n    moveToNextToken();\n\n    while (exitReason === null && ++iterationCount < ITERATION_LIMIT) {\n        // function mapList(list, fn) {\n        //     const result = [];\n        //     while (list) {\n        //         result.unshift(fn(list));\n        //         list = list.prev;\n        //     }\n        //     return result;\n        // }\n        // console.log('--\\n',\n        //     '#' + iterationCount,\n        //     require('util').inspect({\n        //         match: mapList(matchStack, x => x.type === TOKEN ? x.token && x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '<', [CLOSE_SYNTAX]: '</' }[x.type] || x.type) + '!' + x.syntax.name : null),\n        //         token: token && token.value,\n        //         tokenIndex,\n        //         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')\n        //     }, { depth: null })\n        // );\n        switch (state.type) {\n            case 'Match':\n                if (thenStack === null) {\n                    // turn to MISMATCH when some tokens left unmatched\n                    if (token !== null) {\n                        // doesn't mismatch if just one token left and it's an IE hack\n                        if (tokenIndex !== tokens.length - 1 || (token.value !== '\\\\0' && token.value !== '\\\\9')) {\n                            state = MISMATCH;\n                            break;\n                        }\n                    }\n\n                    // break the main loop, return a result - MATCH\n                    exitReason = EXIT_REASON_MATCH;\n                    break;\n                }\n\n                // go to next syntax (`then` branch)\n                state = thenStack.nextState;\n\n                // check match is not empty\n                if (state === DISALLOW_EMPTY) {\n                    if (thenStack.matchStack === matchStack) {\n                        state = MISMATCH;\n                        break;\n                    } else {\n                        state = MATCH;\n                    }\n                }\n\n                // close syntax if needed\n                while (thenStack.syntaxStack !== syntaxStack) {\n                    closeSyntax();\n                }\n\n                // pop stack\n                thenStack = thenStack.prev;\n                break;\n\n            case 'Mismatch':\n                // when some syntax is stashed\n                if (syntaxStash !== null && syntaxStash !== false) {\n                    // there is no else branches or a branch reduce match stack\n                    if (elseStack === null || tokenIndex > elseStack.tokenIndex) {\n                        // restore state from the stash\n                        elseStack = syntaxStash;\n                        syntaxStash = false; // disable stashing\n                    }\n                } else if (elseStack === null) {\n                    // no else branches -> break the main loop\n                    // return a result - MISMATCH\n                    exitReason = EXIT_REASON_MISMATCH;\n                    break;\n                }\n\n                // go to next syntax (`else` branch)\n                state = elseStack.nextState;\n\n                // restore all the rest stack states\n                thenStack = elseStack.thenStack;\n                syntaxStack = elseStack.syntaxStack;\n                matchStack = elseStack.matchStack;\n                tokenIndex = elseStack.tokenIndex;\n                token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n\n                // pop stack\n                elseStack = elseStack.prev;\n                break;\n\n            case 'MatchGraph':\n                state = state.match;\n                break;\n\n            case 'If':\n                // IMPORTANT: else stack push must go first,\n                // since it stores the state of thenStack before changes\n                if (state.else !== MISMATCH) {\n                    pushElseStack(state.else);\n                }\n\n                if (state.then !== MATCH) {\n                    pushThenStack(state.then);\n                }\n\n                state = state.match;\n                break;\n\n            case 'MatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state,\n                    index: 0,\n                    mask: 0\n                };\n                break;\n\n            case 'MatchOnceBuffer': {\n                const terms = state.syntax.terms;\n\n                if (state.index === terms.length) {\n                    // no matches at all or it's required all terms to be matched\n                    if (state.mask === 0 || state.syntax.all) {\n                        state = MISMATCH;\n                        break;\n                    }\n\n                    // a partial match is ok\n                    state = MATCH;\n                    break;\n                }\n\n                // all terms are matched\n                if (state.mask === (1 << terms.length) - 1) {\n                    state = MATCH;\n                    break;\n                }\n\n                for (; state.index < terms.length; state.index++) {\n                    const matchFlag = 1 << state.index;\n\n                    if ((state.mask & matchFlag) === 0) {\n                        // IMPORTANT: else stack push must go first,\n                        // since it stores the state of thenStack before changes\n                        pushElseStack(state);\n                        pushThenStack({\n                            type: 'AddMatchOnce',\n                            syntax: state.syntax,\n                            mask: state.mask | matchFlag\n                        });\n\n                        // match\n                        state = terms[state.index++];\n                        break;\n                    }\n                }\n                break;\n            }\n\n            case 'AddMatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state.syntax,\n                    index: 0,\n                    mask: state.mask\n                };\n                break;\n\n            case 'Enum':\n                if (token !== null) {\n                    let name = token.value.toLowerCase();\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (name.indexOf('\\\\') !== -1) {\n                        name = name.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (hasOwnProperty.call(state.map, name)) {\n                        state = state.map[name];\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Generic': {\n                const opts = syntaxStack !== null ? syntaxStack.opts : null;\n                const lastTokenIndex = tokenIndex + Math.floor(state.fn(token, getNextToken, opts));\n\n                if (!isNaN(lastTokenIndex) && lastTokenIndex > tokenIndex) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n            }\n\n            case 'Type':\n            case 'Property': {\n                const syntaxDict = state.type === 'Type' ? 'types' : 'properties';\n                const dictSyntax = hasOwnProperty.call(syntaxes, syntaxDict) ? syntaxes[syntaxDict][state.name] : null;\n\n                if (!dictSyntax || !dictSyntax.match) {\n                    throw new Error(\n                        'Bad syntax reference: ' +\n                        (state.type === 'Type'\n                            ? '<' + state.name + '>'\n                            : '<\\'' + state.name + '\\'>')\n                    );\n                }\n\n                // stash a syntax for types with low priority\n                if (syntaxStash !== false && token !== null && state.type === 'Type') {\n                    const lowPriorityMatching =\n                        // https://drafts.csswg.org/css-values-4/#custom-idents\n                        // When parsing positionally-ambiguous keywords in a property value, a <custom-ident> production\n                        // can only claim the keyword if no other unfulfilled production can claim it.\n                        (state.name === 'custom-ident' && token.type === TYPE.Ident) ||\n\n                        // https://drafts.csswg.org/css-values-4/#lengths\n                        // ... if a `0` could be parsed as either a <number> or a <length> in a property (such as line-height),\n                        // it must parse as a <number>\n                        (state.name === 'length' && token.value === '0');\n\n                    if (lowPriorityMatching) {\n                        if (syntaxStash === null) {\n                            syntaxStash = stateSnapshotFromSyntax(state, elseStack);\n                        }\n\n                        state = MISMATCH;\n                        break;\n                    }\n                }\n\n                openSyntax();\n                state = dictSyntax.matchRef || dictSyntax.match;\n                break;\n            }\n\n            case 'Keyword': {\n                const name = state.name;\n\n                if (token !== null) {\n                    let keywordName = token.value;\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (keywordName.indexOf('\\\\') !== -1) {\n                        keywordName = keywordName.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (areStringsEqualCaseInsensitive(keywordName, name)) {\n                        addTokenToMatch();\n                        state = MATCH;\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n            }\n\n            case 'AtKeyword':\n            case 'Function':\n                if (token !== null && areStringsEqualCaseInsensitive(token.value, state.name)) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Token':\n                if (token !== null && token.value === state.value) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Comma':\n                if (token !== null && token.type === TYPE.Comma) {\n                    if (isCommaContextStart(matchStack.token)) {\n                        state = MISMATCH;\n                    } else {\n                        addTokenToMatch();\n                        state = isCommaContextEnd(token) ? MISMATCH : MATCH;\n                    }\n                } else {\n                    state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH : MISMATCH;\n                }\n\n                break;\n\n            case 'String':\n                let string = '';\n                let lastTokenIndex = tokenIndex;\n\n                for (; lastTokenIndex < tokens.length && string.length < state.value.length; lastTokenIndex++) {\n                    string += tokens[lastTokenIndex].value;\n                }\n\n                if (areStringsEqualCaseInsensitive(string, state.value)) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            default:\n                throw new Error('Unknown node type: ' + state.type);\n        }\n    }\n\n    totalIterationCount += iterationCount;\n\n    switch (exitReason) {\n        case null:\n            console.warn('[csstree-match] BREAK after ' + ITERATION_LIMIT + ' iterations');\n            exitReason = EXIT_REASON_ITERATION_LIMIT;\n            matchStack = null;\n            break;\n\n        case EXIT_REASON_MATCH:\n            while (syntaxStack !== null) {\n                closeSyntax();\n            }\n            break;\n\n        default:\n            matchStack = null;\n    }\n\n    return {\n        tokens,\n        reason: exitReason,\n        iterations: iterationCount,\n        match: matchStack,\n        longestMatch\n    };\n}\n\nexport function matchAsList(tokens, matchGraph, syntaxes) {\n    const matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match !== null) {\n        let item = reverseList(matchResult.match).prev;\n\n        matchResult.match = [];\n\n        while (item !== null) {\n            switch (item.type) {\n                case OPEN_SYNTAX:\n                case CLOSE_SYNTAX:\n                    matchResult.match.push({\n                        type: item.type,\n                        syntax: item.syntax\n                    });\n                    break;\n\n                default:\n                    matchResult.match.push({\n                        token: item.token.value,\n                        node: item.token.node\n                    });\n                    break;\n            }\n\n            item = item.prev;\n        }\n    }\n\n    return matchResult;\n}\n\nexport function matchAsTree(tokens, matchGraph, syntaxes) {\n    const matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match === null) {\n        return matchResult;\n    }\n\n    let item = matchResult.match;\n    let host = matchResult.match = {\n        syntax: matchGraph.syntax || null,\n        match: []\n    };\n    const hostStack = [host];\n\n    // revert a list and start with 2nd item since 1st is a stub item\n    item = reverseList(item).prev;\n\n    // build a tree\n    while (item !== null) {\n        switch (item.type) {\n            case OPEN_SYNTAX:\n                host.match.push(host = {\n                    syntax: item.syntax,\n                    match: []\n                });\n                hostStack.push(host);\n                break;\n\n            case CLOSE_SYNTAX:\n                hostStack.pop();\n                host = hostStack[hostStack.length - 1];\n                break;\n\n            default:\n                host.match.push({\n                    syntax: item.syntax || null,\n                    token: item.token.value,\n                    node: item.token.node\n                });\n        }\n\n        item = item.prev;\n    }\n\n    return matchResult;\n}\n",
    "export function getTrace(node) {\n    function shouldPutToTrace(syntax) {\n        if (syntax === null) {\n            return false;\n        }\n\n        return (\n            syntax.type === 'Type' ||\n            syntax.type === 'Property' ||\n            syntax.type === 'Keyword'\n        );\n    }\n\n    function hasMatch(matchNode) {\n        if (Array.isArray(matchNode.match)) {\n            // use for-loop for better perfomance\n            for (let i = 0; i < matchNode.match.length; i++) {\n                if (hasMatch(matchNode.match[i])) {\n                    if (shouldPutToTrace(matchNode.syntax)) {\n                        result.unshift(matchNode.syntax);\n                    }\n\n                    return true;\n                }\n            }\n        } else if (matchNode.node === node) {\n            result = shouldPutToTrace(matchNode.syntax)\n                ? [matchNode.syntax]\n                : [];\n\n            return true;\n        }\n\n        return false;\n    }\n\n    let result = null;\n\n    if (this.matched !== null) {\n        hasMatch(this.matched);\n    }\n\n    return result;\n}\n\nexport function isType(node, type) {\n    return testNode(this, node, match => match.type === 'Type' && match.name === type);\n}\n\nexport function isProperty(node, property) {\n    return testNode(this, node, match => match.type === 'Property' && match.name === property);\n}\n\nexport function isKeyword(node) {\n    return testNode(this, node, match => match.type === 'Keyword');\n}\n\nfunction testNode(match, node, fn) {\n    const trace = getTrace.call(match, node);\n\n    if (trace === null) {\n        return false;\n    }\n\n    return trace.some(fn);\n}\n",
    "import { List } from '../utils/List.js';\n\nfunction getFirstMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getFirstMatchNode(matchNode.match[0]);\n}\n\nfunction getLastMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getLastMatchNode(matchNode.match[matchNode.match.length - 1]);\n}\n\nexport function matchFragments(lexer, ast, match, type, name) {\n    function findFragments(matchNode) {\n        if (matchNode.syntax !== null &&\n            matchNode.syntax.type === type &&\n            matchNode.syntax.name === name) {\n            const start = getFirstMatchNode(matchNode);\n            const end = getLastMatchNode(matchNode);\n\n            lexer.syntax.walk(ast, function(node, item, list) {\n                if (node === start) {\n                    const nodes = new List();\n\n                    do {\n                        nodes.appendData(item.data);\n\n                        if (item.data === end) {\n                            break;\n                        }\n\n                        item = item.next;\n                    } while (item !== null);\n\n                    fragments.push({\n                        parent: list,\n                        nodes\n                    });\n                }\n            });\n        }\n\n        if (Array.isArray(matchNode.match)) {\n            matchNode.match.forEach(findFragments);\n        }\n    }\n\n    const fragments = [];\n\n    if (match.matched !== null) {\n        findFragments(match.matched);\n    }\n\n    return fragments;\n}\n",
    "import { List } from '../utils/List.js';\n\nconst { hasOwnProperty } = Object.prototype;\n\nfunction isValidNumber(value) {\n    // Number.isInteger(value) && value >= 0\n    return (\n        typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value &&\n        value >= 0\n    );\n}\n\nfunction isValidLocation(loc) {\n    return (\n        Boolean(loc) &&\n        isValidNumber(loc.offset) &&\n        isValidNumber(loc.line) &&\n        isValidNumber(loc.column)\n    );\n}\n\nfunction createNodeStructureChecker(type, fields) {\n    return function checkNode(node, warn) {\n        if (!node || node.constructor !== Object) {\n            return warn(node, 'Type of node should be an Object');\n        }\n\n        for (let key in node) {\n            let valid = true;\n\n            if (hasOwnProperty.call(node, key) === false) {\n                continue;\n            }\n\n            if (key === 'type') {\n                if (node.type !== type) {\n                    warn(node, 'Wrong node type `' + node.type + '`, expected `' + type + '`');\n                }\n            } else if (key === 'loc') {\n                if (node.loc === null) {\n                    continue;\n                } else if (node.loc && node.loc.constructor === Object) {\n                    if (typeof node.loc.source !== 'string') {\n                        key += '.source';\n                    } else if (!isValidLocation(node.loc.start)) {\n                        key += '.start';\n                    } else if (!isValidLocation(node.loc.end)) {\n                        key += '.end';\n                    } else {\n                        continue;\n                    }\n                }\n\n                valid = false;\n            } else if (fields.hasOwnProperty(key)) {\n                valid = false;\n\n                for (let i = 0; !valid && i < fields[key].length; i++) {\n                    const fieldType = fields[key][i];\n\n                    switch (fieldType) {\n                        case String:\n                            valid = typeof node[key] === 'string';\n                            break;\n\n                        case Boolean:\n                            valid = typeof node[key] === 'boolean';\n                            break;\n\n                        case null:\n                            valid = node[key] === null;\n                            break;\n\n                        default:\n                            if (typeof fieldType === 'string') {\n                                valid = node[key] && node[key].type === fieldType;\n                            } else if (Array.isArray(fieldType)) {\n                                valid = node[key] instanceof List;\n                            }\n                    }\n                }\n            } else {\n                warn(node, 'Unknown field `' + key + '` for ' + type + ' node type');\n            }\n\n            if (!valid) {\n                warn(node, 'Bad value for `' + type + '.' + key + '`');\n            }\n        }\n\n        for (const key in fields) {\n            if (hasOwnProperty.call(fields, key) &&\n                hasOwnProperty.call(node, key) === false) {\n                warn(node, 'Field `' + type + '.' + key + '` is missed');\n            }\n        }\n    };\n}\n\nfunction genTypesList(fieldTypes, path) {\n    const docsTypes = [];\n\n    for (let i = 0; i < fieldTypes.length; i++) {\n        const fieldType = fieldTypes[i];\n        if (fieldType === String || fieldType === Boolean) {\n            docsTypes.push(fieldType.name.toLowerCase());\n        } else if (fieldType === null) {\n            docsTypes.push('null');\n        } else if (typeof fieldType === 'string') {\n            docsTypes.push(fieldType);\n        } else if (Array.isArray(fieldType)) {\n            docsTypes.push('List<' + (genTypesList(fieldType, path) || 'any') + '>'); // TODO: use type enum\n        } else {\n            throw new Error('Wrong value `' + fieldType + '` in `' + path + '` structure definition');\n        }\n    }\n\n    return docsTypes.join(' | ');\n}\n\nfunction processStructure(name, nodeType) {\n    const structure = nodeType.structure;\n    const fields = {\n        type: String,\n        loc: true\n    };\n    const docs = {\n        type: '\"' + name + '\"'\n    };\n\n    for (const key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        const fieldTypes = fields[key] = Array.isArray(structure[key])\n            ? structure[key].slice()\n            : [structure[key]];\n\n        docs[key] = genTypesList(fieldTypes, name + '.' + key);\n    }\n\n    return {\n        docs,\n        check: createNodeStructureChecker(name, fields)\n    };\n}\n\nexport function getStructureFromConfig(config) {\n    const structure = {};\n\n    if (config.node) {\n        for (const name in config.node) {\n            if (hasOwnProperty.call(config.node, name)) {\n                const nodeType = config.node[name];\n\n                if (nodeType.structure) {\n                    structure[name] = processStructure(name, nodeType);\n                } else {\n                    throw new Error('Missed `structure` field in `' + name + '` node type definition');\n                }\n            }\n        }\n    }\n\n    return structure;\n};\n",
    "import { SyntaxReferenceError, SyntaxMatchError } from './error.js';\nimport * as names from '../utils/names.js';\nimport { cssWideKeywords } from './generic-const.js';\nimport { createGenericTypes } from './generic.js';\nimport * as units from './units.js';\nimport { parse, generate, walk } from '../definition-syntax/index.js';\nimport prepareTokens from './prepare-tokens.js';\nimport { buildMatchGraph } from './match-graph.js';\nimport { matchAsTree } from './match.js';\nimport * as trace from './trace.js';\nimport { matchFragments } from './search.js';\nimport { getStructureFromConfig } from './structure.js';\n\nfunction dumpMapSyntax(map, compact, syntaxAsAst) {\n    const result = {};\n\n    for (const name in map) {\n        if (map[name].syntax) {\n            result[name] = syntaxAsAst\n                ? map[name].syntax\n                : generate(map[name].syntax, { compact });\n        }\n    }\n\n    return result;\n}\n\nfunction dumpAtruleMapSyntax(map, compact, syntaxAsAst) {\n    const result = {};\n\n    for (const [name, atrule] of Object.entries(map)) {\n        result[name] = {\n            prelude: atrule.prelude && (\n                syntaxAsAst\n                    ? atrule.prelude.syntax\n                    : generate(atrule.prelude.syntax, { compact })\n            ),\n            descriptors: atrule.descriptors && dumpMapSyntax(atrule.descriptors, compact, syntaxAsAst)\n        };\n    }\n\n    return result;\n}\n\nfunction valueHasVar(tokens) {\n    for (let i = 0; i < tokens.length; i++) {\n        if (tokens[i].value.toLowerCase() === 'var(') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction syntaxHasTopLevelCommaMultiplier(syntax) {\n    const singleTerm = syntax.terms[0];\n\n    return (\n        syntax.explicit === false &&\n        syntax.terms.length === 1 &&\n        singleTerm.type === 'Multiplier' &&\n        singleTerm.comma === true\n    );\n}\n\nfunction buildMatchResult(matched, error, iterations) {\n    return {\n        matched,\n        iterations,\n        error,\n        ...trace\n    };\n}\n\nfunction matchSyntax(lexer, syntax, value, useCssWideKeywords) {\n    const tokens = prepareTokens(value, lexer.syntax);\n    let result;\n\n    if (valueHasVar(tokens)) {\n        return buildMatchResult(null, new Error('Matching for a tree with var() is not supported'));\n    }\n\n    if (useCssWideKeywords) {\n        result = matchAsTree(tokens, lexer.cssWideKeywordsSyntax, lexer);\n    }\n\n    if (!useCssWideKeywords || !result.match) {\n        result = matchAsTree(tokens, syntax.match, lexer);\n        if (!result.match) {\n            return buildMatchResult(\n                null,\n                new SyntaxMatchError(result.reason, syntax.syntax, value, result),\n                result.iterations\n            );\n        }\n    }\n\n    return buildMatchResult(result.match, null, result.iterations);\n}\n\nexport class Lexer {\n    constructor(config, syntax, structure) {\n        this.cssWideKeywords = cssWideKeywords;\n        this.syntax = syntax;\n        this.generic = false;\n        this.units = { ...units };\n        this.atrules = Object.create(null);\n        this.properties = Object.create(null);\n        this.types = Object.create(null);\n        this.structure = structure || getStructureFromConfig(config);\n\n        if (config) {\n            if (config.cssWideKeywords) {\n                this.cssWideKeywords = config.cssWideKeywords;\n            }\n\n            if (config.units) {\n                for (const group of Object.keys(units)) {\n                    if (Array.isArray(config.units[group])) {\n                        this.units[group] = config.units[group];\n                    }\n                }\n            }\n\n            if (config.types) {\n                for (const [name, type] of Object.entries(config.types)) {\n                    this.addType_(name, type);\n                }\n            }\n\n            if (config.generic) {\n                this.generic = true;\n                for (const [name, value] of Object.entries(createGenericTypes(this.units))) {\n                    this.addType_(name, value);\n                }\n            }\n\n            if (config.atrules) {\n                for (const [name, atrule] of Object.entries(config.atrules)) {\n                    this.addAtrule_(name, atrule);\n                }\n            }\n\n            if (config.properties) {\n                for (const [name, property] of Object.entries(config.properties)) {\n                    this.addProperty_(name, property);\n                }\n            }\n        }\n\n        this.cssWideKeywordsSyntax = buildMatchGraph(this.cssWideKeywords.join(' |  '));\n    }\n\n    checkStructure(ast) {\n        function collectWarning(node, message) {\n            warns.push({ node, message });\n        }\n\n        const structure = this.structure;\n        const warns = [];\n\n        this.syntax.walk(ast, function(node) {\n            if (structure.hasOwnProperty(node.type)) {\n                structure[node.type].check(node, collectWarning);\n            } else {\n                collectWarning(node, 'Unknown node type `' + node.type + '`');\n            }\n        });\n\n        return warns.length ? warns : false;\n    }\n\n    createDescriptor(syntax, type, name, parent = null) {\n        const ref = {\n            type,\n            name\n        };\n        const descriptor = {\n            type,\n            name,\n            parent,\n            serializable: typeof syntax === 'string' || (syntax && typeof syntax.type === 'string'),\n            syntax: null,\n            match: null,\n            matchRef: null // used for properties when a syntax referenced as <'property'> in other syntax definitions\n        };\n\n        if (typeof syntax === 'function') {\n            descriptor.match = buildMatchGraph(syntax, ref);\n        } else {\n            if (typeof syntax === 'string') {\n                // lazy parsing on first access\n                Object.defineProperty(descriptor, 'syntax', {\n                    get() {\n                        Object.defineProperty(descriptor, 'syntax', {\n                            value: parse(syntax)\n                        });\n\n                        return descriptor.syntax;\n                    }\n                });\n            } else {\n                descriptor.syntax = syntax;\n            }\n\n            // lazy graph build on first access\n            Object.defineProperty(descriptor, 'match', {\n                get() {\n                    Object.defineProperty(descriptor, 'match', {\n                        value: buildMatchGraph(descriptor.syntax, ref)\n                    });\n\n                    return descriptor.match;\n                }\n            });\n\n            if (type === 'Property') {\n                Object.defineProperty(descriptor, 'matchRef', {\n                    get() {\n                        const syntax = descriptor.syntax;\n                        const value = syntaxHasTopLevelCommaMultiplier(syntax)\n                            ? buildMatchGraph({\n                                ...syntax,\n                                terms: [syntax.terms[0].term]\n                            }, ref)\n                            : null;\n\n                        Object.defineProperty(descriptor, 'matchRef', {\n                            value\n                        });\n\n                        return value;\n                    }\n                });\n            }\n        }\n\n        return descriptor;\n    }\n    addAtrule_(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.atrules[name] = {\n            type: 'Atrule',\n            name: name,\n            prelude: syntax.prelude ? this.createDescriptor(syntax.prelude, 'AtrulePrelude', name) : null,\n            descriptors: syntax.descriptors\n                ? Object.keys(syntax.descriptors).reduce(\n                    (map, descName) => {\n                        map[descName] = this.createDescriptor(syntax.descriptors[descName], 'AtruleDescriptor', descName, name);\n                        return map;\n                    },\n                    Object.create(null)\n                )\n                : null\n        };\n    }\n    addProperty_(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.properties[name] = this.createDescriptor(syntax, 'Property', name);\n    }\n    addType_(name, syntax) {\n        if (!syntax) {\n            return;\n        }\n\n        this.types[name] = this.createDescriptor(syntax, 'Type', name);\n    }\n\n    checkAtruleName(atruleName) {\n        if (!this.getAtrule(atruleName)) {\n            return new SyntaxReferenceError('Unknown at-rule', '@' + atruleName);\n        }\n    }\n    checkAtrulePrelude(atruleName, prelude) {\n        const error = this.checkAtruleName(atruleName);\n\n        if (error) {\n            return error;\n        }\n\n        const atrule = this.getAtrule(atruleName);\n\n        if (!atrule.prelude && prelude) {\n            return new SyntaxError('At-rule `@' + atruleName + '` should not contain a prelude');\n        }\n\n        if (atrule.prelude && !prelude) {\n            if (!matchSyntax(this, atrule.prelude, '', false).matched) {\n                return new SyntaxError('At-rule `@' + atruleName + '` should contain a prelude');\n            }\n        }\n    }\n    checkAtruleDescriptorName(atruleName, descriptorName) {\n        const error = this.checkAtruleName(atruleName);\n\n        if (error) {\n            return error;\n        }\n\n        const atrule = this.getAtrule(atruleName);\n        const descriptor = names.keyword(descriptorName);\n\n        if (!atrule.descriptors) {\n            return new SyntaxError('At-rule `@' + atruleName + '` has no known descriptors');\n        }\n\n        if (!atrule.descriptors[descriptor.name] &&\n            !atrule.descriptors[descriptor.basename]) {\n            return new SyntaxReferenceError('Unknown at-rule descriptor', descriptorName);\n        }\n    }\n    checkPropertyName(propertyName) {\n        if (!this.getProperty(propertyName)) {\n            return new SyntaxReferenceError('Unknown property', propertyName);\n        }\n    }\n\n    matchAtrulePrelude(atruleName, prelude) {\n        const error = this.checkAtrulePrelude(atruleName, prelude);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        const atrule = this.getAtrule(atruleName);\n\n        if (!atrule.prelude) {\n            return buildMatchResult(null, null);\n        }\n\n        return matchSyntax(this, atrule.prelude, prelude || '', false);\n    }\n    matchAtruleDescriptor(atruleName, descriptorName, value) {\n        const error = this.checkAtruleDescriptorName(atruleName, descriptorName);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        const atrule = this.getAtrule(atruleName);\n        const descriptor = names.keyword(descriptorName);\n\n        return matchSyntax(this, atrule.descriptors[descriptor.name] || atrule.descriptors[descriptor.basename], value, false);\n    }\n    matchDeclaration(node) {\n        if (node.type !== 'Declaration') {\n            return buildMatchResult(null, new Error('Not a Declaration node'));\n        }\n\n        return this.matchProperty(node.property, node.value);\n    }\n    matchProperty(propertyName, value) {\n        // don't match syntax for a custom property at the moment\n        if (names.property(propertyName).custom) {\n            return buildMatchResult(null, new Error('Lexer matching doesn\\'t applicable for custom properties'));\n        }\n\n        const error = this.checkPropertyName(propertyName);\n\n        if (error) {\n            return buildMatchResult(null, error);\n        }\n\n        return matchSyntax(this, this.getProperty(propertyName), value, true);\n    }\n    matchType(typeName, value) {\n        const typeSyntax = this.getType(typeName);\n\n        if (!typeSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown type', typeName));\n        }\n\n        return matchSyntax(this, typeSyntax, value, false);\n    }\n    match(syntax, value) {\n        if (typeof syntax !== 'string' && (!syntax || !syntax.type)) {\n            return buildMatchResult(null, new SyntaxReferenceError('Bad syntax'));\n        }\n\n        if (typeof syntax === 'string' || !syntax.match) {\n            syntax = this.createDescriptor(syntax, 'Type', 'anonymous');\n        }\n\n        return matchSyntax(this, syntax, value, false);\n    }\n\n    findValueFragments(propertyName, value, type, name) {\n        return matchFragments(this, value, this.matchProperty(propertyName, value), type, name);\n    }\n    findDeclarationValueFragments(declaration, type, name) {\n        return matchFragments(this, declaration.value, this.matchDeclaration(declaration), type, name);\n    }\n    findAllFragments(ast, type, name) {\n        const result = [];\n\n        this.syntax.walk(ast, {\n            visit: 'Declaration',\n            enter: (declaration) => {\n                result.push.apply(result, this.findDeclarationValueFragments(declaration, type, name));\n            }\n        });\n\n        return result;\n    }\n\n    getAtrule(atruleName, fallbackBasename = true) {\n        const atrule = names.keyword(atruleName);\n        const atruleEntry = atrule.vendor && fallbackBasename\n            ? this.atrules[atrule.name] || this.atrules[atrule.basename]\n            : this.atrules[atrule.name];\n\n        return atruleEntry || null;\n    }\n    getAtrulePrelude(atruleName, fallbackBasename = true) {\n        const atrule = this.getAtrule(atruleName, fallbackBasename);\n\n        return atrule && atrule.prelude || null;\n    }\n    getAtruleDescriptor(atruleName, name) {\n        return this.atrules.hasOwnProperty(atruleName) && this.atrules.declarators\n            ? this.atrules[atruleName].declarators[name] || null\n            : null;\n    }\n    getProperty(propertyName, fallbackBasename = true) {\n        const property = names.property(propertyName);\n        const propertyEntry = property.vendor && fallbackBasename\n            ? this.properties[property.name] || this.properties[property.basename]\n            : this.properties[property.name];\n\n        return propertyEntry || null;\n    }\n    getType(name) {\n        return hasOwnProperty.call(this.types, name) ? this.types[name] : null;\n    }\n\n    validate() {\n        function syntaxRef(name, isType) {\n            return isType ? `<${name}>` : `<'${name}'>`;\n        }\n\n        function validate(syntax, name, broken, descriptor) {\n            if (broken.has(name)) {\n                return broken.get(name);\n            }\n\n            broken.set(name, false);\n            if (descriptor.syntax !== null) {\n                walk(descriptor.syntax, function(node) {\n                    if (node.type !== 'Type' && node.type !== 'Property') {\n                        return;\n                    }\n\n                    const map = node.type === 'Type' ? syntax.types : syntax.properties;\n                    const brokenMap = node.type === 'Type' ? brokenTypes : brokenProperties;\n\n                    if (!hasOwnProperty.call(map, node.name)) {\n                        errors.push(`${syntaxRef(name, broken === brokenTypes)} used missed syntax definition ${syntaxRef(node.name, node.type === 'Type')}`);\n                        broken.set(name, true);\n                    } else if (validate(syntax, node.name, brokenMap, map[node.name])) {\n                        errors.push(`${syntaxRef(name, broken === brokenTypes)} used broken syntax definition ${syntaxRef(node.name, node.type === 'Type')}`);\n                        broken.set(name, true);\n                    }\n                }, this);\n            }\n        }\n\n        const errors = [];\n        let brokenTypes = new Map();\n        let brokenProperties = new Map();\n\n        for (const key in this.types) {\n            validate(this, key, brokenTypes, this.types[key]);\n        }\n\n        for (const key in this.properties) {\n            validate(this, key, brokenProperties, this.properties[key]);\n        }\n\n        const brokenTypesArray = [...brokenTypes.keys()].filter(name => brokenTypes.get(name));\n        const brokenPropertiesArray = [...brokenProperties.keys()].filter(name => brokenProperties.get(name));\n\n        if (brokenTypesArray.length || brokenPropertiesArray.length) {\n            return {\n                errors,\n                types: brokenTypesArray,\n                properties: brokenPropertiesArray\n            };\n        }\n\n        return null;\n    }\n    dump(syntaxAsAst, pretty) {\n        return {\n            generic: this.generic,\n            cssWideKeywords: this.cssWideKeywords,\n            units: this.units,\n            types: dumpMapSyntax(this.types, !pretty, syntaxAsAst),\n            properties: dumpMapSyntax(this.properties, !pretty, syntaxAsAst),\n            atrules: dumpAtruleMapSyntax(this.atrules, !pretty, syntaxAsAst)\n        };\n    }\n    toString() {\n        return JSON.stringify(this.dump());\n    }\n};\n",
    "function appendOrSet(a, b) {\n    if (typeof b === 'string' && /^\\s*\\|/.test(b)) {\n        return typeof a === 'string'\n            ? a + b\n            : b.replace(/^\\s*\\|\\s*/, '');\n    }\n\n    return b || null;\n}\n\nfunction sliceProps(obj, props) {\n    const result = Object.create(null);\n\n    for (const [key, value] of Object.entries(obj)) {\n        if (value) {\n            result[key] = {};\n            for (const prop of Object.keys(value)) {\n                if (props.includes(prop)) {\n                    result[key][prop] = value[prop];\n                }\n            }\n        }\n    }\n\n    return result;\n}\n\nexport default function mix(dest, src) {\n    const result = { ...dest };\n\n    for (const [prop, value] of Object.entries(src)) {\n        switch (prop) {\n            case 'generic':\n                result[prop] = Boolean(value);\n                break;\n\n            case 'cssWideKeywords':\n                result[prop] = dest[prop]\n                    ? [...dest[prop], ...value]\n                    : value || [];\n                break;\n\n            case 'units':\n                result[prop] = { ...dest[prop] };\n                for (const [name, patch] of Object.entries(value)) {\n                    result[prop][name] = Array.isArray(patch) ? patch : [];\n                }\n                break;\n\n            case 'atrules':\n                result[prop] = { ...dest[prop] };\n\n                for (const [name, atrule] of Object.entries(value)) {\n                    const exists = result[prop][name] || {};\n                    const current = result[prop][name] = {\n                        prelude: exists.prelude || null,\n                        descriptors: {\n                            ...exists.descriptors\n                        }\n                    };\n\n                    if (!atrule) {\n                        continue;\n                    }\n\n                    current.prelude = atrule.prelude\n                        ? appendOrSet(current.prelude, atrule.prelude)\n                        : current.prelude || null;\n\n                    for (const [descriptorName, descriptorValue] of Object.entries(atrule.descriptors || {})) {\n                        current.descriptors[descriptorName] = descriptorValue\n                            ? appendOrSet(current.descriptors[descriptorName], descriptorValue)\n                            : null;\n                    }\n\n                    if (!Object.keys(current.descriptors).length) {\n                        current.descriptors = null;\n                    }\n                }\n                break;\n\n            case 'types':\n            case 'properties':\n                result[prop] = { ...dest[prop] };\n                for (const [name, syntax] of Object.entries(value)) {\n                    result[prop][name] = appendOrSet(result[prop][name], syntax);\n                }\n                break;\n\n            case 'scope':\n            case 'features':\n                result[prop] = { ...dest[prop] };\n                for (const [name, props] of Object.entries(value)) {\n                    result[prop][name] = { ...result[prop][name], ...props };\n                }\n                break;\n\n            case 'parseContext':\n                result[prop] = {\n                    ...dest[prop],\n                    ...value\n                };\n                break;\n\n            case 'atrule':\n            case 'pseudo':\n                result[prop] = {\n                    ...dest[prop],\n                    ...sliceProps(value, ['parse'])\n                };\n                break;\n\n            case 'node':\n                result[prop] = {\n                    ...dest[prop],\n                    ...sliceProps(value, ['name', 'structure', 'parse', 'generate', 'walkContext'])\n                };\n                break;\n        }\n    }\n\n    return result;\n}\n",
    "import { tokenize } from '../tokenizer/index.js';\nimport { createParser } from '../parser/create.js';\nimport { createGenerator } from '../generator/create.js';\nimport { createConvertor } from '../convertor/create.js';\nimport { createWalker } from '../walker/create.js';\nimport { Lexer } from '../lexer/Lexer.js';\nimport mix from './config/mix.js';\n\nfunction createSyntax(config) {\n    const parse = createParser(config);\n    const walk = createWalker(config);\n    const generate = createGenerator(config);\n    const { fromPlainObject, toPlainObject } = createConvertor(walk);\n\n    const syntax = {\n        lexer: null,\n        createLexer: config => new Lexer(config, syntax, syntax.lexer.structure),\n\n        tokenize,\n        parse,\n        generate,\n\n        walk,\n        find: walk.find,\n        findLast: walk.findLast,\n        findAll: walk.findAll,\n\n        fromPlainObject,\n        toPlainObject,\n\n        fork(extension) {\n            const base = mix({}, config); // copy of config\n\n            return createSyntax(\n                typeof extension === 'function'\n                    ? extension(base) // TODO: remove Object.assign as second parameter\n                    : mix(base, extension)\n            );\n        }\n    };\n\n    syntax.lexer = new Lexer({\n        generic: config.generic,\n        cssWideKeywords: config.cssWideKeywords,\n        units: config.units,\n        types: config.types,\n        atrules: config.atrules,\n        properties: config.properties,\n        node: config.node\n    }, syntax);\n\n    return syntax;\n};\n\nexport default config => createSyntax(mix({}, config));\n",
    "export default {\n    \"generic\": true,\n    \"cssWideKeywords\": [\n        \"initial\",\n        \"inherit\",\n        \"unset\",\n        \"revert\",\n        \"revert-layer\"\n    ],\n    \"units\": {\n        \"angle\": [\n            \"deg\",\n            \"grad\",\n            \"rad\",\n            \"turn\"\n        ],\n        \"decibel\": [\n            \"db\"\n        ],\n        \"flex\": [\n            \"fr\"\n        ],\n        \"frequency\": [\n            \"hz\",\n            \"khz\"\n        ],\n        \"length\": [\n            \"cm\",\n            \"mm\",\n            \"q\",\n            \"in\",\n            \"pt\",\n            \"pc\",\n            \"px\",\n            \"em\",\n            \"rem\",\n            \"ex\",\n            \"rex\",\n            \"cap\",\n            \"rcap\",\n            \"ch\",\n            \"rch\",\n            \"ic\",\n            \"ric\",\n            \"lh\",\n            \"rlh\",\n            \"vw\",\n            \"svw\",\n            \"lvw\",\n            \"dvw\",\n            \"vh\",\n            \"svh\",\n            \"lvh\",\n            \"dvh\",\n            \"vi\",\n            \"svi\",\n            \"lvi\",\n            \"dvi\",\n            \"vb\",\n            \"svb\",\n            \"lvb\",\n            \"dvb\",\n            \"vmin\",\n            \"svmin\",\n            \"lvmin\",\n            \"dvmin\",\n            \"vmax\",\n            \"svmax\",\n            \"lvmax\",\n            \"dvmax\",\n            \"cqw\",\n            \"cqh\",\n            \"cqi\",\n            \"cqb\",\n            \"cqmin\",\n            \"cqmax\"\n        ],\n        \"resolution\": [\n            \"dpi\",\n            \"dpcm\",\n            \"dppx\",\n            \"x\"\n        ],\n        \"semitones\": [\n            \"st\"\n        ],\n        \"time\": [\n            \"s\",\n            \"ms\"\n        ]\n    },\n    \"types\": {\n        \"abs()\": \"abs( <calc-sum> )\",\n        \"absolute-size\": \"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large\",\n        \"acos()\": \"acos( <calc-sum> )\",\n        \"alpha-value\": \"<number>|<percentage>\",\n        \"angle-percentage\": \"<angle>|<percentage>\",\n        \"angular-color-hint\": \"<angle-percentage>\",\n        \"angular-color-stop\": \"<color>&&<color-stop-angle>?\",\n        \"angular-color-stop-list\": \"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>\",\n        \"animateable-feature\": \"scroll-position|contents|<custom-ident>\",\n        \"asin()\": \"asin( <calc-sum> )\",\n        \"atan()\": \"atan( <calc-sum> )\",\n        \"atan2()\": \"atan2( <calc-sum> , <calc-sum> )\",\n        \"attachment\": \"scroll|fixed|local\",\n        \"attr()\": \"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )\",\n        \"attr-matcher\": \"['~'|'|'|'^'|'$'|'*']? '='\",\n        \"attr-modifier\": \"i|s\",\n        \"attribute-selector\": \"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'\",\n        \"auto-repeat\": \"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )\",\n        \"auto-track-list\": \"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?\",\n        \"axis\": \"block|inline|x|y\",\n        \"baseline-position\": \"[first|last]? baseline\",\n        \"basic-shape\": \"<inset()>|<xywh()>|<rect()>|<circle()>|<ellipse()>|<polygon()>|<path()>\",\n        \"bg-image\": \"none|<image>\",\n        \"bg-layer\": \"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>\",\n        \"bg-position\": \"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]\",\n        \"bg-size\": \"[<length-percentage>|auto]{1,2}|cover|contain\",\n        \"blur()\": \"blur( <length> )\",\n        \"blend-mode\": \"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity\",\n        \"box\": \"border-box|padding-box|content-box\",\n        \"brightness()\": \"brightness( <number-percentage> )\",\n        \"calc()\": \"calc( <calc-sum> )\",\n        \"calc-sum\": \"<calc-product> [['+'|'-'] <calc-product>]*\",\n        \"calc-product\": \"<calc-value> ['*' <calc-value>|'/' <number>]*\",\n        \"calc-value\": \"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )\",\n        \"calc-constant\": \"e|pi|infinity|-infinity|NaN\",\n        \"cf-final-image\": \"<image>|<color>\",\n        \"cf-mixing-image\": \"<percentage>?&&<image>\",\n        \"circle()\": \"circle( [<shape-radius>]? [at <position>]? )\",\n        \"clamp()\": \"clamp( <calc-sum>#{3} )\",\n        \"class-selector\": \"'.' <ident-token>\",\n        \"clip-source\": \"<url>\",\n        \"color\": \"<color-base>|currentColor|<system-color>|<device-cmyk()>|<light-dark()>|<-non-standard-color>\",\n        \"color-stop\": \"<color-stop-length>|<color-stop-angle>\",\n        \"color-stop-angle\": \"<angle-percentage>{1,2}\",\n        \"color-stop-length\": \"<length-percentage>{1,2}\",\n        \"color-stop-list\": \"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>\",\n        \"color-interpolation-method\": \"in [<rectangular-color-space>|<polar-color-space> <hue-interpolation-method>?|<custom-color-space>]\",\n        \"combinator\": \"'>'|'+'|'~'|['|' '|']\",\n        \"common-lig-values\": \"[common-ligatures|no-common-ligatures]\",\n        \"compat-auto\": \"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button\",\n        \"composite-style\": \"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor\",\n        \"compositing-operator\": \"add|subtract|intersect|exclude\",\n        \"compound-selector\": \"[<type-selector>? <subclass-selector>*]!\",\n        \"compound-selector-list\": \"<compound-selector>#\",\n        \"complex-selector\": \"<complex-selector-unit> [<combinator>? <complex-selector-unit>]*\",\n        \"complex-selector-list\": \"<complex-selector>#\",\n        \"conic-gradient()\": \"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )\",\n        \"contextual-alt-values\": \"[contextual|no-contextual]\",\n        \"content-distribution\": \"space-between|space-around|space-evenly|stretch\",\n        \"content-list\": \"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+\",\n        \"content-position\": \"center|start|end|flex-start|flex-end\",\n        \"content-replacement\": \"<image>\",\n        \"contrast()\": \"contrast( [<number-percentage>] )\",\n        \"cos()\": \"cos( <calc-sum> )\",\n        \"counter\": \"<counter()>|<counters()>\",\n        \"counter()\": \"counter( <counter-name> , <counter-style>? )\",\n        \"counter-name\": \"<custom-ident>\",\n        \"counter-style\": \"<counter-style-name>|symbols( )\",\n        \"counter-style-name\": \"<custom-ident>\",\n        \"counters()\": \"counters( <counter-name> , <string> , <counter-style>? )\",\n        \"cross-fade()\": \"cross-fade( <cf-mixing-image> , <cf-final-image>? )\",\n        \"cubic-bezier-timing-function\": \"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )\",\n        \"deprecated-system-color\": \"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText\",\n        \"discretionary-lig-values\": \"[discretionary-ligatures|no-discretionary-ligatures]\",\n        \"display-box\": \"contents|none\",\n        \"display-inside\": \"flow|flow-root|table|flex|grid|ruby\",\n        \"display-internal\": \"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container\",\n        \"display-legacy\": \"inline-block|inline-list-item|inline-table|inline-flex|inline-grid\",\n        \"display-listitem\": \"<display-outside>?&&[flow|flow-root]?&&list-item\",\n        \"display-outside\": \"block|inline|run-in\",\n        \"drop-shadow()\": \"drop-shadow( <length>{2,3} <color>? )\",\n        \"east-asian-variant-values\": \"[jis78|jis83|jis90|jis04|simplified|traditional]\",\n        \"east-asian-width-values\": \"[full-width|proportional-width]\",\n        \"element()\": \"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )\",\n        \"ellipse()\": \"ellipse( [<shape-radius>{2}]? [at <position>]? )\",\n        \"ending-shape\": \"circle|ellipse\",\n        \"env()\": \"env( <custom-ident> , <declaration-value>? )\",\n        \"exp()\": \"exp( <calc-sum> )\",\n        \"explicit-track-list\": \"[<line-names>? <track-size>]+ <line-names>?\",\n        \"family-name\": \"<string>|<custom-ident>+\",\n        \"feature-tag-value\": \"<string> [<integer>|on|off]?\",\n        \"feature-type\": \"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation\",\n        \"feature-value-block\": \"<feature-type> '{' <feature-value-declaration-list> '}'\",\n        \"feature-value-block-list\": \"<feature-value-block>+\",\n        \"feature-value-declaration\": \"<custom-ident> : <integer>+ ;\",\n        \"feature-value-declaration-list\": \"<feature-value-declaration>\",\n        \"feature-value-name\": \"<custom-ident>\",\n        \"fill-rule\": \"nonzero|evenodd\",\n        \"filter-function\": \"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>\",\n        \"filter-function-list\": \"[<filter-function>|<url>]+\",\n        \"final-bg-layer\": \"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>\",\n        \"fixed-breadth\": \"<length-percentage>\",\n        \"fixed-repeat\": \"repeat( [<integer [1,∞]>] , [<line-names>? <fixed-size>]+ <line-names>? )\",\n        \"fixed-size\": \"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )\",\n        \"font-stretch-absolute\": \"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>\",\n        \"font-variant-css21\": \"[normal|small-caps]\",\n        \"font-weight-absolute\": \"normal|bold|<number [1,1000]>\",\n        \"frequency-percentage\": \"<frequency>|<percentage>\",\n        \"general-enclosed\": \"[<function-token> <any-value>? )]|[( <any-value>? )]\",\n        \"generic-family\": \"<generic-script-specific>|<generic-complete>|<generic-incomplete>|<-non-standard-generic-family>\",\n        \"generic-name\": \"serif|sans-serif|cursive|fantasy|monospace\",\n        \"geometry-box\": \"<shape-box>|fill-box|stroke-box|view-box\",\n        \"gradient\": \"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>\",\n        \"grayscale()\": \"grayscale( <number-percentage> )\",\n        \"grid-line\": \"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]\",\n        \"historical-lig-values\": \"[historical-ligatures|no-historical-ligatures]\",\n        \"hsl()\": \"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )\",\n        \"hsla()\": \"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )\",\n        \"hue\": \"<number>|<angle>\",\n        \"hue-rotate()\": \"hue-rotate( <angle> )\",\n        \"hue-interpolation-method\": \"[shorter|longer|increasing|decreasing] hue\",\n        \"hwb()\": \"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )\",\n        \"hypot()\": \"hypot( <calc-sum># )\",\n        \"image\": \"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>\",\n        \"image()\": \"image( <image-tags>? [<image-src>? , <color>?]! )\",\n        \"image-set()\": \"image-set( <image-set-option># )\",\n        \"image-set-option\": \"[<image>|<string>] [<resolution>||type( <string> )]\",\n        \"image-src\": \"<url>|<string>\",\n        \"image-tags\": \"ltr|rtl\",\n        \"inflexible-breadth\": \"<length-percentage>|min-content|max-content|auto\",\n        \"inset()\": \"inset( <length-percentage>{1,4} [round <'border-radius'>]? )\",\n        \"invert()\": \"invert( <number-percentage> )\",\n        \"keyframes-name\": \"<custom-ident>|<string>\",\n        \"keyframe-block\": \"<keyframe-selector># { <declaration-list> }\",\n        \"keyframe-block-list\": \"<keyframe-block>+\",\n        \"keyframe-selector\": \"from|to|<percentage>|<timeline-range-name> <percentage>\",\n        \"lab()\": \"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )\",\n        \"layer()\": \"layer( <layer-name> )\",\n        \"layer-name\": \"<ident> ['.' <ident>]*\",\n        \"lch()\": \"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )\",\n        \"leader()\": \"leader( <leader-type> )\",\n        \"leader-type\": \"dotted|solid|space|<string>\",\n        \"length-percentage\": \"<length>|<percentage>\",\n        \"light-dark()\": \"light-dark( <color> , <color> )\",\n        \"line-names\": \"'[' <custom-ident>* ']'\",\n        \"line-name-list\": \"[<line-names>|<name-repeat>]+\",\n        \"line-style\": \"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset\",\n        \"line-width\": \"<length>|thin|medium|thick\",\n        \"linear-color-hint\": \"<length-percentage>\",\n        \"linear-color-stop\": \"<color> <color-stop-length>?\",\n        \"linear-gradient()\": \"linear-gradient( [[<angle>|to <side-or-corner>]||<color-interpolation-method>]? , <color-stop-list> )\",\n        \"log()\": \"log( <calc-sum> , <calc-sum>? )\",\n        \"mask-layer\": \"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>\",\n        \"mask-position\": \"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?\",\n        \"mask-reference\": \"none|<image>|<mask-source>\",\n        \"mask-source\": \"<url>\",\n        \"masking-mode\": \"alpha|luminance|match-source\",\n        \"matrix()\": \"matrix( <number>#{6} )\",\n        \"matrix3d()\": \"matrix3d( <number>#{16} )\",\n        \"max()\": \"max( <calc-sum># )\",\n        \"media-and\": \"<media-in-parens> [and <media-in-parens>]+\",\n        \"media-condition\": \"<media-not>|<media-and>|<media-or>|<media-in-parens>\",\n        \"media-condition-without-or\": \"<media-not>|<media-and>|<media-in-parens>\",\n        \"media-feature\": \"( [<mf-plain>|<mf-boolean>|<mf-range>] )\",\n        \"media-in-parens\": \"( <media-condition> )|<media-feature>|<general-enclosed>\",\n        \"media-not\": \"not <media-in-parens>\",\n        \"media-or\": \"<media-in-parens> [or <media-in-parens>]+\",\n        \"media-query\": \"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?\",\n        \"media-query-list\": \"<media-query>#\",\n        \"media-type\": \"<ident>\",\n        \"mf-boolean\": \"<mf-name>\",\n        \"mf-name\": \"<ident>\",\n        \"mf-plain\": \"<mf-name> : <mf-value>\",\n        \"mf-range\": \"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>\",\n        \"mf-value\": \"<number>|<dimension>|<ident>|<ratio>\",\n        \"min()\": \"min( <calc-sum># )\",\n        \"minmax()\": \"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )\",\n        \"mod()\": \"mod( <calc-sum> , <calc-sum> )\",\n        \"name-repeat\": \"repeat( [<integer [1,∞]>|auto-fill] , <line-names>+ )\",\n        \"named-color\": \"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen\",\n        \"namespace-prefix\": \"<ident>\",\n        \"ns-prefix\": \"[<ident-token>|'*']? '|'\",\n        \"number-percentage\": \"<number>|<percentage>\",\n        \"numeric-figure-values\": \"[lining-nums|oldstyle-nums]\",\n        \"numeric-fraction-values\": \"[diagonal-fractions|stacked-fractions]\",\n        \"numeric-spacing-values\": \"[proportional-nums|tabular-nums]\",\n        \"nth\": \"<an-plus-b>|even|odd\",\n        \"opacity()\": \"opacity( [<number-percentage>] )\",\n        \"overflow-position\": \"unsafe|safe\",\n        \"outline-radius\": \"<length>|<percentage>\",\n        \"page-body\": \"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>\",\n        \"page-margin-box\": \"<page-margin-box-type> '{' <declaration-list> '}'\",\n        \"page-margin-box-type\": \"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom\",\n        \"page-selector-list\": \"[<page-selector>#]?\",\n        \"page-selector\": \"<pseudo-page>+|<ident> <pseudo-page>*\",\n        \"page-size\": \"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger\",\n        \"path()\": \"path( [<fill-rule> ,]? <string> )\",\n        \"paint()\": \"paint( <ident> , <declaration-value>? )\",\n        \"perspective()\": \"perspective( [<length [0,∞]>|none] )\",\n        \"polygon()\": \"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )\",\n        \"polar-color-space\": \"hsl|hwb|lch|oklch\",\n        \"position\": \"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]\",\n        \"pow()\": \"pow( <calc-sum> , <calc-sum> )\",\n        \"pseudo-class-selector\": \"':' <ident-token>|':' <function-token> <any-value> ')'\",\n        \"pseudo-element-selector\": \"':' <pseudo-class-selector>|<legacy-pseudo-element-selector>\",\n        \"pseudo-page\": \": [left|right|first|blank]\",\n        \"quote\": \"open-quote|close-quote|no-open-quote|no-close-quote\",\n        \"radial-gradient()\": \"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )\",\n        \"ratio\": \"<number [0,∞]> [/ <number [0,∞]>]?\",\n        \"ray()\": \"ray( <angle>&&<ray-size>?&&contain?&&[at <position>]? )\",\n        \"ray-size\": \"closest-side|closest-corner|farthest-side|farthest-corner|sides\",\n        \"rectangular-color-space\": \"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|lab|oklab|xyz|xyz-d50|xyz-d65\",\n        \"relative-selector\": \"<combinator>? <complex-selector>\",\n        \"relative-selector-list\": \"<relative-selector>#\",\n        \"relative-size\": \"larger|smaller\",\n        \"rem()\": \"rem( <calc-sum> , <calc-sum> )\",\n        \"repeat-style\": \"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}\",\n        \"repeating-conic-gradient()\": \"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )\",\n        \"repeating-linear-gradient()\": \"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )\",\n        \"repeating-radial-gradient()\": \"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )\",\n        \"reversed-counter-name\": \"reversed( <counter-name> )\",\n        \"rgb()\": \"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )\",\n        \"rgba()\": \"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )\",\n        \"rotate()\": \"rotate( [<angle>|<zero>] )\",\n        \"rotate3d()\": \"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )\",\n        \"rotateX()\": \"rotateX( [<angle>|<zero>] )\",\n        \"rotateY()\": \"rotateY( [<angle>|<zero>] )\",\n        \"rotateZ()\": \"rotateZ( [<angle>|<zero>] )\",\n        \"round()\": \"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )\",\n        \"rounding-strategy\": \"nearest|up|down|to-zero\",\n        \"saturate()\": \"saturate( <number-percentage> )\",\n        \"scale()\": \"scale( [<number>|<percentage>]#{1,2} )\",\n        \"scale3d()\": \"scale3d( [<number>|<percentage>]#{3} )\",\n        \"scaleX()\": \"scaleX( [<number>|<percentage>] )\",\n        \"scaleY()\": \"scaleY( [<number>|<percentage>] )\",\n        \"scaleZ()\": \"scaleZ( [<number>|<percentage>] )\",\n        \"scroll()\": \"scroll( [<axis>||<scroller>]? )\",\n        \"scroller\": \"root|nearest|self\",\n        \"self-position\": \"center|start|end|self-start|self-end|flex-start|flex-end\",\n        \"shape-radius\": \"<length-percentage>|closest-side|farthest-side\",\n        \"sign()\": \"sign( <calc-sum> )\",\n        \"skew()\": \"skew( [<angle>|<zero>] , [<angle>|<zero>]? )\",\n        \"skewX()\": \"skewX( [<angle>|<zero>] )\",\n        \"skewY()\": \"skewY( [<angle>|<zero>] )\",\n        \"sepia()\": \"sepia( <number-percentage> )\",\n        \"shadow\": \"inset?&&<length>{2,4}&&<color>?\",\n        \"shadow-t\": \"[<length>{2,3}&&<color>?]\",\n        \"shape\": \"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )\",\n        \"shape-box\": \"<box>|margin-box\",\n        \"side-or-corner\": \"[left|right]||[top|bottom]\",\n        \"sin()\": \"sin( <calc-sum> )\",\n        \"single-animation\": \"<'animation-duration'>||<easing-function>||<'animation-delay'>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]||<single-animation-timeline>\",\n        \"single-animation-direction\": \"normal|reverse|alternate|alternate-reverse\",\n        \"single-animation-fill-mode\": \"none|forwards|backwards|both\",\n        \"single-animation-iteration-count\": \"infinite|<number>\",\n        \"single-animation-play-state\": \"running|paused\",\n        \"single-animation-timeline\": \"auto|none|<dashed-ident>|<scroll()>|<view()>\",\n        \"single-transition\": \"[none|<single-transition-property>]||<time>||<easing-function>||<time>||<transition-behavior-value>\",\n        \"single-transition-property\": \"all|<custom-ident>\",\n        \"size\": \"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}\",\n        \"sqrt()\": \"sqrt( <calc-sum> )\",\n        \"step-position\": \"jump-start|jump-end|jump-none|jump-both|start|end\",\n        \"step-timing-function\": \"step-start|step-end|steps( <integer> [, <step-position>]? )\",\n        \"subclass-selector\": \"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>\",\n        \"supports-condition\": \"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*\",\n        \"supports-in-parens\": \"( <supports-condition> )|<supports-feature>|<general-enclosed>\",\n        \"supports-feature\": \"<supports-decl>|<supports-selector-fn>\",\n        \"supports-decl\": \"( <declaration> )\",\n        \"supports-selector-fn\": \"selector( <complex-selector> )\",\n        \"symbol\": \"<string>|<image>|<custom-ident>\",\n        \"system-color\": \"AccentColor|AccentColorText|ActiveText|ButtonBorder|ButtonFace|ButtonText|Canvas|CanvasText|Field|FieldText|GrayText|Highlight|HighlightText|LinkText|Mark|MarkText|SelectedItem|SelectedItemText|VisitedText\",\n        \"tan()\": \"tan( <calc-sum> )\",\n        \"target\": \"<target-counter()>|<target-counters()>|<target-text()>\",\n        \"target-counter()\": \"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )\",\n        \"target-counters()\": \"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )\",\n        \"target-text()\": \"target-text( [<string>|<url>] , [content|before|after|first-letter]? )\",\n        \"time-percentage\": \"<time>|<percentage>\",\n        \"timeline-range-name\": \"cover|contain|entry|exit|entry-crossing|exit-crossing\",\n        \"easing-function\": \"linear|<cubic-bezier-timing-function>|<step-timing-function>\",\n        \"track-breadth\": \"<length-percentage>|<flex>|min-content|max-content|auto\",\n        \"track-list\": \"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?\",\n        \"track-repeat\": \"repeat( [<integer [1,∞]>] , [<line-names>? <track-size>]+ <line-names>? )\",\n        \"track-size\": \"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )\",\n        \"transform-function\": \"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>\",\n        \"transform-list\": \"<transform-function>+\",\n        \"transition-behavior-value\": \"normal|allow-discrete\",\n        \"translate()\": \"translate( <length-percentage> , <length-percentage>? )\",\n        \"translate3d()\": \"translate3d( <length-percentage> , <length-percentage> , <length> )\",\n        \"translateX()\": \"translateX( <length-percentage> )\",\n        \"translateY()\": \"translateY( <length-percentage> )\",\n        \"translateZ()\": \"translateZ( <length> )\",\n        \"type-or-unit\": \"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%\",\n        \"type-selector\": \"<wq-name>|<ns-prefix>? '*'\",\n        \"var()\": \"var( <custom-property-name> , <declaration-value>? )\",\n        \"view()\": \"view( [<axis>||<'view-timeline-inset'>]? )\",\n        \"viewport-length\": \"auto|<length-percentage>\",\n        \"visual-box\": \"content-box|padding-box|border-box\",\n        \"wq-name\": \"<ns-prefix>? <ident-token>\",\n        \"-legacy-gradient\": \"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>\",\n        \"-legacy-linear-gradient\": \"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )\",\n        \"-legacy-repeating-linear-gradient\": \"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )\",\n        \"-legacy-linear-gradient-arguments\": \"[<angle>|<side-or-corner>]? , <color-stop-list>\",\n        \"-legacy-radial-gradient\": \"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )\",\n        \"-legacy-repeating-radial-gradient\": \"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )\",\n        \"-legacy-radial-gradient-arguments\": \"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>\",\n        \"-legacy-radial-gradient-size\": \"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover\",\n        \"-legacy-radial-gradient-shape\": \"circle|ellipse\",\n        \"-non-standard-font\": \"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body\",\n        \"-non-standard-color\": \"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text\",\n        \"-non-standard-image-rendering\": \"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast\",\n        \"-non-standard-overflow\": \"overlay|-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable\",\n        \"-non-standard-size\": \"intrinsic|min-intrinsic|-webkit-fill-available|-webkit-fit-content|-webkit-min-content|-webkit-max-content|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content\",\n        \"-webkit-gradient()\": \"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )\",\n        \"-webkit-gradient-color-stop\": \"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )\",\n        \"-webkit-gradient-point\": \"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]\",\n        \"-webkit-gradient-radius\": \"<length>|<percentage>\",\n        \"-webkit-gradient-type\": \"linear|radial\",\n        \"-webkit-mask-box-repeat\": \"repeat|stretch|round\",\n        \"-ms-filter-function-list\": \"<-ms-filter-function>+\",\n        \"-ms-filter-function\": \"<-ms-filter-function-progid>|<-ms-filter-function-legacy>\",\n        \"-ms-filter-function-progid\": \"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]\",\n        \"-ms-filter-function-legacy\": \"<ident-token>|<function-token> <any-value>? )\",\n        \"absolute-color-base\": \"<hex-color>|<absolute-color-function>|<named-color>|transparent\",\n        \"absolute-color-function\": \"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>\",\n        \"age\": \"child|young|old\",\n        \"anchor-name\": \"<dashed-ident>\",\n        \"attr-name\": \"<wq-name>\",\n        \"attr-fallback\": \"<any-value>\",\n        \"bg-clip\": \"<box>|border|text\",\n        \"bottom\": \"<length>|auto\",\n        \"container-name\": \"<custom-ident>\",\n        \"container-condition\": \"not <query-in-parens>|<query-in-parens> [[and <query-in-parens>]*|[or <query-in-parens>]*]\",\n        \"coord-box\": \"content-box|padding-box|border-box|fill-box|stroke-box|view-box\",\n        \"generic-voice\": \"[<age>? <gender> <integer>?]\",\n        \"gender\": \"male|female|neutral\",\n        \"generic-script-specific\": \"generic( kai )|generic( fangsong )|generic( nastaliq )\",\n        \"generic-complete\": \"serif|sans-serif|system-ui|cursive|fantasy|math|monospace\",\n        \"generic-incomplete\": \"ui-serif|ui-sans-serif|ui-monospace|ui-rounded\",\n        \"-non-standard-generic-family\": \"-apple-system|BlinkMacSystemFont\",\n        \"left\": \"<length>|auto\",\n        \"color-base\": \"<hex-color>|<color-function>|<named-color>|<color-mix()>|transparent\",\n        \"color-function\": \"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<oklab()>|<oklch()>|<color()>\",\n        \"device-cmyk()\": \"<legacy-device-cmyk-syntax>|<modern-device-cmyk-syntax>\",\n        \"legacy-device-cmyk-syntax\": \"device-cmyk( <number>#{4} )\",\n        \"modern-device-cmyk-syntax\": \"device-cmyk( <cmyk-component>{4} [/ [<alpha-value>|none]]? )\",\n        \"cmyk-component\": \"<number>|<percentage>|none\",\n        \"color-mix()\": \"color-mix( <color-interpolation-method> , [<color>&&<percentage [0,100]>?]#{2} )\",\n        \"color-space\": \"<rectangular-color-space>|<polar-color-space>|<custom-color-space>\",\n        \"custom-color-space\": \"<dashed-ident>\",\n        \"paint\": \"none|<color>|<url> [none|<color>]?|context-fill|context-stroke\",\n        \"palette-identifier\": \"<dashed-ident>\",\n        \"right\": \"<length>|auto\",\n        \"scope-start\": \"<forgiving-selector-list>\",\n        \"scope-end\": \"<forgiving-selector-list>\",\n        \"forgiving-selector-list\": \"<complex-real-selector-list>\",\n        \"forgiving-relative-selector-list\": \"<relative-real-selector-list>\",\n        \"selector-list\": \"<complex-selector-list>\",\n        \"complex-real-selector-list\": \"<complex-real-selector>#\",\n        \"simple-selector-list\": \"<simple-selector>#\",\n        \"relative-real-selector-list\": \"<relative-real-selector>#\",\n        \"complex-selector-unit\": \"[<compound-selector>? <pseudo-compound-selector>*]!\",\n        \"complex-real-selector\": \"<compound-selector> [<combinator>? <compound-selector>]*\",\n        \"relative-real-selector\": \"<combinator>? <complex-real-selector>\",\n        \"pseudo-compound-selector\": \"<pseudo-element-selector> <pseudo-class-selector>*\",\n        \"simple-selector\": \"<type-selector>|<subclass-selector>\",\n        \"legacy-pseudo-element-selector\": \"':' [before|after|first-line|first-letter]\",\n        \"single-animation-composition\": \"replace|add|accumulate\",\n        \"svg-length\": \"<percentage>|<length>|<number>\",\n        \"svg-writing-mode\": \"lr-tb|rl-tb|tb-rl|lr|rl|tb\",\n        \"top\": \"<length>|auto\",\n        \"x\": \"<number>\",\n        \"y\": \"<number>\",\n        \"declaration\": \"<ident-token> : <declaration-value>? ['!' important]?\",\n        \"declaration-list\": \"[<declaration>? ';']* <declaration>?\",\n        \"url\": \"url( <string> <url-modifier>* )|<url-token>\",\n        \"url-modifier\": \"<ident>|<function-token> <any-value> )\",\n        \"number-zero-one\": \"<number [0,1]>\",\n        \"number-one-or-greater\": \"<number [1,∞]>\",\n        \"color()\": \"color( <colorspace-params> [/ [<alpha-value>|none]]? )\",\n        \"colorspace-params\": \"[<predefined-rgb-params>|<xyz-params>]\",\n        \"predefined-rgb-params\": \"<predefined-rgb> [<number>|<percentage>|none]{3}\",\n        \"predefined-rgb\": \"srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020\",\n        \"xyz-params\": \"<xyz-space> [<number>|<percentage>|none]{3}\",\n        \"xyz-space\": \"xyz|xyz-d50|xyz-d65\",\n        \"oklab()\": \"oklab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )\",\n        \"oklch()\": \"oklch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )\",\n        \"offset-path\": \"<ray()>|<url>|<basic-shape>\",\n        \"rect()\": \"rect( [<length-percentage>|auto]{4} [round <'border-radius'>]? )\",\n        \"xywh()\": \"xywh( <length-percentage>{2} <length-percentage [0,∞]>{2} [round <'border-radius'>]? )\",\n        \"query-in-parens\": \"( <container-condition> )|( <size-feature> )|style( <style-query> )|<general-enclosed>\",\n        \"size-feature\": \"<mf-plain>|<mf-boolean>|<mf-range>\",\n        \"style-feature\": \"<declaration>\",\n        \"style-query\": \"<style-condition>|<style-feature>\",\n        \"style-condition\": \"not <style-in-parens>|<style-in-parens> [[and <style-in-parens>]*|[or <style-in-parens>]*]\",\n        \"style-in-parens\": \"( <style-condition> )|( <style-feature> )|<general-enclosed>\",\n        \"-non-standard-display\": \"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box\",\n        \"inset-area\": \"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]\",\n        \"position-area\": \"[[left|center|right|span-left|span-right|x-start|x-end|span-x-start|span-x-end|x-self-start|x-self-end|span-x-self-start|span-x-self-end|span-all]||[top|center|bottom|span-top|span-bottom|y-start|y-end|span-y-start|span-y-end|y-self-start|y-self-end|span-y-self-start|span-y-self-end|span-all]|[block-start|center|block-end|span-block-start|span-block-end|span-all]||[inline-start|center|inline-end|span-inline-start|span-inline-end|span-all]|[self-block-start|center|self-block-end|span-self-block-start|span-self-block-end|span-all]||[self-inline-start|center|self-inline-end|span-self-inline-start|span-self-inline-end|span-all]|[start|center|end|span-start|span-end|span-all]{1,2}|[self-start|center|self-end|span-self-start|span-self-end|span-all]{1,2}]\",\n        \"anchor()\": \"anchor( <anchor-element>?&&<anchor-side> , <length-percentage>? )\",\n        \"anchor-side\": \"inside|outside|top|left|right|bottom|start|end|self-start|self-end|<percentage>|center\",\n        \"anchor-size()\": \"anchor-size( [<anchor-element>||<anchor-size>]? , <length-percentage>? )\",\n        \"anchor-size\": \"width|height|block|inline|self-block|self-inline\",\n        \"anchor-element\": \"<dashed-ident>\",\n        \"try-size\": \"most-width|most-height|most-block-size|most-inline-size\",\n        \"try-tactic\": \"flip-block||flip-inline||flip-start\",\n        \"font-variant-css2\": \"normal|small-caps\",\n        \"font-width-css3\": \"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded\",\n        \"system-family-name\": \"caption|icon|menu|message-box|small-caption|status-bar\"\n    },\n    \"properties\": {\n        \"--*\": \"<declaration-value>\",\n        \"-ms-accelerator\": \"false|true\",\n        \"-ms-block-progression\": \"tb|rl|bt|lr\",\n        \"-ms-content-zoom-chaining\": \"none|chained\",\n        \"-ms-content-zooming\": \"none|zoom\",\n        \"-ms-content-zoom-limit\": \"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>\",\n        \"-ms-content-zoom-limit-max\": \"<percentage>\",\n        \"-ms-content-zoom-limit-min\": \"<percentage>\",\n        \"-ms-content-zoom-snap\": \"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>\",\n        \"-ms-content-zoom-snap-points\": \"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )\",\n        \"-ms-content-zoom-snap-type\": \"none|proximity|mandatory\",\n        \"-ms-filter\": \"<string>\",\n        \"-ms-flow-from\": \"[none|<custom-ident>]#\",\n        \"-ms-flow-into\": \"[none|<custom-ident>]#\",\n        \"-ms-grid-columns\": \"none|<track-list>|<auto-track-list>\",\n        \"-ms-grid-rows\": \"none|<track-list>|<auto-track-list>\",\n        \"-ms-high-contrast-adjust\": \"auto|none\",\n        \"-ms-hyphenate-limit-chars\": \"auto|<integer>{1,3}\",\n        \"-ms-hyphenate-limit-lines\": \"no-limit|<integer>\",\n        \"-ms-hyphenate-limit-zone\": \"<percentage>|<length>\",\n        \"-ms-ime-align\": \"auto|after\",\n        \"-ms-overflow-style\": \"auto|none|scrollbar|-ms-autohiding-scrollbar\",\n        \"-ms-scrollbar-3dlight-color\": \"<color>\",\n        \"-ms-scrollbar-arrow-color\": \"<color>\",\n        \"-ms-scrollbar-base-color\": \"<color>\",\n        \"-ms-scrollbar-darkshadow-color\": \"<color>\",\n        \"-ms-scrollbar-face-color\": \"<color>\",\n        \"-ms-scrollbar-highlight-color\": \"<color>\",\n        \"-ms-scrollbar-shadow-color\": \"<color>\",\n        \"-ms-scrollbar-track-color\": \"<color>\",\n        \"-ms-scroll-chaining\": \"chained|none\",\n        \"-ms-scroll-limit\": \"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>\",\n        \"-ms-scroll-limit-x-max\": \"auto|<length>\",\n        \"-ms-scroll-limit-x-min\": \"<length>\",\n        \"-ms-scroll-limit-y-max\": \"auto|<length>\",\n        \"-ms-scroll-limit-y-min\": \"<length>\",\n        \"-ms-scroll-rails\": \"none|railed\",\n        \"-ms-scroll-snap-points-x\": \"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )\",\n        \"-ms-scroll-snap-points-y\": \"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )\",\n        \"-ms-scroll-snap-type\": \"none|proximity|mandatory\",\n        \"-ms-scroll-snap-x\": \"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>\",\n        \"-ms-scroll-snap-y\": \"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>\",\n        \"-ms-scroll-translation\": \"none|vertical-to-horizontal\",\n        \"-ms-text-autospace\": \"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space\",\n        \"-ms-touch-select\": \"grippers|none\",\n        \"-ms-user-select\": \"none|element|text\",\n        \"-ms-wrap-flow\": \"auto|both|start|end|maximum|clear\",\n        \"-ms-wrap-margin\": \"<length>\",\n        \"-ms-wrap-through\": \"wrap|none\",\n        \"-moz-appearance\": \"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized\",\n        \"-moz-binding\": \"<url>|none\",\n        \"-moz-border-bottom-colors\": \"<color>+|none\",\n        \"-moz-border-left-colors\": \"<color>+|none\",\n        \"-moz-border-right-colors\": \"<color>+|none\",\n        \"-moz-border-top-colors\": \"<color>+|none\",\n        \"-moz-context-properties\": \"none|[fill|fill-opacity|stroke|stroke-opacity]#\",\n        \"-moz-float-edge\": \"border-box|content-box|margin-box|padding-box\",\n        \"-moz-force-broken-image-icon\": \"0|1\",\n        \"-moz-image-region\": \"<shape>|auto\",\n        \"-moz-orient\": \"inline|block|horizontal|vertical\",\n        \"-moz-outline-radius\": \"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?\",\n        \"-moz-outline-radius-bottomleft\": \"<outline-radius>\",\n        \"-moz-outline-radius-bottomright\": \"<outline-radius>\",\n        \"-moz-outline-radius-topleft\": \"<outline-radius>\",\n        \"-moz-outline-radius-topright\": \"<outline-radius>\",\n        \"-moz-stack-sizing\": \"ignore|stretch-to-fit\",\n        \"-moz-text-blink\": \"none|blink\",\n        \"-moz-user-focus\": \"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none\",\n        \"-moz-user-input\": \"auto|none|enabled|disabled\",\n        \"-moz-user-modify\": \"read-only|read-write|write-only\",\n        \"-moz-window-dragging\": \"drag|no-drag\",\n        \"-moz-window-shadow\": \"default|menu|tooltip|sheet|none\",\n        \"-webkit-appearance\": \"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button\",\n        \"-webkit-border-before\": \"<'border-width'>||<'border-style'>||<color>\",\n        \"-webkit-border-before-color\": \"<color>\",\n        \"-webkit-border-before-style\": \"<'border-style'>\",\n        \"-webkit-border-before-width\": \"<'border-width'>\",\n        \"-webkit-box-reflect\": \"[above|below|right|left]? <length>? <image>?\",\n        \"-webkit-line-clamp\": \"none|<integer>\",\n        \"-webkit-mask\": \"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#\",\n        \"-webkit-mask-attachment\": \"<attachment>#\",\n        \"-webkit-mask-clip\": \"[<box>|border|padding|content|text]#\",\n        \"-webkit-mask-composite\": \"<composite-style>#\",\n        \"-webkit-mask-image\": \"<mask-reference>#\",\n        \"-webkit-mask-origin\": \"[<box>|border|padding|content]#\",\n        \"-webkit-mask-position\": \"<position>#\",\n        \"-webkit-mask-position-x\": \"[<length-percentage>|left|center|right]#\",\n        \"-webkit-mask-position-y\": \"[<length-percentage>|top|center|bottom]#\",\n        \"-webkit-mask-repeat\": \"<repeat-style>#\",\n        \"-webkit-mask-repeat-x\": \"repeat|no-repeat|space|round\",\n        \"-webkit-mask-repeat-y\": \"repeat|no-repeat|space|round\",\n        \"-webkit-mask-size\": \"<bg-size>#\",\n        \"-webkit-overflow-scrolling\": \"auto|touch\",\n        \"-webkit-tap-highlight-color\": \"<color>\",\n        \"-webkit-text-fill-color\": \"<color>\",\n        \"-webkit-text-stroke\": \"<length>||<color>\",\n        \"-webkit-text-stroke-color\": \"<color>\",\n        \"-webkit-text-stroke-width\": \"<length>\",\n        \"-webkit-touch-callout\": \"default|none\",\n        \"-webkit-user-modify\": \"read-only|read-write|read-write-plaintext-only\",\n        \"accent-color\": \"auto|<color>\",\n        \"align-content\": \"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>\",\n        \"align-items\": \"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]\",\n        \"align-self\": \"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>\",\n        \"align-tracks\": \"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#\",\n        \"all\": \"initial|inherit|unset|revert|revert-layer\",\n        \"anchor-name\": \"none|<dashed-ident>#\",\n        \"anchor-scope\": \"none|all|<dashed-ident>#\",\n        \"animation\": \"<single-animation>#\",\n        \"animation-composition\": \"<single-animation-composition>#\",\n        \"animation-delay\": \"<time>#\",\n        \"animation-direction\": \"<single-animation-direction>#\",\n        \"animation-duration\": \"<time>#\",\n        \"animation-fill-mode\": \"<single-animation-fill-mode>#\",\n        \"animation-iteration-count\": \"<single-animation-iteration-count>#\",\n        \"animation-name\": \"[none|<keyframes-name>]#\",\n        \"animation-play-state\": \"<single-animation-play-state>#\",\n        \"animation-range\": \"[<'animation-range-start'> <'animation-range-end'>?]#\",\n        \"animation-range-end\": \"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#\",\n        \"animation-range-start\": \"[normal|<length-percentage>|<timeline-range-name> <length-percentage>?]#\",\n        \"animation-timing-function\": \"<easing-function>#\",\n        \"animation-timeline\": \"<single-animation-timeline>#\",\n        \"appearance\": \"none|auto|textfield|menulist-button|<compat-auto>\",\n        \"aspect-ratio\": \"auto||<ratio>\",\n        \"azimuth\": \"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards\",\n        \"backdrop-filter\": \"none|<filter-function-list>\",\n        \"backface-visibility\": \"visible|hidden\",\n        \"background\": \"[<bg-layer> ,]* <final-bg-layer>\",\n        \"background-attachment\": \"<attachment>#\",\n        \"background-blend-mode\": \"<blend-mode>#\",\n        \"background-clip\": \"<bg-clip>#\",\n        \"background-color\": \"<color>\",\n        \"background-image\": \"<bg-image>#\",\n        \"background-origin\": \"<box>#\",\n        \"background-position\": \"<bg-position>#\",\n        \"background-position-x\": \"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#\",\n        \"background-position-y\": \"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#\",\n        \"background-repeat\": \"<repeat-style>#\",\n        \"background-size\": \"<bg-size>#\",\n        \"block-size\": \"<'width'>\",\n        \"border\": \"<line-width>||<line-style>||<color>\",\n        \"border-block\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-block-color\": \"<'border-top-color'>{1,2}\",\n        \"border-block-style\": \"<'border-top-style'>\",\n        \"border-block-width\": \"<'border-top-width'>\",\n        \"border-block-end\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-block-end-color\": \"<'border-top-color'>\",\n        \"border-block-end-style\": \"<'border-top-style'>\",\n        \"border-block-end-width\": \"<'border-top-width'>\",\n        \"border-block-start\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-block-start-color\": \"<'border-top-color'>\",\n        \"border-block-start-style\": \"<'border-top-style'>\",\n        \"border-block-start-width\": \"<'border-top-width'>\",\n        \"border-bottom\": \"<line-width>||<line-style>||<color>\",\n        \"border-bottom-color\": \"<'border-top-color'>\",\n        \"border-bottom-left-radius\": \"<length-percentage>{1,2}\",\n        \"border-bottom-right-radius\": \"<length-percentage>{1,2}\",\n        \"border-bottom-style\": \"<line-style>\",\n        \"border-bottom-width\": \"<line-width>\",\n        \"border-collapse\": \"collapse|separate\",\n        \"border-color\": \"<color>{1,4}\",\n        \"border-end-end-radius\": \"<length-percentage>{1,2}\",\n        \"border-end-start-radius\": \"<length-percentage>{1,2}\",\n        \"border-image\": \"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>\",\n        \"border-image-outset\": \"[<length>|<number>]{1,4}\",\n        \"border-image-repeat\": \"[stretch|repeat|round|space]{1,2}\",\n        \"border-image-slice\": \"<number-percentage>{1,4}&&fill?\",\n        \"border-image-source\": \"none|<image>\",\n        \"border-image-width\": \"[<length-percentage>|<number>|auto]{1,4}\",\n        \"border-inline\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-inline-end\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-inline-color\": \"<'border-top-color'>{1,2}\",\n        \"border-inline-style\": \"<'border-top-style'>\",\n        \"border-inline-width\": \"<'border-top-width'>\",\n        \"border-inline-end-color\": \"<'border-top-color'>\",\n        \"border-inline-end-style\": \"<'border-top-style'>\",\n        \"border-inline-end-width\": \"<'border-top-width'>\",\n        \"border-inline-start\": \"<'border-top-width'>||<'border-top-style'>||<color>\",\n        \"border-inline-start-color\": \"<'border-top-color'>\",\n        \"border-inline-start-style\": \"<'border-top-style'>\",\n        \"border-inline-start-width\": \"<'border-top-width'>\",\n        \"border-left\": \"<line-width>||<line-style>||<color>\",\n        \"border-left-color\": \"<color>\",\n        \"border-left-style\": \"<line-style>\",\n        \"border-left-width\": \"<line-width>\",\n        \"border-radius\": \"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?\",\n        \"border-right\": \"<line-width>||<line-style>||<color>\",\n        \"border-right-color\": \"<color>\",\n        \"border-right-style\": \"<line-style>\",\n        \"border-right-width\": \"<line-width>\",\n        \"border-spacing\": \"<length> <length>?\",\n        \"border-start-end-radius\": \"<length-percentage>{1,2}\",\n        \"border-start-start-radius\": \"<length-percentage>{1,2}\",\n        \"border-style\": \"<line-style>{1,4}\",\n        \"border-top\": \"<line-width>||<line-style>||<color>\",\n        \"border-top-color\": \"<color>\",\n        \"border-top-left-radius\": \"<length-percentage>{1,2}\",\n        \"border-top-right-radius\": \"<length-percentage>{1,2}\",\n        \"border-top-style\": \"<line-style>\",\n        \"border-top-width\": \"<line-width>\",\n        \"border-width\": \"<line-width>{1,4}\",\n        \"bottom\": \"<length>|<percentage>|auto\",\n        \"box-align\": \"start|center|end|baseline|stretch\",\n        \"box-decoration-break\": \"slice|clone\",\n        \"box-direction\": \"normal|reverse|inherit\",\n        \"box-flex\": \"<number>\",\n        \"box-flex-group\": \"<integer>\",\n        \"box-lines\": \"single|multiple\",\n        \"box-ordinal-group\": \"<integer>\",\n        \"box-orient\": \"horizontal|vertical|inline-axis|block-axis|inherit\",\n        \"box-pack\": \"start|center|end|justify\",\n        \"box-shadow\": \"none|<shadow>#\",\n        \"box-sizing\": \"content-box|border-box\",\n        \"break-after\": \"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region\",\n        \"break-before\": \"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region\",\n        \"break-inside\": \"auto|avoid|avoid-page|avoid-column|avoid-region\",\n        \"caption-side\": \"top|bottom|block-start|block-end|inline-start|inline-end\",\n        \"caret\": \"<'caret-color'>||<'caret-shape'>\",\n        \"caret-color\": \"auto|<color>\",\n        \"caret-shape\": \"auto|bar|block|underscore\",\n        \"clear\": \"none|left|right|both|inline-start|inline-end\",\n        \"clip\": \"<shape>|auto\",\n        \"clip-path\": \"<clip-source>|[<basic-shape>||<geometry-box>]|none\",\n        \"clip-rule\": \"nonzero|evenodd\",\n        \"color\": \"<color>\",\n        \"color-interpolation-filters\": \"auto|sRGB|linearRGB\",\n        \"color-scheme\": \"normal|[light|dark|<custom-ident>]+&&only?\",\n        \"column-count\": \"<integer>|auto\",\n        \"column-fill\": \"auto|balance\",\n        \"column-gap\": \"normal|<length-percentage>\",\n        \"column-rule\": \"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>\",\n        \"column-rule-color\": \"<color>\",\n        \"column-rule-style\": \"<'border-style'>\",\n        \"column-rule-width\": \"<'border-width'>\",\n        \"column-span\": \"none|all\",\n        \"column-width\": \"<length>|auto\",\n        \"columns\": \"<'column-width'>||<'column-count'>\",\n        \"contain\": \"none|strict|content|[[size||inline-size]||layout||style||paint]\",\n        \"contain-intrinsic-size\": \"[auto? [none|<length>]]{1,2}\",\n        \"contain-intrinsic-block-size\": \"auto? [none|<length>]\",\n        \"contain-intrinsic-height\": \"auto? [none|<length>]\",\n        \"contain-intrinsic-inline-size\": \"auto? [none|<length>]\",\n        \"contain-intrinsic-width\": \"auto? [none|<length>]\",\n        \"container\": \"<'container-name'> [/ <'container-type'>]?\",\n        \"container-name\": \"none|<custom-ident>+\",\n        \"container-type\": \"normal||[size|inline-size]\",\n        \"content\": \"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?\",\n        \"content-visibility\": \"visible|auto|hidden\",\n        \"counter-increment\": \"[<counter-name> <integer>?]+|none\",\n        \"counter-reset\": \"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none\",\n        \"counter-set\": \"[<counter-name> <integer>?]+|none\",\n        \"cursor\": \"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]\",\n        \"d\": \"none|path( <string> )\",\n        \"cx\": \"<length>|<percentage>\",\n        \"cy\": \"<length>|<percentage>\",\n        \"direction\": \"ltr|rtl\",\n        \"display\": \"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>\",\n        \"dominant-baseline\": \"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\",\n        \"empty-cells\": \"show|hide\",\n        \"field-sizing\": \"content|fixed\",\n        \"fill\": \"<paint>\",\n        \"fill-opacity\": \"<number-zero-one>\",\n        \"fill-rule\": \"nonzero|evenodd\",\n        \"filter\": \"none|<filter-function-list>|<-ms-filter-function-list>\",\n        \"flex\": \"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]\",\n        \"flex-basis\": \"content|<'width'>\",\n        \"flex-direction\": \"row|row-reverse|column|column-reverse\",\n        \"flex-flow\": \"<'flex-direction'>||<'flex-wrap'>\",\n        \"flex-grow\": \"<number>\",\n        \"flex-shrink\": \"<number>\",\n        \"flex-wrap\": \"nowrap|wrap|wrap-reverse\",\n        \"float\": \"left|right|none|inline-start|inline-end\",\n        \"font\": \"[[<'font-style'>||<font-variant-css2>||<'font-weight'>||<font-width-css3>]? <'font-size'> [/ <'line-height'>]? <'font-family'>#]|<system-family-name>|<-non-standard-font>\",\n        \"font-family\": \"[<family-name>|<generic-family>]#\",\n        \"font-feature-settings\": \"normal|<feature-tag-value>#\",\n        \"font-kerning\": \"auto|normal|none\",\n        \"font-language-override\": \"normal|<string>\",\n        \"font-optical-sizing\": \"auto|none\",\n        \"font-palette\": \"normal|light|dark|<palette-identifier>\",\n        \"font-variation-settings\": \"normal|[<string> <number>]#\",\n        \"font-size\": \"<absolute-size>|<relative-size>|<length-percentage>\",\n        \"font-size-adjust\": \"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]\",\n        \"font-smooth\": \"auto|never|always|<absolute-size>|<length>\",\n        \"font-stretch\": \"<font-stretch-absolute>\",\n        \"font-style\": \"normal|italic|oblique <angle>?\",\n        \"font-synthesis\": \"none|[weight||style||small-caps||position]\",\n        \"font-synthesis-position\": \"auto|none\",\n        \"font-synthesis-small-caps\": \"auto|none\",\n        \"font-synthesis-style\": \"auto|none\",\n        \"font-synthesis-weight\": \"auto|none\",\n        \"font-variant\": \"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]\",\n        \"font-variant-alternates\": \"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]\",\n        \"font-variant-caps\": \"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps\",\n        \"font-variant-east-asian\": \"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]\",\n        \"font-variant-emoji\": \"normal|text|emoji|unicode\",\n        \"font-variant-ligatures\": \"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]\",\n        \"font-variant-numeric\": \"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]\",\n        \"font-variant-position\": \"normal|sub|super\",\n        \"font-weight\": \"<font-weight-absolute>|bolder|lighter\",\n        \"forced-color-adjust\": \"auto|none|preserve-parent-color\",\n        \"gap\": \"<'row-gap'> <'column-gap'>?\",\n        \"grid\": \"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>\",\n        \"grid-area\": \"<grid-line> [/ <grid-line>]{0,3}\",\n        \"grid-auto-columns\": \"<track-size>+\",\n        \"grid-auto-flow\": \"[row|column]||dense\",\n        \"grid-auto-rows\": \"<track-size>+\",\n        \"grid-column\": \"<grid-line> [/ <grid-line>]?\",\n        \"grid-column-end\": \"<grid-line>\",\n        \"grid-column-gap\": \"<length-percentage>\",\n        \"grid-column-start\": \"<grid-line>\",\n        \"grid-gap\": \"<'grid-row-gap'> <'grid-column-gap'>?\",\n        \"grid-row\": \"<grid-line> [/ <grid-line>]?\",\n        \"grid-row-end\": \"<grid-line>\",\n        \"grid-row-gap\": \"<length-percentage>\",\n        \"grid-row-start\": \"<grid-line>\",\n        \"grid-template\": \"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?\",\n        \"grid-template-areas\": \"none|<string>+\",\n        \"grid-template-columns\": \"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?\",\n        \"grid-template-rows\": \"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?\",\n        \"hanging-punctuation\": \"none|[first||[force-end|allow-end]||last]\",\n        \"height\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"hyphenate-character\": \"auto|<string>\",\n        \"hyphenate-limit-chars\": \"[auto|<integer>]{1,3}\",\n        \"hyphens\": \"none|manual|auto\",\n        \"image-orientation\": \"from-image|<angle>|[<angle>? flip]\",\n        \"image-rendering\": \"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>\",\n        \"image-resolution\": \"[from-image||<resolution>]&&snap?\",\n        \"ime-mode\": \"auto|normal|active|inactive|disabled\",\n        \"initial-letter\": \"normal|[<number> <integer>?]\",\n        \"initial-letter-align\": \"[auto|alphabetic|hanging|ideographic]\",\n        \"inline-size\": \"<'width'>\",\n        \"input-security\": \"auto|none\",\n        \"inset\": \"<'top'>{1,4}\",\n        \"inset-block\": \"<'top'>{1,2}\",\n        \"inset-block-end\": \"<'top'>\",\n        \"inset-block-start\": \"<'top'>\",\n        \"inset-inline\": \"<'top'>{1,2}\",\n        \"inset-inline-end\": \"<'top'>\",\n        \"inset-inline-start\": \"<'top'>\",\n        \"interpolate-size\": \"numeric-only|allow-keywords\",\n        \"isolation\": \"auto|isolate\",\n        \"justify-content\": \"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]\",\n        \"justify-items\": \"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]\",\n        \"justify-self\": \"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]\",\n        \"justify-tracks\": \"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#\",\n        \"left\": \"<length>|<percentage>|auto\",\n        \"letter-spacing\": \"normal|<length-percentage>\",\n        \"line-break\": \"auto|loose|normal|strict|anywhere\",\n        \"line-clamp\": \"none|<integer>\",\n        \"line-height\": \"normal|<number>|<length>|<percentage>\",\n        \"line-height-step\": \"<length>\",\n        \"list-style\": \"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>\",\n        \"list-style-image\": \"<image>|none\",\n        \"list-style-position\": \"inside|outside\",\n        \"list-style-type\": \"<counter-style>|<string>|none\",\n        \"margin\": \"[<length>|<percentage>|auto]{1,4}\",\n        \"margin-block\": \"<'margin-left'>{1,2}\",\n        \"margin-block-end\": \"<'margin-left'>\",\n        \"margin-block-start\": \"<'margin-left'>\",\n        \"margin-bottom\": \"<length>|<percentage>|auto\",\n        \"margin-inline\": \"<'margin-left'>{1,2}\",\n        \"margin-inline-end\": \"<'margin-left'>\",\n        \"margin-inline-start\": \"<'margin-left'>\",\n        \"margin-left\": \"<length>|<percentage>|auto\",\n        \"margin-right\": \"<length>|<percentage>|auto\",\n        \"margin-top\": \"<length>|<percentage>|auto\",\n        \"margin-trim\": \"none|in-flow|all\",\n        \"marker\": \"none|<url>\",\n        \"marker-end\": \"none|<url>\",\n        \"marker-mid\": \"none|<url>\",\n        \"marker-start\": \"none|<url>\",\n        \"mask\": \"<mask-layer>#\",\n        \"mask-border\": \"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>\",\n        \"mask-border-mode\": \"luminance|alpha\",\n        \"mask-border-outset\": \"[<length>|<number>]{1,4}\",\n        \"mask-border-repeat\": \"[stretch|repeat|round|space]{1,2}\",\n        \"mask-border-slice\": \"<number-percentage>{1,4} fill?\",\n        \"mask-border-source\": \"none|<image>\",\n        \"mask-border-width\": \"[<length-percentage>|<number>|auto]{1,4}\",\n        \"mask-clip\": \"[<geometry-box>|no-clip]#\",\n        \"mask-composite\": \"<compositing-operator>#\",\n        \"mask-image\": \"<mask-reference>#\",\n        \"mask-mode\": \"<masking-mode>#\",\n        \"mask-origin\": \"<geometry-box>#\",\n        \"mask-position\": \"<position>#\",\n        \"mask-repeat\": \"<repeat-style>#\",\n        \"mask-size\": \"<bg-size>#\",\n        \"mask-type\": \"luminance|alpha\",\n        \"masonry-auto-flow\": \"[pack|next]||[definite-first|ordered]\",\n        \"math-depth\": \"auto-add|add( <integer> )|<integer>\",\n        \"math-shift\": \"normal|compact\",\n        \"math-style\": \"normal|compact\",\n        \"max-block-size\": \"<'max-width'>\",\n        \"max-height\": \"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"max-inline-size\": \"<'max-width'>\",\n        \"max-lines\": \"none|<integer>\",\n        \"max-width\": \"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"min-block-size\": \"<'min-width'>\",\n        \"min-height\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"min-inline-size\": \"<'min-width'>\",\n        \"min-width\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"mix-blend-mode\": \"<blend-mode>|plus-lighter\",\n        \"object-fit\": \"fill|contain|cover|none|scale-down\",\n        \"object-position\": \"<position>\",\n        \"offset\": \"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?\",\n        \"offset-anchor\": \"auto|<position>\",\n        \"offset-distance\": \"<length-percentage>\",\n        \"offset-path\": \"none|<offset-path>||<coord-box>\",\n        \"offset-position\": \"normal|auto|<position>\",\n        \"offset-rotate\": \"[auto|reverse]||<angle>\",\n        \"opacity\": \"<alpha-value>\",\n        \"order\": \"<integer>\",\n        \"orphans\": \"<integer>\",\n        \"outline\": \"[<'outline-width'>||<'outline-style'>||<'outline-color'>]\",\n        \"outline-color\": \"auto|<color>\",\n        \"outline-offset\": \"<length>\",\n        \"outline-style\": \"auto|<'border-style'>\",\n        \"outline-width\": \"<line-width>\",\n        \"overflow\": \"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>\",\n        \"overflow-anchor\": \"auto|none\",\n        \"overflow-block\": \"visible|hidden|clip|scroll|auto\",\n        \"overflow-clip-box\": \"padding-box|content-box\",\n        \"overflow-clip-margin\": \"<visual-box>||<length [0,∞]>\",\n        \"overflow-inline\": \"visible|hidden|clip|scroll|auto\",\n        \"overflow-wrap\": \"normal|break-word|anywhere\",\n        \"overflow-x\": \"visible|hidden|clip|scroll|auto\",\n        \"overflow-y\": \"visible|hidden|clip|scroll|auto\",\n        \"overlay\": \"none|auto\",\n        \"overscroll-behavior\": \"[contain|none|auto]{1,2}\",\n        \"overscroll-behavior-block\": \"contain|none|auto\",\n        \"overscroll-behavior-inline\": \"contain|none|auto\",\n        \"overscroll-behavior-x\": \"contain|none|auto\",\n        \"overscroll-behavior-y\": \"contain|none|auto\",\n        \"padding\": \"[<length>|<percentage>]{1,4}\",\n        \"padding-block\": \"<'padding-left'>{1,2}\",\n        \"padding-block-end\": \"<'padding-left'>\",\n        \"padding-block-start\": \"<'padding-left'>\",\n        \"padding-bottom\": \"<length>|<percentage>\",\n        \"padding-inline\": \"<'padding-left'>{1,2}\",\n        \"padding-inline-end\": \"<'padding-left'>\",\n        \"padding-inline-start\": \"<'padding-left'>\",\n        \"padding-left\": \"<length>|<percentage>\",\n        \"padding-right\": \"<length>|<percentage>\",\n        \"padding-top\": \"<length>|<percentage>\",\n        \"page\": \"auto|<custom-ident>\",\n        \"page-break-after\": \"auto|always|avoid|left|right|recto|verso\",\n        \"page-break-before\": \"auto|always|avoid|left|right|recto|verso\",\n        \"page-break-inside\": \"auto|avoid\",\n        \"paint-order\": \"normal|[fill||stroke||markers]\",\n        \"perspective\": \"none|<length>\",\n        \"perspective-origin\": \"<position>\",\n        \"place-content\": \"<'align-content'> <'justify-content'>?\",\n        \"place-items\": \"<'align-items'> <'justify-items'>?\",\n        \"place-self\": \"<'align-self'> <'justify-self'>?\",\n        \"pointer-events\": \"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit\",\n        \"position\": \"static|relative|absolute|sticky|fixed|-webkit-sticky\",\n        \"position-anchor\": \"auto|<anchor-name>\",\n        \"position-area\": \"none|<position-area>\",\n        \"position-try\": \"<'position-try-order'>? <'position-try-fallbacks'>\",\n        \"position-try-fallbacks\": \"none|[[<dashed-ident>||<try-tactic>]|<'position-area'>]#\",\n        \"position-try-order\": \"normal|<try-size>\",\n        \"position-visibility\": \"always|[anchors-valid||anchors-visible||no-overflow]\",\n        \"print-color-adjust\": \"economy|exact\",\n        \"quotes\": \"none|auto|[<string> <string>]+\",\n        \"r\": \"<length>|<percentage>\",\n        \"resize\": \"none|both|horizontal|vertical|block|inline\",\n        \"right\": \"<length>|<percentage>|auto\",\n        \"rotate\": \"none|<angle>|[x|y|z|<number>{3}]&&<angle>\",\n        \"row-gap\": \"normal|<length-percentage>\",\n        \"ruby-align\": \"start|center|space-between|space-around\",\n        \"ruby-merge\": \"separate|collapse|auto\",\n        \"ruby-position\": \"[alternate||[over|under]]|inter-character\",\n        \"rx\": \"<length>|<percentage>\",\n        \"ry\": \"<length>|<percentage>\",\n        \"scale\": \"none|[<number>|<percentage>]{1,3}\",\n        \"scrollbar-color\": \"auto|<color>{2}\",\n        \"scrollbar-gutter\": \"auto|stable&&both-edges?\",\n        \"scrollbar-width\": \"auto|thin|none\",\n        \"scroll-behavior\": \"auto|smooth\",\n        \"scroll-margin\": \"<length>{1,4}\",\n        \"scroll-margin-block\": \"<length>{1,2}\",\n        \"scroll-margin-block-start\": \"<length>\",\n        \"scroll-margin-block-end\": \"<length>\",\n        \"scroll-margin-bottom\": \"<length>\",\n        \"scroll-margin-inline\": \"<length>{1,2}\",\n        \"scroll-margin-inline-start\": \"<length>\",\n        \"scroll-margin-inline-end\": \"<length>\",\n        \"scroll-margin-left\": \"<length>\",\n        \"scroll-margin-right\": \"<length>\",\n        \"scroll-margin-top\": \"<length>\",\n        \"scroll-padding\": \"[auto|<length-percentage>]{1,4}\",\n        \"scroll-padding-block\": \"[auto|<length-percentage>]{1,2}\",\n        \"scroll-padding-block-start\": \"auto|<length-percentage>\",\n        \"scroll-padding-block-end\": \"auto|<length-percentage>\",\n        \"scroll-padding-bottom\": \"auto|<length-percentage>\",\n        \"scroll-padding-inline\": \"[auto|<length-percentage>]{1,2}\",\n        \"scroll-padding-inline-start\": \"auto|<length-percentage>\",\n        \"scroll-padding-inline-end\": \"auto|<length-percentage>\",\n        \"scroll-padding-left\": \"auto|<length-percentage>\",\n        \"scroll-padding-right\": \"auto|<length-percentage>\",\n        \"scroll-padding-top\": \"auto|<length-percentage>\",\n        \"scroll-snap-align\": \"[none|start|end|center]{1,2}\",\n        \"scroll-snap-coordinate\": \"none|<position>#\",\n        \"scroll-snap-destination\": \"<position>\",\n        \"scroll-snap-points-x\": \"none|repeat( <length-percentage> )\",\n        \"scroll-snap-points-y\": \"none|repeat( <length-percentage> )\",\n        \"scroll-snap-stop\": \"normal|always\",\n        \"scroll-snap-type\": \"none|[x|y|block|inline|both] [mandatory|proximity]?\",\n        \"scroll-snap-type-x\": \"none|mandatory|proximity\",\n        \"scroll-snap-type-y\": \"none|mandatory|proximity\",\n        \"scroll-timeline\": \"[<'scroll-timeline-name'>||<'scroll-timeline-axis'>]#\",\n        \"scroll-timeline-axis\": \"[block|inline|x|y]#\",\n        \"scroll-timeline-name\": \"[none|<dashed-ident>]#\",\n        \"shape-image-threshold\": \"<alpha-value>\",\n        \"shape-margin\": \"<length-percentage>\",\n        \"shape-outside\": \"none|[<shape-box>||<basic-shape>]|<image>\",\n        \"shape-rendering\": \"auto|optimizeSpeed|crispEdges|geometricPrecision\",\n        \"stroke\": \"<paint>\",\n        \"stroke-dasharray\": \"none|[<svg-length>+]#\",\n        \"stroke-dashoffset\": \"<svg-length>\",\n        \"stroke-linecap\": \"butt|round|square\",\n        \"stroke-linejoin\": \"miter|round|bevel\",\n        \"stroke-miterlimit\": \"<number-one-or-greater>\",\n        \"stroke-opacity\": \"<'opacity'>\",\n        \"stroke-width\": \"<svg-length>\",\n        \"tab-size\": \"<integer>|<length>\",\n        \"table-layout\": \"auto|fixed\",\n        \"text-align\": \"start|end|left|right|center|justify|match-parent\",\n        \"text-align-last\": \"auto|start|end|left|right|center|justify\",\n        \"text-anchor\": \"start|middle|end\",\n        \"text-combine-upright\": \"none|all|[digits <integer>?]\",\n        \"text-decoration\": \"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>\",\n        \"text-decoration-color\": \"<color>\",\n        \"text-decoration-line\": \"none|[underline||overline||line-through||blink]|spelling-error|grammar-error\",\n        \"text-decoration-skip\": \"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]\",\n        \"text-decoration-skip-ink\": \"auto|all|none\",\n        \"text-decoration-style\": \"solid|double|dotted|dashed|wavy\",\n        \"text-decoration-thickness\": \"auto|from-font|<length>|<percentage>\",\n        \"text-emphasis\": \"<'text-emphasis-style'>||<'text-emphasis-color'>\",\n        \"text-emphasis-color\": \"<color>\",\n        \"text-emphasis-position\": \"auto|[over|under]&&[right|left]?\",\n        \"text-emphasis-style\": \"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>\",\n        \"text-indent\": \"<length-percentage>&&hanging?&&each-line?\",\n        \"text-justify\": \"auto|inter-character|inter-word|none\",\n        \"text-orientation\": \"mixed|upright|sideways\",\n        \"text-overflow\": \"[clip|ellipsis|<string>]{1,2}\",\n        \"text-rendering\": \"auto|optimizeSpeed|optimizeLegibility|geometricPrecision\",\n        \"text-shadow\": \"none|<shadow-t>#\",\n        \"text-size-adjust\": \"none|auto|<percentage>\",\n        \"text-spacing-trim\": \"space-all|normal|space-first|trim-start|trim-both|trim-all|auto\",\n        \"text-transform\": \"none|capitalize|uppercase|lowercase|full-width|full-size-kana\",\n        \"text-underline-offset\": \"auto|<length>|<percentage>\",\n        \"text-underline-position\": \"auto|from-font|[under||[left|right]]\",\n        \"text-wrap\": \"<'text-wrap-mode'>||<'text-wrap-style'>\",\n        \"text-wrap-mode\": \"auto|wrap|nowrap\",\n        \"text-wrap-style\": \"auto|balance|stable|pretty\",\n        \"timeline-scope\": \"none|<dashed-ident>#\",\n        \"top\": \"<length>|<percentage>|auto\",\n        \"touch-action\": \"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation\",\n        \"transform\": \"none|<transform-list>\",\n        \"transform-box\": \"content-box|border-box|fill-box|stroke-box|view-box\",\n        \"transform-origin\": \"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?\",\n        \"transform-style\": \"flat|preserve-3d\",\n        \"transition\": \"<single-transition>#\",\n        \"transition-behavior\": \"<transition-behavior-value>#\",\n        \"transition-delay\": \"<time>#\",\n        \"transition-duration\": \"<time>#\",\n        \"transition-property\": \"none|<single-transition-property>#\",\n        \"transition-timing-function\": \"<easing-function>#\",\n        \"translate\": \"none|<length-percentage> [<length-percentage> <length>?]?\",\n        \"unicode-bidi\": \"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext\",\n        \"user-select\": \"auto|text|none|contain|all\",\n        \"vector-effect\": \"none|non-scaling-stroke|non-scaling-size|non-rotation|fixed-position\",\n        \"vertical-align\": \"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>\",\n        \"view-timeline\": \"[<'view-timeline-name'> <'view-timeline-axis'>?]#\",\n        \"view-timeline-axis\": \"[block|inline|x|y]#\",\n        \"view-timeline-inset\": \"[[auto|<length-percentage>]{1,2}]#\",\n        \"view-timeline-name\": \"none|<dashed-ident>#\",\n        \"view-transition-name\": \"none|<custom-ident>\",\n        \"visibility\": \"visible|hidden|collapse\",\n        \"white-space\": \"normal|pre|nowrap|pre-wrap|pre-line|break-spaces|[<'white-space-collapse'>||<'text-wrap'>||<'white-space-trim'>]\",\n        \"white-space-collapse\": \"collapse|discard|preserve|preserve-breaks|preserve-spaces|break-spaces\",\n        \"widows\": \"<integer>\",\n        \"width\": \"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|stretch|<-non-standard-size>\",\n        \"will-change\": \"auto|<animateable-feature>#\",\n        \"word-break\": \"normal|break-all|keep-all|break-word|auto-phrase\",\n        \"word-spacing\": \"normal|<length>\",\n        \"word-wrap\": \"normal|break-word\",\n        \"writing-mode\": \"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>\",\n        \"x\": \"<length>|<percentage>\",\n        \"y\": \"<length>|<percentage>\",\n        \"z-index\": \"auto|<integer>\",\n        \"zoom\": \"normal|reset|<number>|<percentage>\",\n        \"-moz-background-clip\": \"padding|border\",\n        \"-moz-border-radius-bottomleft\": \"<'border-bottom-left-radius'>\",\n        \"-moz-border-radius-bottomright\": \"<'border-bottom-right-radius'>\",\n        \"-moz-border-radius-topleft\": \"<'border-top-left-radius'>\",\n        \"-moz-border-radius-topright\": \"<'border-bottom-right-radius'>\",\n        \"-moz-control-character-visibility\": \"visible|hidden\",\n        \"-moz-osx-font-smoothing\": \"auto|grayscale\",\n        \"-moz-user-select\": \"none|text|all|-moz-none\",\n        \"-ms-flex-align\": \"start|end|center|baseline|stretch\",\n        \"-ms-flex-item-align\": \"auto|start|end|center|baseline|stretch\",\n        \"-ms-flex-line-pack\": \"start|end|center|justify|distribute|stretch\",\n        \"-ms-flex-negative\": \"<'flex-shrink'>\",\n        \"-ms-flex-pack\": \"start|end|center|justify|distribute\",\n        \"-ms-flex-order\": \"<integer>\",\n        \"-ms-flex-positive\": \"<'flex-grow'>\",\n        \"-ms-flex-preferred-size\": \"<'flex-basis'>\",\n        \"-ms-interpolation-mode\": \"nearest-neighbor|bicubic\",\n        \"-ms-grid-column-align\": \"start|end|center|stretch\",\n        \"-ms-grid-row-align\": \"start|end|center|stretch\",\n        \"-ms-hyphenate-limit-last\": \"none|always|column|page|spread\",\n        \"-webkit-background-clip\": \"[<box>|border|padding|content|text]#\",\n        \"-webkit-column-break-after\": \"always|auto|avoid\",\n        \"-webkit-column-break-before\": \"always|auto|avoid\",\n        \"-webkit-column-break-inside\": \"always|auto|avoid\",\n        \"-webkit-font-smoothing\": \"auto|none|antialiased|subpixel-antialiased\",\n        \"-webkit-mask-box-image\": \"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?\",\n        \"-webkit-print-color-adjust\": \"economy|exact\",\n        \"-webkit-text-security\": \"none|circle|disc|square\",\n        \"-webkit-user-drag\": \"none|element|auto\",\n        \"-webkit-user-select\": \"auto|none|text|all\",\n        \"alignment-baseline\": \"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical\",\n        \"baseline-shift\": \"baseline|sub|super|<svg-length>\",\n        \"behavior\": \"<url>+\",\n        \"cue\": \"<'cue-before'> <'cue-after'>?\",\n        \"cue-after\": \"<url> <decibel>?|none\",\n        \"cue-before\": \"<url> <decibel>?|none\",\n        \"glyph-orientation-horizontal\": \"<angle>\",\n        \"glyph-orientation-vertical\": \"<angle>\",\n        \"kerning\": \"auto|<svg-length>\",\n        \"pause\": \"<'pause-before'> <'pause-after'>?\",\n        \"pause-after\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"pause-before\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"rest\": \"<'rest-before'> <'rest-after'>?\",\n        \"rest-after\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"rest-before\": \"<time>|none|x-weak|weak|medium|strong|x-strong\",\n        \"src\": \"[<url> [format( <string># )]?|local( <family-name> )]#\",\n        \"speak\": \"auto|never|always\",\n        \"speak-as\": \"normal|spell-out||digits||[literal-punctuation|no-punctuation]\",\n        \"unicode-range\": \"<urange>#\",\n        \"voice-balance\": \"<number>|left|center|right|leftwards|rightwards\",\n        \"voice-duration\": \"auto|<time>\",\n        \"voice-family\": \"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve\",\n        \"voice-pitch\": \"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]\",\n        \"voice-range\": \"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]\",\n        \"voice-rate\": \"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>\",\n        \"voice-stress\": \"normal|strong|moderate|none|reduced\",\n        \"voice-volume\": \"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]\",\n        \"white-space-trim\": \"none|discard-before||discard-after||discard-inner\"\n    },\n    \"atrules\": {\n        \"charset\": {\n            \"prelude\": \"<string>\",\n            \"descriptors\": null\n        },\n        \"counter-style\": {\n            \"prelude\": \"<counter-style-name>\",\n            \"descriptors\": {\n                \"additive-symbols\": \"[<integer>&&<symbol>]#\",\n                \"fallback\": \"<counter-style-name>\",\n                \"negative\": \"<symbol> <symbol>?\",\n                \"pad\": \"<integer>&&<symbol>\",\n                \"prefix\": \"<symbol>\",\n                \"range\": \"[[<integer>|infinite]{2}]#|auto\",\n                \"speak-as\": \"auto|bullets|numbers|words|spell-out|<counter-style-name>\",\n                \"suffix\": \"<symbol>\",\n                \"symbols\": \"<symbol>+\",\n                \"system\": \"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]\"\n            }\n        },\n        \"document\": {\n            \"prelude\": \"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#\",\n            \"descriptors\": null\n        },\n        \"font-palette-values\": {\n            \"prelude\": \"<dashed-ident>\",\n            \"descriptors\": {\n                \"base-palette\": \"light|dark|<integer [0,∞]>\",\n                \"font-family\": \"<family-name>#\",\n                \"override-colors\": \"[<integer [0,∞]> <absolute-color-base>]#\"\n            }\n        },\n        \"font-face\": {\n            \"prelude\": null,\n            \"descriptors\": {\n                \"ascent-override\": \"normal|<percentage>\",\n                \"descent-override\": \"normal|<percentage>\",\n                \"font-display\": \"[auto|block|swap|fallback|optional]\",\n                \"font-family\": \"<family-name>\",\n                \"font-feature-settings\": \"normal|<feature-tag-value>#\",\n                \"font-variation-settings\": \"normal|[<string> <number>]#\",\n                \"font-stretch\": \"<font-stretch-absolute>{1,2}\",\n                \"font-style\": \"normal|italic|oblique <angle>{0,2}\",\n                \"font-weight\": \"<font-weight-absolute>{1,2}\",\n                \"line-gap-override\": \"normal|<percentage>\",\n                \"size-adjust\": \"<percentage>\",\n                \"src\": \"[<url> [format( <string># )]?|local( <family-name> )]#\",\n                \"unicode-range\": \"<urange>#\"\n            }\n        },\n        \"font-feature-values\": {\n            \"prelude\": \"<family-name>#\",\n            \"descriptors\": null\n        },\n        \"import\": {\n            \"prelude\": \"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?\",\n            \"descriptors\": null\n        },\n        \"keyframes\": {\n            \"prelude\": \"<keyframes-name>\",\n            \"descriptors\": null\n        },\n        \"layer\": {\n            \"prelude\": \"[<layer-name>#|<layer-name>?]\",\n            \"descriptors\": null\n        },\n        \"media\": {\n            \"prelude\": \"<media-query-list>\",\n            \"descriptors\": null\n        },\n        \"namespace\": {\n            \"prelude\": \"<namespace-prefix>? [<string>|<url>]\",\n            \"descriptors\": null\n        },\n        \"page\": {\n            \"prelude\": \"<page-selector-list>\",\n            \"descriptors\": {\n                \"bleed\": \"auto|<length>\",\n                \"marks\": \"none|[crop||cross]\",\n                \"page-orientation\": \"upright|rotate-left|rotate-right\",\n                \"size\": \"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]\"\n            }\n        },\n        \"position-try\": {\n            \"prelude\": \"<dashed-ident>\",\n            \"descriptors\": {\n                \"top\": \"<'top'>\",\n                \"left\": \"<'left'>\",\n                \"bottom\": \"<'bottom'>\",\n                \"right\": \"<'right'>\",\n                \"inset-block-start\": \"<'inset-block-start'>\",\n                \"inset-block-end\": \"<'inset-block-end'>\",\n                \"inset-inline-start\": \"<'inset-inline-start'>\",\n                \"inset-inline-end\": \"<'inset-inline-end'>\",\n                \"inset-block\": \"<'inset-block'>\",\n                \"inset-inline\": \"<'inset-inline'>\",\n                \"inset\": \"<'inset'>\",\n                \"margin-top\": \"<'margin-top'>\",\n                \"margin-left\": \"<'margin-left'>\",\n                \"margin-bottom\": \"<'margin-bottom'>\",\n                \"margin-right\": \"<'margin-right'>\",\n                \"margin-block-start\": \"<'margin-block-start'>\",\n                \"margin-block-end\": \"<'margin-block-end'>\",\n                \"margin-inline-start\": \"<'margin-inline-start'>\",\n                \"margin-inline-end\": \"<'margin-inline-end'>\",\n                \"margin\": \"<'margin'>\",\n                \"margin-block\": \"<'margin-block'>\",\n                \"margin-inline\": \"<'margin-inline'>\",\n                \"width\": \"<'width'>\",\n                \"height\": \"<'height'>\",\n                \"min-width\": \"<'min-width'>\",\n                \"min-height\": \"<'min-height'>\",\n                \"max-width\": \"<'max-width'>\",\n                \"max-height\": \"<'max-height'>\",\n                \"block-size\": \"<'block-size'>\",\n                \"inline-size\": \"<'inline-size'>\",\n                \"min-block-size\": \"<'min-block-size'>\",\n                \"min-inline-size\": \"<'min-inline-size'>\",\n                \"max-block-size\": \"<'max-block-size'>\",\n                \"max-inline-size\": \"<'max-inline-size'>\",\n                \"align-self\": \"<'align-self'>|anchor-center\",\n                \"justify-self\": \"<'justify-self'>|anchor-center\"\n            }\n        },\n        \"property\": {\n            \"prelude\": \"<custom-property-name>\",\n            \"descriptors\": {\n                \"syntax\": \"<string>\",\n                \"inherits\": \"true|false\",\n                \"initial-value\": \"<declaration-value>?\"\n            }\n        },\n        \"scope\": {\n            \"prelude\": \"[( <scope-start> )]? [to ( <scope-end> )]?\",\n            \"descriptors\": null\n        },\n        \"starting-style\": {\n            \"prelude\": null,\n            \"descriptors\": null\n        },\n        \"supports\": {\n            \"prelude\": \"<supports-condition>\",\n            \"descriptors\": null\n        },\n        \"container\": {\n            \"prelude\": \"[<container-name>]? <container-condition>\",\n            \"descriptors\": null\n        },\n        \"nest\": {\n            \"prelude\": \"<complex-selector-list>\",\n            \"descriptors\": null\n        }\n    }\n};",
    "import {\n    isDigit,\n    WhiteSpace,\n    Comment,\n    Ident,\n    Number,\n    Dimension\n} from '../../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nconst N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nconst DISALLOW_SIGN = true;\nconst ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    let pos = this.tokenStart + offset;\n    const code = this.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.tokenEnd; pos++) {\n        if (!isDigit(this.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!this.cmpChar(this.tokenStart + offset, code)) {\n        let msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    let offset = 0;\n    let sign = 0;\n    let type = this.tokenType;\n\n    while (type === WhiteSpace || type === Comment) {\n        type = this.lookupType(++offset);\n    }\n\n    if (type !== Number) {\n        if (this.isDelim(PLUSSIGN, offset) ||\n            this.isDelim(HYPHENMINUS, offset)) {\n            sign = this.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.lookupType(++offset);\n            } while (type === WhiteSpace || type === Comment);\n\n            if (type !== Number) {\n                this.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.charCodeAt(this.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(Number) : this.consume(Number);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nexport const name = 'AnPlusB';\nexport const structure = {\n    a: [String, null],\n    b: [String, null]\n};\n\nexport function parse() {\n    /* eslint-disable brace-style*/\n    const start = this.tokenStart;\n    let a = null;\n    let b = null;\n\n    // <integer>\n    if (this.tokenType === Number) {\n        checkTokenIsInteger.call(this, ALLOW_SIGN);\n        b = this.consume(Number);\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (this.tokenType === Ident && this.cmpChar(this.tokenStart, HYPHENMINUS)) {\n        a = '-1';\n\n        expectCharCode.call(this, 1, N);\n\n        switch (this.tokenEnd - this.tokenStart) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                this.next();\n                b = consumeB.call(this);\n                break;\n\n            // -n- <signless-integer>\n            case 3:\n                expectCharCode.call(this, 2, HYPHENMINUS);\n\n                this.next();\n                this.skipSC();\n\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                b = '-' + this.consume(Number);\n                break;\n\n            // <dashndashdigit-ident>\n            default:\n                expectCharCode.call(this, 2, HYPHENMINUS);\n                checkInteger.call(this, 3, DISALLOW_SIGN);\n                this.next();\n\n                b = this.substrToCursor(start + 2);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (this.tokenType === Ident || (this.isDelim(PLUSSIGN) && this.lookupType(1) === Ident)) {\n        let sign = 0;\n        a = '1';\n\n        // just ignore a plus\n        if (this.isDelim(PLUSSIGN)) {\n            sign = 1;\n            this.next();\n        }\n\n        expectCharCode.call(this, 0, N);\n\n        switch (this.tokenEnd - this.tokenStart) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                this.next();\n                b = consumeB.call(this);\n                break;\n\n            // '+'? n- <signless-integer>\n            case 2:\n                expectCharCode.call(this, 1, HYPHENMINUS);\n\n                this.next();\n                this.skipSC();\n\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                b = '-' + this.consume(Number);\n                break;\n\n            // '+'? <ndashdigit-ident>\n            default:\n                expectCharCode.call(this, 1, HYPHENMINUS);\n                checkInteger.call(this, 2, DISALLOW_SIGN);\n                this.next();\n\n                b = this.substrToCursor(start + sign + 1);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (this.tokenType === Dimension) {\n        const code = this.charCodeAt(this.tokenStart);\n        const sign = code === PLUSSIGN || code === HYPHENMINUS;\n        let i = this.tokenStart + sign;\n\n        for (; i < this.tokenEnd; i++) {\n            if (!isDigit(this.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === this.tokenStart + sign) {\n            this.error('Integer is expected', this.tokenStart + sign);\n        }\n\n        expectCharCode.call(this, i - this.tokenStart, N);\n        a = this.substring(start, i);\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === this.tokenEnd) {\n            this.next();\n            b = consumeB.call(this);\n        } else {\n            expectCharCode.call(this, i - this.tokenStart + 1, HYPHENMINUS);\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === this.tokenEnd) {\n                this.next();\n                this.skipSC();\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                b = '-' + this.consume(Number);\n            }\n            // <ndashdigit-dimension>\n            else {\n                checkInteger.call(this, i - this.tokenStart + 2, DISALLOW_SIGN);\n                this.next();\n                b = this.substrToCursor(i + 1);\n            }\n        }\n    } else {\n        this.error();\n    }\n\n    if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n        a = a.substr(1);\n    }\n\n    if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n        b = b.substr(1);\n    }\n\n    return {\n        type: 'AnPlusB',\n        loc: this.getLocation(start, this.tokenStart),\n        a,\n        b\n    };\n}\n\nexport function generate(node) {\n    if (node.a) {\n        const a =\n            node.a === '+1' && 'n' ||\n            node.a ===  '1' && 'n' ||\n            node.a === '-1' && '-n' ||\n            node.a + 'n';\n\n        if (node.b) {\n            const b = node.b[0] === '-' || node.b[0] === '+'\n                ? node.b\n                : '+' + node.b;\n            this.tokenize(a + b);\n        } else {\n            this.tokenize(a);\n        }\n    } else {\n        this.tokenize(node.b);\n    }\n}\n",
    "import {\n    AtKeyword,\n    Semicolon,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from '../../tokenizer/index.js';\n\nfunction consumeRaw() {\n    return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon, true);\n}\n\nfunction isDeclarationBlockAtrule() {\n    for (let offset = 1, type; type = this.lookupType(offset); offset++) {\n        if (type === RightCurlyBracket) {\n            return true;\n        }\n\n        if (type === LeftCurlyBracket ||\n            type === AtKeyword) {\n            return false;\n        }\n    }\n\n    return false;\n}\n\n\nexport const name = 'Atrule';\nexport const walkContext = 'atrule';\nexport const structure = {\n    name: String,\n    prelude: ['AtrulePrelude', 'Raw', null],\n    block: ['Block', null]\n};\n\nexport function parse(isDeclaration = false) {\n    const start = this.tokenStart;\n    let name;\n    let nameLowerCase;\n    let prelude = null;\n    let block = null;\n\n    this.eat(AtKeyword);\n\n    name = this.substrToCursor(start + 1);\n    nameLowerCase = name.toLowerCase();\n    this.skipSC();\n\n    // parse prelude\n    if (this.eof === false &&\n        this.tokenType !== LeftCurlyBracket &&\n        this.tokenType !== Semicolon) {\n        if (this.parseAtrulePrelude) {\n            prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name, isDeclaration), consumeRaw);\n        } else {\n            prelude = consumeRaw.call(this, this.tokenIndex);\n        }\n\n        this.skipSC();\n    }\n\n    switch (this.tokenType) {\n        case Semicolon:\n            this.next();\n            break;\n\n        case LeftCurlyBracket:\n            if (hasOwnProperty.call(this.atrule, nameLowerCase) &&\n                typeof this.atrule[nameLowerCase].block === 'function') {\n                block = this.atrule[nameLowerCase].block.call(this, isDeclaration);\n            } else {\n                // TODO: should consume block content as Raw?\n                block = this.Block(isDeclarationBlockAtrule.call(this));\n            }\n\n            break;\n    }\n\n    return {\n        type: 'Atrule',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        prelude,\n        block\n    };\n}\n\nexport function generate(node) {\n    this.token(AtKeyword, '@' + node.name);\n\n    if (node.prelude !== null) {\n        this.node(node.prelude);\n    }\n\n    if (node.block) {\n        this.node(node.block);\n    } else {\n        this.token(Semicolon, ';');\n    }\n}\n",
    "import {\n    Semicolon,\n    LeftCurlyBracket\n} from '../../tokenizer/index.js';\n\nexport const name = 'AtrulePrelude';\nexport const walkContext = 'atrulePrelude';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse(name) {\n    let children = null;\n\n    if (name !== null) {\n        name = name.toLowerCase();\n    }\n\n    this.skipSC();\n\n    if (hasOwnProperty.call(this.atrule, name) &&\n        typeof this.atrule[name].prelude === 'function') {\n        // custom consumer\n        children = this.atrule[name].prelude.call(this);\n    } else {\n        // default consumer\n        children = this.readSequence(this.scope.AtrulePrelude);\n    }\n\n    this.skipSC();\n\n    if (this.eof !== true &&\n        this.tokenType !== LeftCurlyBracket &&\n        this.tokenType !== Semicolon) {\n        this.error('Semicolon or block is expected');\n    }\n\n    return {\n        type: 'AtrulePrelude',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n",
    "import {\n    Ident,\n    String as StringToken,\n    Delim,\n    LeftSquareBracket,\n    RightSquareBracket\n} from '../../tokenizer/index.js';\n\nconst DOLLARSIGN = 0x0024;       // U+0024 DOLLAR SIGN ($)\nconst ASTERISK = 0x002A;         // U+002A ASTERISK (*)\nconst EQUALSSIGN = 0x003D;       // U+003D EQUALS SIGN (=)\nconst CIRCUMFLEXACCENT = 0x005E; // U+005E (^)\nconst VERTICALLINE = 0x007C;     // U+007C VERTICAL LINE (|)\nconst TILDE = 0x007E;            // U+007E TILDE (~)\n\nfunction getAttributeName() {\n    if (this.eof) {\n        this.error('Unexpected end of input');\n    }\n\n    const start = this.tokenStart;\n    let expectIdent = false;\n\n    if (this.isDelim(ASTERISK)) {\n        expectIdent = true;\n        this.next();\n    } else if (!this.isDelim(VERTICALLINE)) {\n        this.eat(Ident);\n    }\n\n    if (this.isDelim(VERTICALLINE)) {\n        if (this.charCodeAt(this.tokenStart + 1) !== EQUALSSIGN) {\n            this.next();\n            this.eat(Ident);\n        } else if (expectIdent) {\n            this.error('Identifier is expected', this.tokenEnd);\n        }\n    } else if (expectIdent) {\n        this.error('Vertical line is expected');\n    }\n\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(start, this.tokenStart),\n        name: this.substrToCursor(start)\n    };\n}\n\nfunction getOperator() {\n    const start = this.tokenStart;\n    const code = this.charCodeAt(start);\n\n    if (code !== EQUALSSIGN &&        // =\n        code !== TILDE &&             // ~=\n        code !== CIRCUMFLEXACCENT &&  // ^=\n        code !== DOLLARSIGN &&        // $=\n        code !== ASTERISK &&          // *=\n        code !== VERTICALLINE         // |=\n    ) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.next();\n\n    if (code !== EQUALSSIGN) {\n        if (!this.isDelim(EQUALSSIGN)) {\n            this.error('Equal sign is expected');\n        }\n\n        this.next();\n    }\n\n    return this.substrToCursor(start);\n}\n\n// '[' <wq-name> ']'\n// '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'\nexport const name = 'AttributeSelector';\nexport const structure = {\n    name: 'Identifier',\n    matcher: [String, null],\n    value: ['String', 'Identifier', null],\n    flags: [String, null]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    let name;\n    let matcher = null;\n    let value = null;\n    let flags = null;\n\n    this.eat(LeftSquareBracket);\n    this.skipSC();\n\n    name = getAttributeName.call(this);\n    this.skipSC();\n\n    if (this.tokenType !== RightSquareBracket) {\n        // avoid case `[name i]`\n        if (this.tokenType !== Ident) {\n            matcher = getOperator.call(this);\n\n            this.skipSC();\n\n            value = this.tokenType === StringToken\n                ? this.String()\n                : this.Identifier();\n\n            this.skipSC();\n        }\n\n        // attribute flags\n        if (this.tokenType === Ident) {\n            flags = this.consume(Ident);\n\n            this.skipSC();\n        }\n    }\n\n    this.eat(RightSquareBracket);\n\n    return {\n        type: 'AttributeSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        matcher,\n        value,\n        flags\n    };\n}\n\nexport function generate(node) {\n    this.token(Delim, '[');\n    this.node(node.name);\n\n    if (node.matcher !== null) {\n        this.tokenize(node.matcher);\n        this.node(node.value);\n    }\n\n    if (node.flags !== null) {\n        this.token(Ident, node.flags);\n    }\n\n    this.token(Delim, ']');\n}\n",
    "import {\n    WhiteSpace,\n    Comment,\n    Semicolon,\n    AtKeyword,\n    LeftCurlyBracket,\n    RightCurlyBracket\n} from '../../tokenizer/index.js';\n\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\n\nfunction consumeRaw() {\n    return this.Raw(null, true);\n}\nfunction consumeRule() {\n    return this.parseWithFallback(this.Rule, consumeRaw);\n}\nfunction consumeRawDeclaration() {\n    return this.Raw(this.consumeUntilSemicolonIncluded, true);\n}\nfunction consumeDeclaration() {\n    if (this.tokenType === Semicolon) {\n        return consumeRawDeclaration.call(this, this.tokenIndex);\n    }\n\n    const node = this.parseWithFallback(this.Declaration, consumeRawDeclaration);\n\n    if (this.tokenType === Semicolon) {\n        this.next();\n    }\n\n    return node;\n}\n\nexport const name = 'Block';\nexport const walkContext = 'block';\nexport const structure = {\n    children: [[\n        'Atrule',\n        'Rule',\n        'Declaration'\n    ]]\n};\n\nexport function parse(isStyleBlock) {\n    const consumer = isStyleBlock ? consumeDeclaration : consumeRule;\n    const start = this.tokenStart;\n    let children = this.createList();\n\n    this.eat(LeftCurlyBracket);\n\n    scan:\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case RightCurlyBracket:\n                break scan;\n\n            case WhiteSpace:\n            case Comment:\n                this.next();\n                break;\n\n            case AtKeyword:\n                children.push(this.parseWithFallback(this.Atrule.bind(this, isStyleBlock), consumeRaw));\n                break;\n\n            default:\n                if (isStyleBlock && this.isDelim(AMPERSAND))  {\n                    children.push(consumeRule.call(this));\n                } else {\n                    children.push(consumer.call(this));\n                }\n        }\n    }\n\n    if (!this.eof) {\n        this.eat(RightCurlyBracket);\n    }\n\n    return {\n        type: 'Block',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftCurlyBracket, '{');\n    this.children(node, prev => {\n        if (prev.type === 'Declaration') {\n            this.token(Semicolon, ';');\n        }\n    });\n    this.token(RightCurlyBracket, '}');\n}\n",
    "import {\n    Delim,\n    LeftSquareBracket,\n    RightSquareBracket\n} from '../../tokenizer/index.js';\n\nexport const name = 'Brackets';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse(readSequence, recognizer) {\n    const start = this.tokenStart;\n    let children = null;\n\n    this.eat(LeftSquareBracket);\n\n    children = readSequence.call(this, recognizer);\n\n    if (!this.eof) {\n        this.eat(RightSquareBracket);\n    }\n\n    return {\n        type: 'Brackets',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(Delim, '[');\n    this.children(node);\n    this.token(Delim, ']');\n}\n",
    "import { CDC } from '../../tokenizer/index.js';\n\nexport const name = 'CDC';\nexport const structure = [];\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(CDC); // -->\n\n    return {\n        type: 'CDC',\n        loc: this.getLocation(start, this.tokenStart)\n    };\n}\n\nexport function generate() {\n    this.token(CDC, '-->');\n}\n",
    "import { CDO } from '../../tokenizer/index.js';\n\nexport const name = 'CDO';\nexport const structure = [];\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(CDO); // <!--\n\n    return {\n        type: 'CDO',\n        loc: this.getLocation(start, this.tokenStart)\n    };\n}\n\nexport function generate() {\n    this.token(CDO, '<!--');\n}\n",
    "import { Delim, Ident } from '../../tokenizer/index.js';\n\nconst FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// '.' ident\nexport const name = 'ClassSelector';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    this.eatDelim(FULLSTOP);\n\n    return {\n        type: 'ClassSelector',\n        loc: this.getLocation(this.tokenStart - 1, this.tokenEnd),\n        name: this.consume(Ident)\n    };\n}\n\nexport function generate(node) {\n    this.token(Delim, '.');\n    this.token(Ident, node.name);\n}\n",
    "import { WhiteSpace, Delim } from '../../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nconst GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nconst TILDE = 0x007E;           // U+007E TILDE (~)\n\nexport const name = 'Combinator';\nexport const structure = {\n    name: String\n};\n\n// + | > | ~ | /deep/\nexport function parse() {\n    const start = this.tokenStart;\n    let name;\n\n    switch (this.tokenType) {\n        case WhiteSpace:\n            name = ' ';\n            break;\n\n        case Delim:\n            switch (this.charCodeAt(this.tokenStart)) {\n                case GREATERTHANSIGN:\n                case PLUSSIGN:\n                case TILDE:\n                    this.next();\n                    break;\n\n                case SOLIDUS:\n                    this.next();\n                    this.eatIdent('deep');\n                    this.eatDelim(SOLIDUS);\n                    break;\n\n                default:\n                    this.error('Combinator is expected');\n            }\n\n            name = this.substrToCursor(start);\n            break;\n    }\n\n    return {\n        type: 'Combinator',\n        loc: this.getLocation(start, this.tokenStart),\n        name\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.name);\n}\n",
    "import { Comment } from '../../tokenizer/index.js';\n\nconst ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\n\nexport const name = 'Comment';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    let end = this.tokenEnd;\n\n    this.eat(Comment);\n\n    if ((end - start + 2) >= 2 &&\n        this.charCodeAt(end - 2) === ASTERISK &&\n        this.charCodeAt(end - 1) === SOLIDUS) {\n        end -= 2;\n    }\n\n    return {\n        type: 'Comment',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substring(start + 2, end)\n    };\n}\n\nexport function generate(node) {\n    this.token(Comment, '/*' + node.value + '*/');\n}\n",
    "import {\n    WhiteSpace,\n    Comment,\n    Ident,\n    LeftParenthesis,\n    RightParenthesis,\n    Function as FunctionToken,\n    Colon,\n    EOF\n} from '../../tokenizer/index.js';\n\nconst likelyFeatureToken = new Set([Colon, RightParenthesis, EOF]);\n\nexport const name = 'Condition';\nexport const structure = {\n    kind: String,\n    children: [[\n        'Identifier',\n        'Feature',\n        'FeatureFunction',\n        'FeatureRange',\n        'SupportsDeclaration'\n    ]]\n};\n\nfunction featureOrRange(kind) {\n    if (this.lookupTypeNonSC(1) === Ident &&\n        likelyFeatureToken.has(this.lookupTypeNonSC(2))) {\n        return this.Feature(kind);\n    }\n\n    return this.FeatureRange(kind);\n}\n\nconst parentheses = {\n    media: featureOrRange,\n    container: featureOrRange,\n    supports() {\n        return this.SupportsDeclaration();\n    }\n};\n\nexport function parse(kind = 'media') {\n    const children = this.createList();\n\n    scan: while (!this.eof) {\n        switch (this.tokenType) {\n            case Comment:\n            case WhiteSpace:\n                this.next();\n                continue;\n\n            case Ident:\n                children.push(this.Identifier());\n                break;\n\n            case LeftParenthesis: {\n                let term = this.parseWithFallback(\n                    () => parentheses[kind].call(this, kind),\n                    () => null\n                );\n\n                if (!term) {\n                    term = this.parseWithFallback(\n                        () => {\n                            this.eat(LeftParenthesis);\n                            const res = this.Condition(kind);\n                            this.eat(RightParenthesis);\n                            return res;\n                        },\n                        () => {\n                            return this.GeneralEnclosed(kind);\n                        }\n                    );\n                }\n\n                children.push(term);\n                break;\n            }\n\n            case FunctionToken: {\n                let term = this.parseWithFallback(\n                    () => this.FeatureFunction(kind),\n                    () => null\n                );\n\n                if (!term) {\n                    term = this.GeneralEnclosed(kind);\n                }\n\n                children.push(term);\n                break;\n            }\n\n            default:\n                break scan;\n        }\n    }\n\n    if (children.isEmpty) {\n        this.error('Condition is expected');\n    }\n\n    return {\n        type: 'Condition',\n        loc: this.getLocationFromList(children),\n        kind,\n        children\n    };\n}\n\nexport function generate(node) {\n    node.children.forEach(child => {\n        if (child.type === 'Condition') {\n            this.token(LeftParenthesis, '(');\n            this.node(child);\n            this.token(RightParenthesis, ')');\n        } else {\n            this.node(child);\n        }\n    });\n}\n\n",
    "import { isCustomProperty } from '../../utils/names.js';\nimport {\n    Ident,\n    Hash,\n    Colon,\n    Semicolon,\n    Delim,\n    WhiteSpace\n} from '../../tokenizer/index.js';\n\nconst EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\nconst NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nconst DOLLARSIGN = 0x0024;      // U+0024 DOLLAR SIGN ($)\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\nconst ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nconst PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\nfunction consumeValueRaw() {\n    return this.Raw(this.consumeUntilExclamationMarkOrSemicolon, true);\n}\n\nfunction consumeCustomPropertyRaw() {\n    return this.Raw(this.consumeUntilExclamationMarkOrSemicolon, false);\n}\n\nfunction consumeValue() {\n    const startValueToken = this.tokenIndex;\n    const value = this.Value();\n\n    if (value.type !== 'Raw' &&\n        this.eof === false &&\n        this.tokenType !== Semicolon &&\n        this.isDelim(EXCLAMATIONMARK) === false &&\n        this.isBalanceEdge(startValueToken) === false) {\n        this.error();\n    }\n\n    return value;\n}\n\nexport const name = 'Declaration';\nexport const walkContext = 'declaration';\nexport const structure = {\n    important: [Boolean, String],\n    property: String,\n    value: ['Value', 'Raw']\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const startToken = this.tokenIndex;\n    const property = readProperty.call(this);\n    const customProperty = isCustomProperty(property);\n    const parseValue = customProperty ? this.parseCustomProperty : this.parseValue;\n    const consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw;\n    let important = false;\n    let value;\n\n    this.skipSC();\n    this.eat(Colon);\n\n    const valueStart = this.tokenIndex;\n\n    if (!customProperty) {\n        this.skipSC();\n    }\n\n    if (parseValue) {\n        value = this.parseWithFallback(consumeValue, consumeRaw);\n    } else {\n        value = consumeRaw.call(this, this.tokenIndex);\n    }\n\n    if (customProperty && value.type === 'Value' && value.children.isEmpty) {\n        for (let offset = valueStart - this.tokenIndex; offset <= 0; offset++) {\n            if (this.lookupType(offset) === WhiteSpace) {\n                value.children.appendData({\n                    type: 'WhiteSpace',\n                    loc: null,\n                    value: ' '\n                });\n                break;\n            }\n        }\n    }\n\n    if (this.isDelim(EXCLAMATIONMARK)) {\n        important = getImportant.call(this);\n        this.skipSC();\n    }\n\n    // Do not include semicolon to range per spec\n    // https://drafts.csswg.org/css-syntax/#declaration-diagram\n\n    if (this.eof === false &&\n        this.tokenType !== Semicolon &&\n        this.isBalanceEdge(startToken) === false) {\n        this.error();\n    }\n\n    return {\n        type: 'Declaration',\n        loc: this.getLocation(start, this.tokenStart),\n        important,\n        property,\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(Ident, node.property);\n    this.token(Colon, ':');\n    this.node(node.value);\n\n    if (node.important) {\n        this.token(Delim, '!');\n        this.token(Ident, node.important === true ? 'important' : node.important);\n    }\n}\n\nfunction readProperty() {\n    const start = this.tokenStart;\n\n    // hacks\n    if (this.tokenType === Delim) {\n        switch (this.charCodeAt(this.tokenStart)) {\n            case ASTERISK:\n            case DOLLARSIGN:\n            case PLUSSIGN:\n            case NUMBERSIGN:\n            case AMPERSAND:\n                this.next();\n                break;\n\n            // TODO: not sure we should support this hack\n            case SOLIDUS:\n                this.next();\n                if (this.isDelim(SOLIDUS)) {\n                    this.next();\n                }\n                break;\n        }\n    }\n\n    if (this.tokenType === Hash) {\n        this.eat(Hash);\n    } else {\n        this.eat(Ident);\n    }\n\n    return this.substrToCursor(start);\n}\n\n// ! ws* important\nfunction getImportant() {\n    this.eat(Delim);\n    this.skipSC();\n\n    const important = this.consume(Ident);\n\n    // store original value in case it differ from `important`\n    // for better original source restoring and hacks like `!ie` support\n    return important === 'important' ? true : important;\n}\n",
    "import {\n    WhiteSpace,\n    Comment,\n    Semicolon,\n    AtKeyword\n} from '../../tokenizer/index.js';\n\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\n\nfunction consumeRaw() {\n    return this.Raw(this.consumeUntilSemicolonIncluded, true);\n}\n\nexport const name = 'DeclarationList';\nexport const structure = {\n    children: [[\n        'Declaration',\n        'Atrule',\n        'Rule'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    scan:\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case WhiteSpace:\n            case Comment:\n            case Semicolon:\n                this.next();\n                break;\n\n            case AtKeyword:\n                children.push(this.parseWithFallback(this.Atrule.bind(this, true), consumeRaw));\n                break;\n\n            default:\n                if (this.isDelim(AMPERSAND))  {\n                    children.push(this.parseWithFallback(this.Rule, consumeRaw));\n                } else {\n                    children.push(this.parseWithFallback(this.Declaration, consumeRaw));\n                }\n        }\n    }\n\n    return {\n        type: 'DeclarationList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, prev => {\n        if (prev.type === 'Declaration') {\n            this.token(Semicolon, ';');\n        }\n    });\n}\n\n",
    "import { Dimension } from '../../tokenizer/index.js';\n\nexport const name = 'Dimension';\nexport const structure = {\n    value: String,\n    unit: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const value = this.consumeNumber(Dimension);\n\n    return {\n        type: 'Dimension',\n        loc: this.getLocation(start, this.tokenStart),\n        value,\n        unit: this.substring(start + value.length, this.tokenStart)\n    };\n}\n\nexport function generate(node) {\n    this.token(Dimension, node.value + node.unit);\n}\n",
    "import {\n    Ident,\n    Number,\n    Dimension,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis,\n    Colon,\n    Delim\n} from '../../tokenizer/index.js';\n\nconst SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\n\nexport const name = 'Feature';\nexport const structure = {\n    kind: String,\n    name: String,\n    value: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function', null]\n};\n\nexport function parse(kind) {\n    const start = this.tokenStart;\n    let name;\n    let value = null;\n\n    this.eat(LeftParenthesis);\n    this.skipSC();\n\n    name = this.consume(Ident);\n    this.skipSC();\n\n    if (this.tokenType !== RightParenthesis) {\n        this.eat(Colon);\n        this.skipSC();\n\n        switch (this.tokenType) {\n            case Number:\n                if (this.lookupNonWSType(1) === Delim) {\n                    value = this.Ratio();\n                } else {\n                    value = this.Number();\n                }\n\n                break;\n\n            case Dimension:\n                value = this.Dimension();\n                break;\n\n            case Ident:\n                value = this.Identifier();\n                break;\n\n            case FunctionToken:\n                value = this.parseWithFallback(\n                    () => {\n                        const res = this.Function(this.readSequence, this.scope.Value);\n\n                        this.skipSC();\n\n                        if (this.isDelim(SOLIDUS)) {\n                            this.error();\n                        }\n\n                        return res;\n                    },\n                    () => {\n                        return this.Ratio();\n                    }\n                );\n                break;\n\n            default:\n                this.error('Number, dimension, ratio or identifier is expected');\n        }\n\n        this.skipSC();\n    }\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Feature',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        name,\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.token(Ident, node.name);\n\n    if (node.value !== null) {\n        this.token(Colon, ':');\n        this.node(node.value);\n    }\n\n    this.token(RightParenthesis, ')');\n}\n",
    "import {\n    Function as FunctionToken,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'FeatureFunction';\nexport const structure = {\n    kind: String,\n    feature: String,\n    value: ['Declaration', 'Selector']\n};\n\nfunction getFeatureParser(kind, name) {\n    const featuresOfKind = this.features[kind] || {};\n    const parser = featuresOfKind[name];\n\n    if (typeof parser !== 'function') {\n        this.error(`Unknown feature ${name}()`);\n    }\n\n    return parser;\n}\n\nexport function parse(kind = 'unknown') {\n    const start = this.tokenStart;\n    const functionName = this.consumeFunctionName();\n    const valueParser = getFeatureParser.call(this, kind, functionName.toLowerCase());\n\n    this.skipSC();\n\n    const value = this.parseWithFallback(\n        () => {\n            const startValueToken = this.tokenIndex;\n            const value = valueParser.call(this);\n\n            if (this.eof === false &&\n                this.isBalanceEdge(startValueToken) === false) {\n                this.error();\n            }\n\n            return value;\n        },\n        () => this.Raw(null, false)\n    );\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'FeatureFunction',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        feature: functionName,\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(FunctionToken, node.feature + '(');\n    this.node(node.value);\n    this.token(RightParenthesis, ')');\n}\n",
    "import {\n    Ident,\n    Number,\n    Dimension,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nconst LESSTHANSIGN = 0x003C;    // U+003C LESS-THAN SIGN (<)\nconst EQUALSSIGN = 0x003D;      // U+003D EQUALS SIGN (=)\nconst GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\n\nexport const name = 'FeatureRange';\nexport const structure = {\n    kind: String,\n    left: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function'],\n    leftComparison: String,\n    middle: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function'],\n    rightComparison: [String, null],\n    right: ['Identifier', 'Number', 'Dimension', 'Ratio', 'Function', null]\n};\n\nfunction readTerm() {\n    this.skipSC();\n\n    switch (this.tokenType) {\n        case Number:\n            if (this.isDelim(SOLIDUS, this.lookupOffsetNonSC(1))) {\n                return this.Ratio();\n            } else {\n                return this.Number();\n            }\n\n        case Dimension:\n            return this.Dimension();\n\n        case Ident:\n            return this.Identifier();\n\n        case FunctionToken:\n            return this.parseWithFallback(\n                () => {\n                    const res = this.Function(this.readSequence, this.scope.Value);\n\n                    this.skipSC();\n\n                    if (this.isDelim(SOLIDUS)) {\n                        this.error();\n                    }\n\n                    return res;\n                },\n                () => {\n                    return this.Ratio();\n                }\n            );\n\n        default:\n            this.error('Number, dimension, ratio or identifier is expected');\n    }\n}\n\nfunction readComparison(expectColon) {\n    this.skipSC();\n\n    if (this.isDelim(LESSTHANSIGN) ||\n        this.isDelim(GREATERTHANSIGN)) {\n        const value = this.source[this.tokenStart];\n\n        this.next();\n\n        if (this.isDelim(EQUALSSIGN)) {\n            this.next();\n            return value + '=';\n        }\n\n        return value;\n    }\n\n    if (this.isDelim(EQUALSSIGN)) {\n        return '=';\n    }\n\n    this.error(`Expected ${expectColon ? '\":\", ' : ''}\"<\", \">\", \"=\" or \")\"`);\n}\n\nexport function parse(kind = 'unknown') {\n    const start = this.tokenStart;\n\n    this.skipSC();\n    this.eat(LeftParenthesis);\n\n    const left = readTerm.call(this);\n    const leftComparison = readComparison.call(this, left.type === 'Identifier');\n    const middle = readTerm.call(this);\n    let rightComparison = null;\n    let right = null;\n\n    if (this.lookupNonWSType(0) !== RightParenthesis) {\n        rightComparison = readComparison.call(this);\n        right = readTerm.call(this);\n    }\n\n    this.skipSC();\n    this.eat(RightParenthesis);\n\n    return {\n        type: 'FeatureRange',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        left,\n        leftComparison,\n        middle,\n        rightComparison,\n        right\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.node(node.left);\n    this.tokenize(node.leftComparison);\n    this.node(node.middle);\n\n    if (node.right) {\n        this.tokenize(node.rightComparison);\n        this.node(node.right);\n    }\n\n    this.token(RightParenthesis, ')');\n}\n",
    "import {\n    Function as FunctionToken,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\n\nexport const name = 'Function';\nexport const walkContext = 'function';\nexport const structure = {\n    name: String,\n    children: [[]]\n};\n\n// <function-token> <sequence> )\nexport function parse(readSequence, recognizer) {\n    const start = this.tokenStart;\n    const name = this.consumeFunctionName();\n    const nameLowerCase = name.toLowerCase();\n    let children;\n\n    children = recognizer.hasOwnProperty(nameLowerCase)\n        ? recognizer[nameLowerCase].call(this, recognizer)\n        : readSequence.call(this, recognizer);\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Function',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(FunctionToken, node.name + '(');\n    this.children(node);\n    this.token(RightParenthesis, ')');\n}\n",
    "import {\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\n\nexport const name = 'GeneralEnclosed';\nexport const structure = {\n    kind: String,\n    function: [String, null],\n    children: [[]]\n};\n\n// <function-token> <any-value> )\n// ( <any-value> )\nexport function parse(kind) {\n    const start = this.tokenStart;\n    let functionName = null;\n\n    if (this.tokenType === FunctionToken) {\n        functionName = this.consumeFunctionName();\n    } else {\n        this.eat(LeftParenthesis);\n    }\n\n    const children = this.parseWithFallback(\n        () => {\n            const startValueToken = this.tokenIndex;\n            const children = this.readSequence(this.scope.Value);\n\n            if (this.eof === false &&\n                this.isBalanceEdge(startValueToken) === false) {\n                this.error();\n            }\n\n            return children;\n        },\n        () => this.createSingleNodeList(\n            this.Raw(null, false)\n        )\n    );\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'GeneralEnclosed',\n        loc: this.getLocation(start, this.tokenStart),\n        kind,\n        function: functionName,\n        children\n    };\n}\n\nexport function generate(node) {\n    if (node.function) {\n        this.token(FunctionToken, node.function + '(');\n    } else {\n        this.token(LeftParenthesis, '(');\n    }\n\n    this.children(node);\n    this.token(RightParenthesis, ')');\n}\n",
    "import { Hash } from '../../tokenizer/index.js';\n\n// '#' ident\nexport const xxx = 'XXX';\nexport const name = 'Hash';\nexport const structure = {\n    value: String\n};\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(Hash);\n\n    return {\n        type: 'Hash',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substrToCursor(start + 1)\n    };\n}\nexport function generate(node) {\n    this.token(Hash, '#' + node.value);\n}\n\n",
    "import { Ident } from '../../tokenizer/index.js';\n\nexport const name = 'Identifier';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        name: this.consume(Ident)\n    };\n}\n\nexport function generate(node) {\n    this.token(Ident, node.name);\n}\n",
    "import { Hash, Delim } from '../../tokenizer/index.js';\n\nexport const name = 'IdSelector';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    // TODO: check value is an ident\n    this.eat(Hash);\n\n    return {\n        type: 'IdSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name: this.substrToCursor(start + 1)\n    };\n}\n\nexport function generate(node) {\n    // Using Delim instead of Hash is a hack to avoid for a whitespace between ident and id-selector\n    // in safe mode (e.g. \"a#id\"), because IE11 doesn't allow a sequence <ident-token> <hash-token>\n    // without a whitespace in values (e.g. \"1px solid#000\")\n    this.token(Delim, '#' + node.name);\n}\n",
    "import { Ident, Delim } from '../../tokenizer/index.js';\n\nconst FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\nexport const name = 'Layer';\nexport const structure = {\n    name: String\n};\n\nexport function parse() {\n    let tokenStart = this.tokenStart;\n    let name = this.consume(Ident);\n\n    while (this.isDelim(FULLSTOP)) {\n        this.eat(Delim);\n        name += '.' + this.consume(Ident);\n    }\n\n    return {\n        type: 'Layer',\n        loc: this.getLocation(tokenStart, this.tokenStart),\n        name\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.name);\n}\n",
    "import { Comma } from '../../tokenizer/index.js';\n\nexport const name = 'LayerList';\nexport const structure = {\n    children: [[\n        'Layer'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    while (!this.eof) {\n        children.push(this.Layer());\n\n        if (this.lookupTypeNonSC(0) !== Comma) {\n            break;\n        }\n\n        this.skipSC();\n        this.next();\n        this.skipSC();\n    }\n\n    return {\n        type: 'LayerList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, () => this.token(Comma, ','));\n}\n",
    "import {\n    Comma,\n    EOF,\n    Ident,\n    LeftCurlyBracket,\n    LeftParenthesis,\n    Function as FunctionToken,\n    Semicolon\n} from '../../tokenizer/index.js';\n\nexport const name = 'MediaQuery';\nexport const structure = {\n    modifier: [String, null],\n    mediaType: [String, null],\n    condition: ['Condition', null]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    let modifier = null;\n    let mediaType = null;\n    let condition = null;\n\n    this.skipSC();\n\n    if (this.tokenType === Ident && this.lookupTypeNonSC(1) !== LeftParenthesis) {\n        // [ not | only ]? <media-type>\n        const ident = this.consume(Ident);\n        const identLowerCase = ident.toLowerCase();\n\n        if (identLowerCase === 'not' || identLowerCase === 'only') {\n            this.skipSC();\n            modifier = identLowerCase;\n            mediaType = this.consume(Ident);\n        } else {\n            mediaType = ident;\n        }\n\n        switch (this.lookupTypeNonSC(0)) {\n            case Ident: {\n                // and <media-condition-without-or>\n                this.skipSC();\n                this.eatIdent('and');\n                condition = this.Condition('media');\n                break;\n            }\n\n            case LeftCurlyBracket:\n            case Semicolon:\n            case Comma:\n            case EOF:\n                break;\n\n            default:\n                this.error('Identifier or parenthesis is expected');\n        }\n    } else {\n        switch (this.tokenType) {\n            case Ident:\n            case LeftParenthesis:\n            case FunctionToken: {\n                // <media-condition>\n                condition = this.Condition('media');\n                break;\n            }\n\n            case LeftCurlyBracket:\n            case Semicolon:\n            case EOF:\n                break;\n\n            default:\n                this.error('Identifier or parenthesis is expected');\n        }\n    }\n\n    return {\n        type: 'MediaQuery',\n        loc: this.getLocation(start, this.tokenStart),\n        modifier,\n        mediaType,\n        condition\n    };\n}\n\nexport function generate(node) {\n    if (node.mediaType) {\n        if (node.modifier) {\n            this.token(Ident, node.modifier);\n        }\n\n        this.token(Ident, node.mediaType);\n\n        if (node.condition) {\n            this.token(Ident, 'and');\n            this.node(node.condition);\n        }\n    } else if (node.condition) {\n        this.node(node.condition);\n    }\n}\n\n",
    "import { Comma } from '../../tokenizer/index.js';\n\nexport const name = 'MediaQueryList';\nexport const structure = {\n    children: [[\n        'MediaQuery'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    while (!this.eof) {\n        children.push(this.MediaQuery());\n\n        if (this.tokenType !== Comma) {\n            break;\n        }\n\n        this.next();\n    }\n\n    return {\n        type: 'MediaQueryList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, () => this.token(Comma, ','));\n}\n",
    "import { Delim } from '../../tokenizer/index.js';\n\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\n\nexport const name = 'NestingSelector';\nexport const structure = {\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eatDelim(AMPERSAND);\n\n    return {\n        type: 'NestingSelector',\n        loc: this.getLocation(start, this.tokenStart)\n    };\n}\n\nexport function generate() {\n    this.token(Delim, '&');\n}\n",
    "import { Ident } from '../../tokenizer/index.js';\n\nexport const name = 'Nth';\nexport const structure = {\n    nth: ['AnPlusB', 'Identifier'],\n    selector: ['SelectorList', null]\n};\n\nexport function parse() {\n    this.skipSC();\n\n    const start = this.tokenStart;\n    let end = start;\n    let selector = null;\n    let nth;\n\n    if (this.lookupValue(0, 'odd') || this.lookupValue(0, 'even')) {\n        nth = this.Identifier();\n    } else {\n        nth = this.AnPlusB();\n    }\n\n    end = this.tokenStart;\n    this.skipSC();\n\n    if (this.lookupValue(0, 'of')) {\n        this.next();\n\n        selector = this.SelectorList();\n        end = this.tokenStart;\n    }\n\n    return {\n        type: 'Nth',\n        loc: this.getLocation(start, end),\n        nth,\n        selector\n    };\n}\n\nexport function generate(node) {\n    this.node(node.nth);\n    if (node.selector !== null) {\n        this.token(Ident, 'of');\n        this.node(node.selector);\n    }\n}\n",
    "import { Number as NumberToken } from '../../tokenizer/index.js';\n\nexport const name = 'Number';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    return {\n        type: 'Number',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        value: this.consume(NumberToken)\n    };\n}\n\nexport function generate(node) {\n    this.token(NumberToken, node.value);\n}\n",
    "// '/' | '*' | ',' | ':' | '+' | '-'\nexport const name = 'Operator';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.next();\n\n    return {\n        type: 'Operator',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substrToCursor(start)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.value);\n}\n",
    "import {\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'Parentheses';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse(readSequence, recognizer) {\n    const start = this.tokenStart;\n    let children = null;\n\n    this.eat(LeftParenthesis);\n\n    children = readSequence.call(this, recognizer);\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Parentheses',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.children(node);\n    this.token(RightParenthesis, ')');\n}\n",
    "import { Percentage } from '../../tokenizer/index.js';\n\nexport const name = 'Percentage';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    return {\n        type: 'Percentage',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        value: this.consumeNumber(Percentage)\n    };\n}\n\nexport function generate(node) {\n    this.token(Percentage, node.value + '%');\n}\n",
    "import {\n    Ident,\n    Function as FunctionToken,\n    Colon,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\n\nexport const name = 'PseudoClassSelector';\nexport const walkContext = 'function';\nexport const structure = {\n    name: String,\n    children: [['Raw'], null]\n};\n\n// : [ <ident> | <function-token> <any-value>? ) ]\nexport function parse() {\n    const start = this.tokenStart;\n    let children = null;\n    let name;\n    let nameLowerCase;\n\n    this.eat(Colon);\n\n    if (this.tokenType === FunctionToken) {\n        name = this.consumeFunctionName();\n        nameLowerCase = name.toLowerCase();\n\n        if (this.lookupNonWSType(0) == RightParenthesis) {\n            children = this.createList();\n        } else if (hasOwnProperty.call(this.pseudo, nameLowerCase)) {\n            this.skipSC();\n            children = this.pseudo[nameLowerCase].call(this);\n            this.skipSC();\n        } else {\n            children = this.createList();\n            children.push(\n                this.Raw(null, false)\n            );\n        }\n\n        this.eat(RightParenthesis);\n    } else {\n        name = this.consume(Ident);\n    }\n\n    return {\n        type: 'PseudoClassSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(Colon, ':');\n\n    if (node.children === null) {\n        this.token(Ident, node.name);\n    } else {\n        this.token(FunctionToken, node.name + '(');\n        this.children(node);\n        this.token(RightParenthesis, ')');\n    }\n}\n",
    "import {\n    Ident,\n    Function as FunctionToken,\n    Colon,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'PseudoElementSelector';\nexport const walkContext = 'function';\nexport const structure = {\n    name: String,\n    children: [['Raw'], null]\n};\n\n// :: [ <ident> | <function-token> <any-value>? ) ]\nexport function parse() {\n    const start = this.tokenStart;\n    let children = null;\n    let name;\n    let nameLowerCase;\n\n    this.eat(Colon);\n    this.eat(Colon);\n\n    if (this.tokenType === FunctionToken) {\n        name = this.consumeFunctionName();\n        nameLowerCase = name.toLowerCase();\n\n        if (this.lookupNonWSType(0) == RightParenthesis) {\n            children = this.createList();\n        } else if (hasOwnProperty.call(this.pseudo, nameLowerCase)) {\n            this.skipSC();\n            children = this.pseudo[nameLowerCase].call(this);\n            this.skipSC();\n        } else {\n            children = this.createList();\n            children.push(\n                this.Raw(null, false)\n            );\n        }\n\n        this.eat(RightParenthesis);\n    } else {\n        name = this.consume(Ident);\n    }\n\n    return {\n        type: 'PseudoElementSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name,\n        children\n    };\n}\n\nexport function generate(node) {\n    this.token(Colon, ':');\n    this.token(Colon, ':');\n\n    if (node.children === null) {\n        this.token(Ident, node.name);\n    } else {\n        this.token(FunctionToken, node.name + '(');\n        this.children(node);\n        this.token(RightParenthesis, ')');\n    }\n}\n",
    "import {\n    Delim,\n    Number as NumberToken,\n    Function as FunctionToken\n} from '../../tokenizer/index.js';\n\nconst SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\n\n// Media Queries Level 3 defines terms of <ratio> as a positive (not zero or negative)\n// integers (see https://drafts.csswg.org/mediaqueries-3/#values)\n// However, Media Queries Level 4 removes any definition of values\n// (see https://drafts.csswg.org/mediaqueries-4/#values) and refers to\n// CSS Values and Units for detail. In CSS Values and Units Level 4 a <ratio>\n// definition was added (see https://drafts.csswg.org/css-values-4/#ratios) which\n// defines ratio as \"<number [0,∞]> [ / <number [0,∞]> ]?\" and based on it\n// any constrains on terms were removed. Parser also doesn't test numbers\n// in any way to make possible for linting and fixing them by the tools using CSSTree.\n// An additional syntax examination may be applied by a lexer.\nfunction consumeTerm() {\n    this.skipSC();\n\n    switch (this.tokenType) {\n        case NumberToken:\n            return this.Number();\n\n        case FunctionToken:\n            return this.Function(this.readSequence, this.scope.Value);\n\n        default:\n            this.error('Number of function is expected');\n    }\n}\n\nexport const name = 'Ratio';\nexport const structure = {\n    left: ['Number', 'Function'],\n    right: ['Number', 'Function', null]\n};\n\n// <number [0,∞]> [ / <number [0,∞]> ]?\nexport function parse() {\n    const start = this.tokenStart;\n    const left = consumeTerm.call(this);\n    let right = null;\n\n    this.skipSC();\n    if (this.isDelim(SOLIDUS)) {\n        this.eatDelim(SOLIDUS);\n        right = consumeTerm.call(this);\n    }\n\n    return {\n        type: 'Ratio',\n        loc: this.getLocation(start, this.tokenStart),\n        left,\n        right\n    };\n}\n\nexport function generate(node) {\n    this.node(node.left);\n    this.token(Delim, '/');\n    if (node.right) {\n        this.node(node.right);\n    } else {\n        this.node(NumberToken, 1);\n    }\n}\n",
    "import { WhiteSpace } from '../../tokenizer/index.js';\n\nfunction getOffsetExcludeWS() {\n    if (this.tokenIndex > 0) {\n        if (this.lookupType(-1) === WhiteSpace) {\n            return this.tokenIndex > 1\n                ? this.getTokenStart(this.tokenIndex - 1)\n                : this.firstCharOffset;\n        }\n    }\n\n    return this.tokenStart;\n}\n\nexport const name = 'Raw';\nexport const structure = {\n    value: String\n};\n\nexport function parse(consumeUntil, excludeWhiteSpace) {\n    const startOffset = this.getTokenStart(this.tokenIndex);\n    let endOffset;\n\n    this.skipUntilBalanced(this.tokenIndex, consumeUntil || this.consumeUntilBalanceEnd);\n\n    if (excludeWhiteSpace && this.tokenStart > startOffset) {\n        endOffset = getOffsetExcludeWS.call(this);\n    } else {\n        endOffset = this.tokenStart;\n    }\n\n    return {\n        type: 'Raw',\n        loc: this.getLocation(startOffset, endOffset),\n        value: this.substring(startOffset, endOffset)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.value);\n}\n",
    "import { LeftCurlyBracket } from '../../tokenizer/index.js';\n\nfunction consumeRaw() {\n    return this.Raw(this.consumeUntilLeftCurlyBracket, true);\n}\n\nfunction consumePrelude() {\n    const prelude = this.SelectorList();\n\n    if (prelude.type !== 'Raw' &&\n        this.eof === false &&\n        this.tokenType !== LeftCurlyBracket) {\n        this.error();\n    }\n\n    return prelude;\n}\n\nexport const name = 'Rule';\nexport const walkContext = 'rule';\nexport const structure = {\n    prelude: ['SelectorList', 'Raw'],\n    block: ['Block']\n};\n\nexport function parse() {\n    const startToken = this.tokenIndex;\n    const startOffset = this.tokenStart;\n    let prelude;\n    let block;\n\n    if (this.parseRulePrelude) {\n        prelude = this.parseWithFallback(consumePrelude, consumeRaw);\n    } else {\n        prelude = consumeRaw.call(this, startToken);\n    }\n\n    block = this.Block(true);\n\n    return {\n        type: 'Rule',\n        loc: this.getLocation(startOffset, this.tokenStart),\n        prelude,\n        block\n    };\n}\nexport function generate(node) {\n    this.node(node.prelude);\n    this.node(node.block);\n}\n\n",
    "import {\n    Ident,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'Scope';\nexport const structure = {\n    root: ['SelectorList', 'Raw', null],\n    limit: ['SelectorList', 'Raw', null]\n};\n\nexport function parse() {\n    let root = null;\n    let limit = null;\n\n    this.skipSC();\n\n    const startOffset = this.tokenStart;\n    if (this.tokenType === LeftParenthesis) {\n        this.next();\n        this.skipSC();\n        root = this.parseWithFallback(\n            this.SelectorList,\n            () => this.Raw(false, true)\n        );\n        this.skipSC();\n        this.eat(RightParenthesis);\n    }\n\n    if (this.lookupNonWSType(0) === Ident) {\n        this.skipSC();\n        this.eatIdent('to');\n        this.skipSC();\n        this.eat(LeftParenthesis);\n        this.skipSC();\n        limit = this.parseWithFallback(\n            this.SelectorList,\n            () => this.Raw(false, true)\n        );\n        this.skipSC();\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'Scope',\n        loc: this.getLocation(startOffset, this.tokenStart),\n        root,\n        limit\n    };\n}\n\nexport function generate(node) {\n    if (node.root) {\n        this.token(LeftParenthesis, '(');\n        this.node(node.root);\n        this.token(RightParenthesis, ')');\n    }\n\n    if (node.limit) {\n        this.token(Ident, 'to');\n        this.token(LeftParenthesis, '(');\n        this.node(node.limit);\n        this.token(RightParenthesis, ')');\n    }\n}\n",
    "export const name = 'Selector';\nexport const structure = {\n    children: [[\n        'TypeSelector',\n        'IdSelector',\n        'ClassSelector',\n        'AttributeSelector',\n        'PseudoClassSelector',\n        'PseudoElementSelector',\n        'Combinator'\n    ]]\n};\n\nexport function parse() {\n    const children = this.readSequence(this.scope.Selector);\n\n    // nothing were consumed\n    if (this.getFirstListNode(children) === null) {\n        this.error('Selector is expected');\n    }\n\n    return {\n        type: 'Selector',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n",
    "import { Comma } from '../../tokenizer/index.js';\n\nexport const name = 'SelectorList';\nexport const walkContext = 'selector';\nexport const structure = {\n    children: [[\n        'Selector',\n        'Raw'\n    ]]\n};\n\nexport function parse() {\n    const children = this.createList();\n\n    while (!this.eof) {\n        children.push(this.Selector());\n\n        if (this.tokenType === Comma) {\n            this.next();\n            continue;\n        }\n\n        break;\n    }\n\n    return {\n        type: 'SelectorList',\n        loc: this.getLocationFromList(children),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node, () => this.token(Comma, ','));\n}\n",
    "import {\n    isHexDigit,\n    isWhiteSpace,\n    isValidEscape,\n    consumeEscaped,\n    decodeEscaped\n} from '../tokenizer/index.js';\n\nconst REVERSE_SOLIDUS = 0x005c; // U+005C REVERSE SOLIDUS (\\)\nconst QUOTATION_MARK = 0x0022;  // \"\nconst APOSTROPHE = 0x0027;      // '\n\nexport function decode(str) {\n    const len = str.length;\n    const firstChar = str.charCodeAt(0);\n    const start = firstChar === QUOTATION_MARK || firstChar === APOSTROPHE ? 1 : 0;\n    const end = start === 1 && len > 1 && str.charCodeAt(len - 1) === firstChar ? len - 2 : len - 1;\n    let decoded = '';\n\n    for (let i = start; i <= end; i++) {\n        let code = str.charCodeAt(i);\n\n        if (code === REVERSE_SOLIDUS) {\n            // special case at the ending\n            if (i === end) {\n                // if the next input code point is EOF, do nothing\n                // otherwise include last quote as escaped\n                if (i !== len - 1) {\n                    decoded = str.substr(i + 1);\n                }\n                break;\n            }\n\n            code = str.charCodeAt(++i);\n\n            // consume escaped\n            if (isValidEscape(REVERSE_SOLIDUS, code)) {\n                const escapeStart = i - 1;\n                const escapeEnd = consumeEscaped(str, escapeStart);\n\n                i = escapeEnd - 1;\n                decoded += decodeEscaped(str.substring(escapeStart + 1, escapeEnd));\n            } else {\n                // \\r\\n\n                if (code === 0x000d && str.charCodeAt(i + 1) === 0x000a) {\n                    i++;\n                }\n            }\n        } else {\n            decoded += str[i];\n        }\n    }\n\n    return decoded;\n}\n\n// https://drafts.csswg.org/cssom/#serialize-a-string\n// § 2.1. Common Serializing Idioms\nexport function encode(str, apostrophe) {\n    const quote = apostrophe ? '\\'' : '\"';\n    const quoteCode = apostrophe ? APOSTROPHE : QUOTATION_MARK;\n    let encoded = '';\n    let wsBeforeHexIsNeeded = false;\n\n    for (let i = 0; i < str.length; i++) {\n        const code = str.charCodeAt(i);\n\n        // If the character is NULL (U+0000), then the REPLACEMENT CHARACTER (U+FFFD).\n        if (code === 0x0000) {\n            encoded += '\\uFFFD';\n            continue;\n        }\n\n        // If the character is in the range [\\1-\\1f] (U+0001 to U+001F) or is U+007F,\n        // the character escaped as code point.\n        // Note: Do not compare with 0x0001 since 0x0000 is precessed before\n        if (code <= 0x001f || code === 0x007F) {\n            encoded += '\\\\' + code.toString(16);\n            wsBeforeHexIsNeeded = true;\n            continue;\n        }\n\n        // If the character is '\"' (U+0022) or \"\\\" (U+005C), the escaped character.\n        if (code === quoteCode || code === REVERSE_SOLIDUS) {\n            encoded += '\\\\' + str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        } else {\n            if (wsBeforeHexIsNeeded && (isHexDigit(code) || isWhiteSpace(code))) {\n                encoded += ' ';\n            }\n\n            // Otherwise, the character itself.\n            encoded += str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        }\n    }\n\n    return quote + encoded + quote;\n}\n",
    "import { String as StringToken } from '../../tokenizer/index.js';\nimport { decode, encode } from '../../utils/string.js';\n\nexport const name = 'String';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    return {\n        type: 'String',\n        loc: this.getLocation(this.tokenStart, this.tokenEnd),\n        value: decode(this.consume(StringToken))\n    };\n}\n\nexport function generate(node) {\n    this.token(StringToken, encode(node.value));\n}\n",
    "import {\n    WhiteSpace,\n    Comment,\n    AtKeyword,\n    CDO,\n    CDC\n} from '../../tokenizer/index.js';\n\nconst EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction consumeRaw() {\n    return this.Raw(null, false);\n}\n\nexport const name = 'StyleSheet';\nexport const walkContext = 'stylesheet';\nexport const structure = {\n    children: [[\n        'Comment',\n        'CDO',\n        'CDC',\n        'Atrule',\n        'Rule',\n        'Raw'\n    ]]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const children = this.createList();\n    let child;\n\n    scan:\n    while (!this.eof) {\n        switch (this.tokenType) {\n            case WhiteSpace:\n                this.next();\n                continue;\n\n            case Comment:\n                // ignore comments except exclamation comments (i.e. /*! .. */) on top level\n                if (this.charCodeAt(this.tokenStart + 2) !== EXCLAMATIONMARK) {\n                    this.next();\n                    continue;\n                }\n\n                child = this.Comment();\n                break;\n\n            case CDO: // <!--\n                child = this.CDO();\n                break;\n\n            case CDC: // -->\n                child = this.CDC();\n                break;\n\n            // CSS Syntax Module Level 3\n            // §2.2 Error handling\n            // At the \"top level\" of a stylesheet, an <at-keyword-token> starts an at-rule.\n            case AtKeyword:\n                child = this.parseWithFallback(this.Atrule, consumeRaw);\n                break;\n\n            // Anything else starts a qualified rule ...\n            default:\n                child = this.parseWithFallback(this.Rule, consumeRaw);\n        }\n\n        children.push(child);\n    }\n\n    return {\n        type: 'StyleSheet',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n",
    "import {\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'SupportsDeclaration';\nexport const structure = {\n    declaration: 'Declaration'\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    this.eat(LeftParenthesis);\n    this.skipSC();\n\n    const declaration = this.Declaration();\n\n    if (!this.eof) {\n        this.eat(RightParenthesis);\n    }\n\n    return {\n        type: 'SupportsDeclaration',\n        loc: this.getLocation(start, this.tokenStart),\n        declaration\n    };\n}\n\nexport function generate(node) {\n    this.token(LeftParenthesis, '(');\n    this.node(node.declaration);\n    this.token(RightParenthesis, ')');\n}\n",
    "import { Ident } from '../../tokenizer/index.js';\n\nconst ASTERISK = 0x002A;     // U+002A ASTERISK (*)\nconst VERTICALLINE = 0x007C; // U+007C VERTICAL LINE (|)\n\nfunction eatIdentifierOrAsterisk() {\n    if (this.tokenType !== Ident &&\n        this.isDelim(ASTERISK) === false) {\n        this.error('Identifier or asterisk is expected');\n    }\n\n    this.next();\n}\n\nexport const name = 'TypeSelector';\nexport const structure = {\n    name: String\n};\n\n// ident\n// ident|ident\n// ident|*\n// *\n// *|ident\n// *|*\n// |ident\n// |*\nexport function parse() {\n    const start = this.tokenStart;\n\n    if (this.isDelim(VERTICALLINE)) {\n        this.next();\n        eatIdentifierOrAsterisk.call(this);\n    } else {\n        eatIdentifierOrAsterisk.call(this);\n\n        if (this.isDelim(VERTICALLINE)) {\n            this.next();\n            eatIdentifierOrAsterisk.call(this);\n        }\n    }\n\n    return {\n        type: 'TypeSelector',\n        loc: this.getLocation(start, this.tokenStart),\n        name: this.substrToCursor(start)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.name);\n}\n",
    "import {\n    isHexDigit,\n    Ident,\n    Number,\n    Dimension\n} from '../../tokenizer/index.js';\n\nconst PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nconst QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\n\nfunction eatHexSequence(offset, allowDash) {\n    let len = 0;\n\n    for (let pos = this.tokenStart + offset; pos < this.tokenEnd; pos++) {\n        const code = this.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && len !== 0) {\n            eatHexSequence.call(this, offset + len + 1, false);\n            return -1;\n        }\n\n        if (!isHexDigit(code)) {\n            this.error(\n                allowDash && len !== 0\n                    ? 'Hyphen minus' + (len < 6 ? ' or hex digit' : '') + ' is expected'\n                    : (len < 6 ? 'Hex digit is expected' : 'Unexpected input'),\n                pos\n            );\n        }\n\n        if (++len > 6) {\n            this.error('Too many hex digits', pos);\n        };\n    }\n\n    this.next();\n    return len;\n}\n\nfunction eatQuestionMarkSequence(max) {\n    let count = 0;\n\n    while (this.isDelim(QUESTIONMARK)) {\n        if (++count > max) {\n            this.error('Too many question marks');\n        }\n\n        this.next();\n    }\n}\n\nfunction startsWith(code) {\n    if (this.charCodeAt(this.tokenStart) !== code) {\n        this.error((code === PLUSSIGN ? 'Plus sign' : 'Hyphen minus') + ' is expected');\n    }\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nfunction scanUnicodeRange() {\n    let hexLength = 0;\n\n    switch (this.tokenType) {\n        case Number:\n            // u <number-token> '?'*\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            hexLength = eatHexSequence.call(this, 1, true);\n\n            if (this.isDelim(QUESTIONMARK)) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n                break;\n            }\n\n            if (this.tokenType === Dimension ||\n                this.tokenType === Number) {\n                startsWith.call(this, HYPHENMINUS);\n                eatHexSequence.call(this, 1, false);\n                break;\n            }\n\n            break;\n\n        case Dimension:\n            // u <dimension-token> '?'*\n            hexLength = eatHexSequence.call(this, 1, true);\n\n            if (hexLength > 0) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n            }\n\n            break;\n\n        default:\n            // u '+' <ident-token> '?'*\n            // u '+' '?'+\n            this.eatDelim(PLUSSIGN);\n\n            if (this.tokenType === Ident) {\n                hexLength = eatHexSequence.call(this, 0, true);\n                if (hexLength > 0) {\n                    eatQuestionMarkSequence.call(this, 6 - hexLength);\n                }\n                break;\n            }\n\n            if (this.isDelim(QUESTIONMARK)) {\n                this.next();\n                eatQuestionMarkSequence.call(this, 5);\n                break;\n            }\n\n            this.error('Hex digit or question mark is expected');\n    }\n}\n\nexport const name = 'UnicodeRange';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n\n    // U or u\n    this.eatIdent('u');\n    scanUnicodeRange.call(this);\n\n    return {\n        type: 'UnicodeRange',\n        loc: this.getLocation(start, this.tokenStart),\n        value: this.substrToCursor(start)\n    };\n}\n\nexport function generate(node) {\n    this.tokenize(node.value);\n}\n",
    "import {\n    isHexDigit,\n    isWhiteSpace,\n    isValidEscape,\n    consumeEscaped,\n    decodeEscaped\n} from '../tokenizer/index.js';\n\nconst SPACE = 0x0020;            // U+0020 SPACE\nconst REVERSE_SOLIDUS = 0x005c;  // U+005C REVERSE SOLIDUS (\\)\nconst QUOTATION_MARK = 0x0022;   // \"\nconst APOSTROPHE = 0x0027;       // '\nconst LEFTPARENTHESIS = 0x0028;  // U+0028 LEFT PARENTHESIS (()\nconst RIGHTPARENTHESIS = 0x0029; // U+0029 RIGHT PARENTHESIS ())\n\nexport function decode(str) {\n    const len = str.length;\n    let start = 4; // length of \"url(\"\n    let end = str.charCodeAt(len - 1) === RIGHTPARENTHESIS ? len - 2 : len - 1;\n    let decoded = '';\n\n    while (start < end && isWhiteSpace(str.charCodeAt(start))) {\n        start++;\n    }\n\n    while (start < end && isWhiteSpace(str.charCodeAt(end))) {\n        end--;\n    }\n\n    for (let i = start; i <= end; i++) {\n        let code = str.charCodeAt(i);\n\n        if (code === REVERSE_SOLIDUS) {\n            // special case at the ending\n            if (i === end) {\n                // if the next input code point is EOF, do nothing\n                // otherwise include last left parenthesis as escaped\n                if (i !== len - 1) {\n                    decoded = str.substr(i + 1);\n                }\n                break;\n            }\n\n            code = str.charCodeAt(++i);\n\n            // consume escaped\n            if (isValidEscape(REVERSE_SOLIDUS, code)) {\n                const escapeStart = i - 1;\n                const escapeEnd = consumeEscaped(str, escapeStart);\n\n                i = escapeEnd - 1;\n                decoded += decodeEscaped(str.substring(escapeStart + 1, escapeEnd));\n            } else {\n                // \\r\\n\n                if (code === 0x000d && str.charCodeAt(i + 1) === 0x000a) {\n                    i++;\n                }\n            }\n        } else {\n            decoded += str[i];\n        }\n    }\n\n    return decoded;\n}\n\nexport function encode(str) {\n    let encoded = '';\n    let wsBeforeHexIsNeeded = false;\n\n    for (let i = 0; i < str.length; i++) {\n        const code = str.charCodeAt(i);\n\n        // If the character is NULL (U+0000), then the REPLACEMENT CHARACTER (U+FFFD).\n        if (code === 0x0000) {\n            encoded += '\\uFFFD';\n            continue;\n        }\n\n        // If the character is in the range [\\1-\\1f] (U+0001 to U+001F) or is U+007F,\n        // the character escaped as code point.\n        // Note: Do not compare with 0x0001 since 0x0000 is precessed before\n        if (code <= 0x001f || code === 0x007F) {\n            encoded += '\\\\' + code.toString(16);\n            wsBeforeHexIsNeeded = true;\n            continue;\n        }\n\n        if (code === SPACE ||\n            code === REVERSE_SOLIDUS ||\n            code === QUOTATION_MARK ||\n            code === APOSTROPHE ||\n            code === LEFTPARENTHESIS ||\n            code === RIGHTPARENTHESIS) {\n            encoded += '\\\\' + str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        } else {\n            if (wsBeforeHexIsNeeded && isHexDigit(code)) {\n                encoded += ' ';\n            }\n\n            encoded += str.charAt(i);\n            wsBeforeHexIsNeeded = false;\n        }\n    }\n\n    return 'url(' + encoded + ')';\n}\n",
    "import * as url from '../../utils/url.js';\nimport * as string from '../../utils/string.js';\nimport {\n    Function as FunctionToken,\n    String as StringToken,\n    Url,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nexport const name = 'Url';\nexport const structure = {\n    value: String\n};\n\n// <url-token> | <function-token> <string> )\nexport function parse() {\n    const start = this.tokenStart;\n    let value;\n\n    switch (this.tokenType) {\n        case Url:\n            value = url.decode(this.consume(Url));\n            break;\n\n        case FunctionToken:\n            if (!this.cmpStr(this.tokenStart, this.tokenEnd, 'url(')) {\n                this.error('Function name must be `url`');\n            }\n\n            this.eat(FunctionToken);\n            this.skipSC();\n            value = string.decode(this.consume(StringToken));\n            this.skipSC();\n            if (!this.eof) {\n                this.eat(RightParenthesis);\n            }\n            break;\n\n        default:\n            this.error('Url or Function is expected');\n    }\n\n    return {\n        type: 'Url',\n        loc: this.getLocation(start, this.tokenStart),\n        value\n    };\n}\n\nexport function generate(node) {\n    this.token(Url, url.encode(node.value));\n}\n",
    "export const name = 'Value';\nexport const structure = {\n    children: [[]]\n};\n\nexport function parse() {\n    const start = this.tokenStart;\n    const children = this.readSequence(this.scope.Value);\n\n    return {\n        type: 'Value',\n        loc: this.getLocation(start, this.tokenStart),\n        children\n    };\n}\n\nexport function generate(node) {\n    this.children(node);\n}\n",
    "import { WhiteSpace } from '../../tokenizer/index.js';\n\nconst SPACE = Object.freeze({\n    type: 'WhiteSpace',\n    loc: null,\n    value: ' '\n});\n\nexport const name = 'WhiteSpace';\nexport const structure = {\n    value: String\n};\n\nexport function parse() {\n    this.eat(WhiteSpace);\n    return SPACE;\n\n    // return {\n    //     type: 'WhiteSpace',\n    //     loc: this.getLocation(this.tokenStart, this.tokenEnd),\n    //     value: this.consume(WHITESPACE)\n    // };\n}\n\nexport function generate(node) {\n    this.token(WhiteSpace, node.value);\n}\n",
    "import { cssWideKeywords } from '../../lexer/generic-const.js';\nimport definitions from '../../data.js';\nimport * as node from '../node/index.js';\n\nexport default {\n    generic: true,\n    cssWideKeywords,\n    ...definitions,\n    node\n};\n",
    "import {\n    Ident,\n    String as StringToken,\n    Number as NumberToken,\n    Function as FunctionToken,\n    Url,\n    Hash,\n    Dimension,\n    Percentage,\n    LeftParenthesis,\n    LeftSquareBracket,\n    Comma,\n    Delim\n} from '../../tokenizer/index.js';\n\nconst NUMBERSIGN = 0x0023;  // U+0023 NUMBER SIGN (#)\nconst ASTERISK = 0x002A;    // U+002A ASTERISK (*)\nconst PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nconst HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nconst SOLIDUS = 0x002F;     // U+002F SOLIDUS (/)\nconst U = 0x0075;           // U+0075 LATIN SMALL LETTER U (u)\n\nexport default function defaultRecognizer(context) {\n    switch (this.tokenType) {\n        case Hash:\n            return this.Hash();\n\n        case Comma:\n            return this.Operator();\n\n        case LeftParenthesis:\n            return this.Parentheses(this.readSequence, context.recognizer);\n\n        case LeftSquareBracket:\n            return this.Brackets(this.readSequence, context.recognizer);\n\n        case StringToken:\n            return this.String();\n\n        case Dimension:\n            return this.Dimension();\n\n        case Percentage:\n            return this.Percentage();\n\n        case NumberToken:\n            return this.Number();\n\n        case FunctionToken:\n            return this.cmpStr(this.tokenStart, this.tokenEnd, 'url(')\n                ? this.Url()\n                : this.Function(this.readSequence, context.recognizer);\n\n        case Url:\n            return this.Url();\n\n        case Ident:\n            // check for unicode range, it should start with u+ or U+\n            if (this.cmpChar(this.tokenStart, U) &&\n                this.cmpChar(this.tokenStart + 1, PLUSSIGN)) {\n                return this.UnicodeRange();\n            } else {\n                return this.Identifier();\n            }\n\n        case Delim: {\n            const code = this.charCodeAt(this.tokenStart);\n\n            if (code === SOLIDUS ||\n                code === ASTERISK ||\n                code === PLUSSIGN ||\n                code === HYPHENMINUS) {\n                return this.Operator(); // TODO: replace with Delim\n            }\n\n            // TODO: produce a node with Delim node type\n\n            if (code === NUMBERSIGN) {\n                this.error('Hex or identifier is expected', this.tokenStart + 1);\n            }\n\n            break;\n        }\n    }\n};\n",
    "import getNode from './default.js';\n\nexport default {\n    getNode\n};\n",
    "import {\n    Delim,\n    Ident,\n    Dimension,\n    Percentage,\n    Number as NumberToken,\n    Hash,\n    Colon,\n    LeftSquareBracket\n} from '../../tokenizer/index.js';\n\nconst NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nconst AMPERSAND = 0x0026;       // U+0026 AMPERSAND (&)\nconst ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nconst PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nconst SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nconst FULLSTOP = 0x002E;        // U+002E FULL STOP (.)\nconst GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nconst VERTICALLINE = 0x007C;    // U+007C VERTICAL LINE (|)\nconst TILDE = 0x007E;           // U+007E TILDE (~)\n\nfunction onWhiteSpace(next, children) {\n    if (children.last !== null && children.last.type !== 'Combinator' &&\n        next !== null && next.type !== 'Combinator') {\n        children.push({  // FIXME: this.Combinator() should be used instead\n            type: 'Combinator',\n            loc: null,\n            name: ' '\n        });\n    }\n}\n\nfunction getNode() {\n    switch (this.tokenType) {\n        case LeftSquareBracket:\n            return this.AttributeSelector();\n\n        case Hash:\n            return this.IdSelector();\n\n        case Colon:\n            if (this.lookupType(1) === Colon) {\n                return this.PseudoElementSelector();\n            } else {\n                return this.PseudoClassSelector();\n            }\n\n        case Ident:\n            return this.TypeSelector();\n\n        case NumberToken:\n        case Percentage:\n            return this.Percentage();\n\n        case Dimension:\n            // throws when .123ident\n            if (this.charCodeAt(this.tokenStart) === FULLSTOP) {\n                this.error('Identifier is expected', this.tokenStart + 1);\n            }\n            break;\n\n        case Delim: {\n            const code = this.charCodeAt(this.tokenStart);\n\n            switch (code) {\n                case PLUSSIGN:\n                case GREATERTHANSIGN:\n                case TILDE:\n                case SOLIDUS:  // /deep/\n                    return this.Combinator();\n\n                case FULLSTOP:\n                    return this.ClassSelector();\n\n                case ASTERISK:\n                case VERTICALLINE:\n                    return this.TypeSelector();\n\n                case NUMBERSIGN:\n                    return this.IdSelector();\n\n                case AMPERSAND:\n                    return this.NestingSelector();\n            }\n\n            break;\n        }\n    }\n};\n\nexport default {\n    onWhiteSpace,\n    getNode\n};\n",
    "// legacy IE function\n// expression( <any-value> )\nexport default function() {\n    return this.createSingleNodeList(\n        this.Raw(null, false)\n    );\n}\n",
    "import { Comma, WhiteSpace } from '../../tokenizer/index.js';\n\n// var( <ident> , <value>? )\nexport default function() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    // NOTE: Don't check more than a first argument is an ident, rest checks are for lexer\n    children.push(this.Identifier());\n\n    this.skipSC();\n\n    if (this.tokenType === Comma) {\n        children.push(this.Operator());\n\n        const startIndex = this.tokenIndex;\n        const value = this.parseCustomProperty\n            ? this.Value(null)\n            : this.Raw(this.consumeUntilExclamationMarkOrSemicolon, false);\n\n        if (value.type === 'Value' && value.children.isEmpty) {\n            for (let offset = startIndex - this.tokenIndex; offset <= 0; offset++) {\n                if (this.lookupType(offset) === WhiteSpace) {\n                    value.children.appendData({\n                        type: 'WhiteSpace',\n                        loc: null,\n                        value: ' '\n                    });\n                    break;\n                }\n            }\n        }\n\n        children.push(value);\n    }\n\n    return children;\n};\n",
    "import getNode from './default.js';\nimport expressionFn from '../function/expression.js';\nimport varFn from '../function/var.js';\n\nfunction isPlusMinusOperator(node) {\n    return (\n        node !== null &&\n        node.type === 'Operator' &&\n        (node.value[node.value.length - 1] === '-' || node.value[node.value.length - 1] === '+')\n    );\n}\n\nexport default {\n    getNode,\n    onWhiteSpace(next, children) {\n        if (isPlusMinusOperator(next)) {\n            next.value = ' ' + next.value;\n        }\n        if (isPlusMinusOperator(children.last)) {\n            children.last.value += ' ';\n        }\n    },\n    'expression': expressionFn,\n    'var': varFn\n};\n",
    "import { Ident } from '../../tokenizer/index.js';\n\n// https://drafts.csswg.org/css-contain-3/#container-rule\n// The keywords `none`, `and`, `not`, and `or` are excluded from the <custom-ident> above.\nconst nonContainerNameKeywords = new Set(['none', 'and', 'not', 'or']);\n\nexport default {\n    parse: {\n        prelude() {\n            const children = this.createList();\n\n            if (this.tokenType === Ident) {\n                const name = this.substring(this.tokenStart, this.tokenEnd);\n\n                if (!nonContainerNameKeywords.has(name.toLowerCase())) {\n                    children.push(this.Identifier());\n                }\n            }\n\n            children.push(this.Condition('container'));\n\n            return children;\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude: null,\n        block() {\n            return this.Block(true);\n        }\n    }\n};\n",
    "import {\n    String as StringToken,\n    Ident,\n    Url,\n    Function as FunctionToken,\n    LeftParenthesis,\n    RightParenthesis\n} from '../../tokenizer/index.js';\n\nfunction parseWithFallback(parse, fallback) {\n    return this.parseWithFallback(\n        () => {\n            try {\n                return parse.call(this);\n            } finally {\n                this.skipSC();\n                if (this.lookupNonWSType(0) !== RightParenthesis) {\n                    this.error();\n                }\n            }\n        },\n        fallback || (() => this.Raw(null, true))\n    );\n}\n\nconst parseFunctions = {\n    layer() {\n        this.skipSC();\n\n        const children = this.createList();\n        const node = parseWithFallback.call(this, this.Layer);\n\n        if (node.type !== 'Raw' || node.value !== '') {\n            children.push(node);\n        }\n\n        return children;\n    },\n    supports() {\n        this.skipSC();\n\n        const children = this.createList();\n        const node = parseWithFallback.call(\n            this,\n            this.Declaration,\n            () => parseWithFallback.call(this, () => this.Condition('supports'))\n        );\n\n        if (node.type !== 'Raw' || node.value !== '') {\n            children.push(node);\n        }\n\n        return children;\n    }\n};\n\nexport default {\n    parse: {\n        prelude() {\n            const children = this.createList();\n\n            switch (this.tokenType) {\n                case StringToken:\n                    children.push(this.String());\n                    break;\n\n                case Url:\n                case FunctionToken:\n                    children.push(this.Url());\n                    break;\n\n                default:\n                    this.error('String or url() is expected');\n            }\n\n            this.skipSC();\n\n            if (this.tokenType === Ident &&\n                this.cmpStr(this.tokenStart, this.tokenEnd, 'layer')) {\n                children.push(this.Identifier());\n            } else if (\n                this.tokenType === FunctionToken &&\n                this.cmpStr(this.tokenStart, this.tokenEnd, 'layer(')\n            ) {\n                children.push(this.Function(null, parseFunctions));\n            }\n\n            this.skipSC();\n\n            if (this.tokenType === FunctionToken &&\n                this.cmpStr(this.tokenStart, this.tokenEnd, 'supports(')) {\n                children.push(this.Function(null, parseFunctions));\n            }\n\n            if (this.lookupNonWSType(0) === Ident ||\n                this.lookupNonWSType(0) === LeftParenthesis) {\n                children.push(this.MediaQueryList());\n            }\n\n            return children;\n        },\n        block: null\n    }\n};\n",
    "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.LayerList()\n            );\n        },\n        block() {\n            return this.Block(false);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.MediaQueryList()\n            );\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block() {\n            return this.Block(true);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block() {\n            return this.Block(true);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.Scope()\n            );\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude: null,\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n",
    "export default {\n    parse: {\n        prelude() {\n            return this.createSingleNodeList(\n                this.Condition('supports')\n            );\n        },\n        block(nested = false) {\n            return this.Block(nested);\n        }\n    }\n};\n",
    "import container from './container.js';\nimport fontFace from './font-face.js';\nimport importAtrule from './import.js';\nimport layer from './layer.js';\nimport media from './media.js';\nimport nest from './nest.js';\nimport page from './page.js';\nimport scope from './scope.js';\nimport startingStyle from './starting-style.js';\nimport supports from './supports.js';\n\nexport default {\n    container,\n    'font-face': fontFace,\n    import: importAtrule,\n    layer,\n    media,\n    nest,\n    page,\n    scope,\n    'starting-style': startingStyle,\n    supports\n};\n",
    "import { Comma, String as StringToken, Ident, RightParenthesis } from '../../tokenizer/index.js';\n\nexport function parseLanguageRangeList() {\n    const children = this.createList();\n\n    this.skipSC();\n\n    loop: while (!this.eof) {\n        switch (this.tokenType) {\n            case Ident:\n                children.push(this.Identifier());\n                break;\n\n            case StringToken:\n                children.push(this.String());\n                break;\n\n            case Comma:\n                children.push(this.Operator());\n                break;\n\n            case RightParenthesis:\n                break loop;\n\n            default:\n                this.error('Identifier, string or comma is expected');\n        }\n\n        this.skipSC();\n    }\n\n    return children;\n}\n",
    "import { parseLanguageRangeList } from './lang.js';\n\nconst selectorList = {\n    parse() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n\nconst selector = {\n    parse() {\n        return this.createSingleNodeList(\n            this.Selector()\n        );\n    }\n};\n\nconst identList = {\n    parse() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n\nconst langList = {\n    parse: parseLanguageRangeList\n};\n\nconst nth = {\n    parse() {\n        return this.createSingleNodeList(\n            this.Nth()\n        );\n    }\n};\n\nexport default {\n    'dir': identList,\n    'has': selectorList,\n    'lang': langList,\n    'matches': selectorList,\n    'is': selectorList,\n    '-moz-any': selectorList,\n    '-webkit-any': selectorList,\n    'where': selectorList,\n    'not': selectorList,\n    'nth-child': nth,\n    'nth-last-child': nth,\n    'nth-last-of-type': nth,\n    'nth-of-type': nth,\n    'slotted': selector,\n    'host': selector,\n    'host-context': selector\n};\n",
    "import * as scope from '../scope/index.js';\nimport atrule from '../atrule/index.js';\nimport pseudo from '../pseudo/index.js';\nimport * as node from '../node/index-parse.js';\n\nexport default {\n    parseContext: {\n        default: 'StyleSheet',\n        stylesheet: 'StyleSheet',\n        atrule: 'Atrule',\n        atrulePrelude(options) {\n            return this.AtrulePrelude(options.atrule ? String(options.atrule) : null);\n        },\n        mediaQueryList: 'MediaQueryList',\n        mediaQuery: 'MediaQuery',\n        condition(options) {\n            return this.Condition(options.kind);\n        },\n        rule: 'Rule',\n        selectorList: 'SelectorList',\n        selector: 'Selector',\n        block() {\n            return this.Block(true);\n        },\n        declarationList: 'DeclarationList',\n        declaration: 'Declaration',\n        value: 'Value'\n    },\n    features: {\n        supports: {\n            selector() {\n                return this.Selector();\n            }\n        },\n        container: {\n            style() {\n                return this.Declaration();\n            }\n        }\n    },\n    scope,\n    atrule,\n    pseudo,\n    node\n};\n",
    "import * as node from '../node/index.js';\n\nexport default {\n    node\n};\n",
    "import createSyntax from './create.js';\nimport lexerConfig from './config/lexer.js';\nimport parserConfig from './config/parser.js';\nimport walkerConfig from './config/walker.js';\n\nexport default createSyntax({\n    ...lexerConfig,\n    ...parserConfig,\n    ...walkerConfig\n});\n",
    "import syntax from './syntax/index.js';\n\nexport * from './version.js';\nexport { default as createSyntax } from './syntax/create.js';\nexport { List } from './utils/List.js';\nexport { Lexer } from './lexer/Lexer.js';\nexport { tokenTypes, tokenNames, TokenStream, OffsetToLocation } from './tokenizer/index.js';\nexport * as definitionSyntax from './definition-syntax/index.js';\nexport { clone } from './utils/clone.js';\nexport * from './utils/names.js';\nexport * as ident from './utils/ident.js';\nexport * as string from './utils/string.js';\nexport * as url from './utils/url.js';\nexport const {\n    tokenize,\n    parse,\n    generate,\n    lexer,\n    createLexer,\n\n    walk,\n    find,\n    findLast,\n    findAll,\n\n    toPlainObject,\n    fromPlainObject,\n\n    fork\n} = syntax;\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { StyleChange } from '@onlook/models';\nimport { generate, parse, walk, type CssNode, type Declaration, type Raw, type Rule, type SelectorList } from 'css-tree';\nimport { getDomIdSelector } from '../../helpers';\n\nclass CSSManager {\n    private static instance: CSSManager;\n    private constructor() { }\n\n    public injectDefaultStyles() {\n        try {\n            const styleElement = document.createElement('style');\n            styleElement.id = EditorAttributes.ONLOOK_STYLESHEET_ID;\n            styleElement.textContent = `\n            [${EditorAttributes.DATA_ONLOOK_EDITING_TEXT}=\"true\"] {\n                opacity: 0;\n            }\n        `;\n            document.head.appendChild(styleElement);\n        } catch (error) {\n            console.warn('Error injecting default styles', error);\n        }\n    }\n\n    public static getInstance(): CSSManager {\n        if (!CSSManager.instance) {\n            CSSManager.instance = new CSSManager();\n        }\n        return CSSManager.instance;\n    }\n\n    private get stylesheet(): CssNode {\n        const styleElement: HTMLStyleElement = (document.getElementById(\n            EditorAttributes.ONLOOK_STYLESHEET_ID,\n        ) || this.createStylesheet()) as HTMLStyleElement;\n        styleElement.textContent = styleElement.textContent || '';\n        return parse(styleElement.textContent);\n    }\n\n    private set stylesheet(ast: CssNode) {\n        const styleElement: HTMLStyleElement = (document.getElementById(\n            EditorAttributes.ONLOOK_STYLESHEET_ID,\n        ) || this.createStylesheet()) as HTMLStyleElement;\n        styleElement.textContent = generate(ast);\n    }\n\n    private createStylesheet(): HTMLStyleElement {\n        const styleElement = document.createElement('style');\n        styleElement.id = EditorAttributes.ONLOOK_STYLESHEET_ID;\n        document.head.appendChild(styleElement);\n        return styleElement;\n    }\n\n    find(ast: CssNode, selectorToFind: string) {\n        const matchingNodes: CssNode[] = [];\n        walk(ast, {\n            visit: 'Rule',\n            enter: (node: CssNode) => {\n                if (node.type === 'Rule') {\n                    const rule = node as Rule;\n                    if (rule.prelude.type === 'SelectorList') {\n                        (rule.prelude as SelectorList).children.forEach((selector) => {\n                            const selectorText = generate(selector);\n                            if (selectorText === selectorToFind) {\n                                matchingNodes.push(node);\n                            }\n                        });\n                    }\n                }\n            },\n        });\n        return matchingNodes;\n    }\n\n    public updateStyle(domId: string, style: Record<string, StyleChange>) {\n        const selector = getDomIdSelector(domId, false);\n        const ast = this.stylesheet;\n        for (const [property, value] of Object.entries(style)) {\n            const cssProperty = this.jsToCssProperty(property);\n            const matchingNodes = this.find(ast, selector);\n            if (!matchingNodes.length) {\n                this.addRule(ast, selector, cssProperty, value.value);\n            } else {\n                matchingNodes.forEach((node) => {\n                    if (node.type === 'Rule') {\n                        this.updateRule(node, cssProperty, value.value);\n                    }\n                });\n            }\n        }\n        this.stylesheet = ast;\n    }\n\n    addRule(ast: CssNode, selector: string, property: string, value: string) {\n        const newRule: Rule = {\n            type: 'Rule',\n            prelude: {\n                type: 'SelectorList',\n                children: [\n                    {\n                        type: 'Selector',\n                        children: [\n                            {\n                                type: 'TypeSelector',\n                                name: selector,\n                            },\n                        ],\n                    },\n                ] as any,\n            },\n            block: {\n                type: 'Block',\n                children: [\n                    {\n                        type: 'Declaration',\n                        property: property,\n                        value: { type: 'Raw', value: value },\n                    },\n                ] as any,\n            },\n        };\n\n        if (ast.type === 'StyleSheet') {\n            ast.children.push(newRule);\n        }\n    }\n\n    updateRule(rule: Rule, property: string, value: string) {\n        let found = false;\n        walk(rule.block, {\n            visit: 'Declaration',\n            enter: (decl: Declaration) => {\n                if (decl.property === property) {\n                    decl.value = { type: 'Raw', value: value };\n                    if (value === '') {\n                        rule.block.children = rule.block.children.filter(\n                            (decl: CssNode) => (decl as Declaration).property !== property,\n                        );\n                    }\n                    found = true;\n                }\n            },\n        });\n\n        if (!found) {\n            if (value === '') {\n                rule.block.children = rule.block.children.filter(\n                    (decl: CssNode) => (decl as Declaration).property !== property,\n                );\n            } else {\n                rule.block.children.push({\n                    type: 'Declaration',\n                    property: property,\n                    value: { type: 'Raw', value: value },\n                    important: false,\n                });\n            }\n        }\n    }\n\n    getJsStyle(selector: string): Record<string, string> {\n        const ast = this.stylesheet;\n        const matchingNodes = this.find(ast, selector);\n        const styles: Record<string, string> = {};\n        if (!matchingNodes.length) {\n            return styles;\n        }\n        matchingNodes.forEach((node) => {\n            if (node.type === 'Rule') {\n                walk(node, {\n                    visit: 'Declaration',\n                    enter: (decl: Declaration) => {\n                        styles[this.cssToJsProperty(decl.property)] = (decl.value as Raw).value;\n                    },\n                });\n            }\n        });\n        return styles;\n    }\n\n    jsToCssProperty(key: string) {\n        if (!key) {\n            return '';\n        }\n        return key.replace(/([A-Z])/g, '-$1').toLowerCase();\n    }\n\n    cssToJsProperty(key: string) {\n        if (!key) {\n            return '';\n        }\n        return key.replace(/-([a-z])/g, (g) => g[1]?.toUpperCase() ?? '');\n    }\n\n    public removeStyles(domId: string, jsStyles: string[]) {\n        const selector = getDomIdSelector(domId, false);\n        const ast = this.stylesheet;\n        const matchingNodes = this.find(ast, selector);\n\n        matchingNodes.forEach((node) => {\n            if (node.type === 'Rule') {\n                const cssProperties = jsStyles.map((style) => this.jsToCssProperty(style));\n                node.block.children = node.block.children.filter(\n                    (decl: CssNode) => !cssProperties.includes((decl as Declaration).property),\n                );\n            }\n        });\n\n        this.stylesheet = ast;\n    }\n\n    clear() {\n        this.stylesheet = parse('');\n    }\n}\n\nexport const cssManager = CSSManager.getInstance();\n",
    "import type { Change, DomElement, StyleChange } from \"@onlook/models\";\nimport { getElementByDomId } from \"../elements\";\nimport { cssManager } from \"./css-manager\";\n\nexport function updateStyle(domId: string, change: Change<Record<string, StyleChange>>): DomElement | null {\n    cssManager.updateStyle(domId, change.updated);\n    return getElementByDomId(domId, true);\n}\n",
    "import { StyleChangeType } from '@onlook/models/style';\nimport { cssManager } from '../../style';\n\nexport function insertImage(domId: string, image: string) {\n    cssManager.updateStyle(domId, {\n        backgroundImage: { value: `url(${image})`, type: StyleChangeType.Value },\n    });\n}\n\nexport function removeImage(domId: string) {\n    cssManager.updateStyle(domId, {\n        backgroundImage: { value: 'none', type: StyleChangeType.Value },\n    });\n}\n",
    "import { EditorAttributes, INLINE_ONLY_CONTAINERS } from '@onlook/constants';\nimport type { DomElement, LayerNode } from '@onlook/models';\nimport type { ActionElement, ActionLocation } from '@onlook/models/actions';\nimport { assertNever, getHtmlElement } from '../../../helpers';\nimport { getInstanceId, getOid, getOrAssignDomId } from '../../../helpers/ids';\nimport { buildLayerTree } from '../../dom';\nimport { cssManager } from '../../style';\nimport { getDeepElement, getDomElement } from '../helpers';\n\nfunction findClosestIndex(container: HTMLElement, y: number): number {\n    const children = Array.from(container.children);\n\n    if (children.length === 0) {\n        return 0;\n    }\n\n    let closestIndex = 0;\n\n    let minDistance = Infinity;\n\n    children.forEach((child, index) => {\n        const rect = child.getBoundingClientRect();\n\n        const childMiddle = rect.top + rect.height / 2;\n\n        const distance = Math.abs(y - childMiddle);\n\n        if (distance < minDistance) {\n            minDistance = distance;\n            closestIndex = index;\n        }\n    });\n\n    const closestRect = children[closestIndex]?.getBoundingClientRect();\n\n    if (!closestRect) {\n        return 0;\n    }\n\n    const closestMiddle = closestRect.top + closestRect.height / 2;\n\n    return y > closestMiddle ? closestIndex + 1 : closestIndex;\n}\n\nexport function getInsertLocation(x: number, y: number): ActionLocation | null {\n    const targetEl = findNearestBlockLevelContainer(x, y);\n    if (!targetEl) {\n        return null;\n    }\n    const display = window.getComputedStyle(targetEl).display;\n    const isStackOrGrid = display === 'flex' || display === 'grid';\n    if (isStackOrGrid) {\n        const index = findClosestIndex(targetEl, y);\n        return {\n            type: 'index',\n            targetDomId: getOrAssignDomId(targetEl),\n            targetOid: getInstanceId(targetEl) || getOid(targetEl) || null,\n            index,\n            originalIndex: index,\n        };\n    }\n    return {\n        type: 'append',\n        targetDomId: getOrAssignDomId(targetEl),\n        targetOid: getInstanceId(targetEl) || getOid(targetEl) || null,\n    };\n}\n\nfunction findNearestBlockLevelContainer(x: number, y: number): HTMLElement | null {\n    let targetEl = getDeepElement(x, y) as HTMLElement | null;\n    if (!targetEl) {\n        return null;\n    }\n\n    let inlineOnly = true;\n    while (targetEl && inlineOnly) {\n        inlineOnly = INLINE_ONLY_CONTAINERS.has(targetEl.tagName.toLowerCase());\n        if (inlineOnly) {\n            targetEl = targetEl.parentElement;\n        }\n    }\n    return targetEl;\n}\n\nexport function insertElement(\n    element: ActionElement,\n    location: ActionLocation,\n): { domEl: DomElement, newMap: Map<string, LayerNode> | null } | undefined {\n    const targetEl = getHtmlElement(location.targetDomId);\n    if (!targetEl) {\n        console.warn(`Target element not found: ${location.targetDomId}`);\n        return;\n    }\n    const newEl = createElement(element);\n\n    switch (location.type) {\n        case 'append':\n            targetEl.appendChild(newEl);\n            break;\n        case 'prepend':\n            targetEl.prepend(newEl);\n            break;\n        case 'index':\n            if (location.index === undefined || location.index < 0) {\n                console.warn(`Invalid index: ${location.index}`);\n                return;\n            }\n\n            if (location.index >= targetEl.children.length) {\n                targetEl.appendChild(newEl);\n            } else {\n                targetEl.insertBefore(newEl, targetEl.children.item(location.index));\n            }\n            break;\n        default:\n            console.warn(`Invalid position: ${location}`);\n            assertNever(location);\n    }\n\n    const domEl = getDomElement(newEl, true)\n    const newMap = buildLayerTree(newEl);\n    return {\n        domEl,\n        newMap,\n    };\n}\n\nexport function createElement(element: ActionElement) {\n    const newEl = document.createElement(element.tagName);\n    newEl.setAttribute(EditorAttributes.DATA_ONLOOK_INSERTED, 'true');\n\n    for (const [key, value] of Object.entries(element.attributes)) {\n        newEl.setAttribute(key, value);\n    }\n\n    if (element.textContent !== null && element.textContent !== undefined) {\n        newEl.textContent = element.textContent;\n    }\n\n    for (const [key, value] of Object.entries(element.styles)) {\n        newEl.style.setProperty(cssManager.jsToCssProperty(key), value);\n    }\n\n    for (const child of element.children) {\n        const childEl = createElement(child);\n        newEl.appendChild(childEl);\n    }\n    return newEl;\n}\n\nexport function removeElement(location: ActionLocation): { domEl: DomElement, newMap: Map<string, LayerNode> | null } | null {\n    const targetEl = getHtmlElement(location.targetDomId);\n\n    if (!targetEl) {\n        console.warn(`Target element not found: ${location.targetDomId}`);\n        return null;\n    }\n\n    let elementToRemove: HTMLElement | null = null;\n\n    switch (location.type) {\n        case 'append':\n            elementToRemove = targetEl.lastElementChild as HTMLElement | null;\n            break;\n        case 'prepend':\n            elementToRemove = targetEl.firstElementChild as HTMLElement | null;\n            break;\n        case 'index':\n            if (location.index !== -1) {\n                elementToRemove = targetEl.children.item(location.index) as HTMLElement | null;\n            } else {\n                console.warn(`Invalid index: ${location.index}`);\n                return null;\n            }\n            break;\n        default:\n            console.warn(`Invalid position: ${location}`);\n            assertNever(location);\n    }\n\n    if (elementToRemove) {\n        const domEl = getDomElement(elementToRemove, true);\n        elementToRemove.style.display = 'none';\n        const newMap = targetEl.parentElement ? buildLayerTree(targetEl.parentElement) : null;\n        return {\n            domEl,\n            newMap,\n        };\n    } else {\n        console.warn(`No element found to remove at the specified location`);\n        return null;\n    }\n}\n",
    "import type { RemoveElementAction } from '@onlook/models/actions';\nimport { getHtmlElement } from '../../../helpers';\nimport { getElementLocation } from '../helpers';\nimport { getActionElement } from './helpers';\n\nexport function getRemoveAction(\n    domId: string,\n    frameId: string,\n): RemoveElementAction | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Element not found for domId:', domId);\n        return null;\n    }\n\n    const location = getElementLocation(el);\n    if (!location) {\n        console.warn('Failed to get location for element:', el);\n        return null;\n    }\n\n    const actionEl = getActionElement(domId);\n    if (!actionEl) {\n        console.warn('Failed to get action element for element:', el);\n        return null;\n    }\n\n    return {\n        type: 'remove-element',\n        targets: [\n            {\n                frameId,\n                domId: actionEl.domId,\n                oid: actionEl.oid,\n            },\n        ],\n        location: location,\n        element: actionEl,\n        editText: false,\n        pasteParams: null,\n        codeBlock: null,\n    };\n}\n",
    "import type { DomElement, LayerNode } from '@onlook/models';\nimport { getHtmlElement, isValidHtmlElement } from '../../../helpers';\nimport { buildLayerTree } from '../../dom';\nimport { getDomElement } from '../helpers';\n\nexport function moveElement(domId: string, newIndex: number): { domEl: DomElement, newMap: Map<string, LayerNode> | null } | null {\n    const el = getHtmlElement(domId) as HTMLElement | null;\n    if (!el) {\n        console.warn(`Move element not found: ${domId}`);\n        return null;\n    }\n\n    const movedEl = moveElToIndex(el, newIndex);\n    if (!movedEl) {\n        console.warn(`Failed to move element: ${domId}`);\n        return null;\n    }\n\n    const domEl = getDomElement(movedEl, true);\n    const newMap = movedEl.parentElement ? buildLayerTree(movedEl.parentElement) : null;\n    return {\n        domEl,\n        newMap,\n    };\n}\n\nexport function getElementIndex(domId: string): number {\n    const el = getHtmlElement(domId) as HTMLElement | null;\n    if (!el) {\n        console.warn(`Element not found: ${domId}`);\n        return -1;\n    }\n\n    const htmlElments = Array.from(el.parentElement?.children || []).filter(isValidHtmlElement);\n    const index = htmlElments.indexOf(el);\n    return index;\n}\n\nexport function moveElToIndex(el: HTMLElement, newIndex: number): HTMLElement | undefined {\n    const parent = el.parentElement;\n    if (!parent) {\n        console.warn('Parent not found');\n        return;\n    }\n\n    parent.removeChild(el);\n    if (newIndex >= parent.children.length) {\n        parent.appendChild(el);\n        return el;\n    }\n\n    const referenceNode = parent.children[newIndex];\n    parent.insertBefore(el, referenceNode ?? null);\n    return el;\n}\n",
    "export enum DisplayDirection {\n    VERTICAL = 'vertical',\n    HORIZONTAL = 'horizontal',\n}\n\nexport function getDisplayDirection(element: HTMLElement): DisplayDirection {\n    if (!element || !element.children || element.children.length < 2) {\n        return DisplayDirection.VERTICAL;\n    }\n\n    const children = Array.from(element.children);\n    const firstChild = children[0];\n    const secondChild = children[1];\n\n    const firstRect = firstChild?.getBoundingClientRect();\n    const secondRect = secondChild?.getBoundingClientRect();\n\n    if (firstRect && secondRect && Math.abs(firstRect.left - secondRect.left) < Math.abs(firstRect.top - secondRect.top)) {\n        return DisplayDirection.VERTICAL;\n    } else {\n        return DisplayDirection.HORIZONTAL;\n    }\n}\n\nexport function findInsertionIndex(\n    elements: Element[],\n    x: number,\n    y: number,\n    displayDirection: DisplayDirection,\n): number {\n    if (elements.length === 0) {\n        return 0;\n    }\n\n    const midPoints = elements.map((el) => {\n        const rect = el.getBoundingClientRect();\n        return {\n            x: rect.left + rect.width / 2,\n            y: rect.top + rect.height / 2,\n        };\n    });\n\n    // For horizontal layouts\n    if (displayDirection === DisplayDirection.HORIZONTAL) {\n        for (let i = 0; i < midPoints.length; i++) {\n            const midPoint = midPoints[i];\n            if (midPoint && x < midPoint.x) {\n                return i;\n            }\n        }\n    }\n    // For vertical layouts\n    else {\n        for (let i = 0; i < midPoints.length; i++) {\n            const midPoint = midPoints[i];\n            if (midPoint && y < midPoint.y) {\n                return i;\n            }\n        }\n    }\n\n    return elements.length;\n}\n\nexport function findGridInsertionIndex(\n    parent: HTMLElement,\n    siblings: Element[],\n    x: number,\n    y: number,\n): number {\n    const parentRect = parent.getBoundingClientRect();\n    const gridComputedStyle = window.getComputedStyle(parent);\n    const columns = gridComputedStyle.gridTemplateColumns.split(' ').length;\n    const rows = gridComputedStyle.gridTemplateRows.split(' ').length;\n\n    const cellWidth = parentRect.width / columns;\n    const cellHeight = parentRect.height / rows;\n\n    const gridX = Math.floor((x - parentRect.left) / cellWidth);\n    const gridY = Math.floor((y - parentRect.top) / cellHeight);\n\n    const targetIndex = gridY * columns + gridX;\n    return Math.min(Math.max(targetIndex, 0), siblings.length);\n}\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport {\n    DisplayDirection,\n    findInsertionIndex as findFlexBlockInsertionIndex,\n    findGridInsertionIndex,\n    getDisplayDirection,\n} from './helpers';\n\nexport function createStub(el: HTMLElement) {\n    const stub = document.createElement('div');\n    const styles = window.getComputedStyle(el);\n    const className = el.className;\n\n    stub.id = EditorAttributes.ONLOOK_STUB_ID;\n    stub.style.width = styles.width;\n    stub.style.height = styles.height;\n    stub.style.margin = styles.margin;\n    stub.style.padding = styles.padding;\n    stub.style.borderRadius = styles.borderRadius;\n    stub.style.backgroundColor = 'rgba(0, 0, 0, 0.2)';\n    stub.style.display = 'none';\n    stub.className = className;\n    document.body.appendChild(stub);\n}\n\nexport function moveStub(el: HTMLElement, x: number, y: number) {\n    const stub = document.getElementById(EditorAttributes.ONLOOK_STUB_ID);\n    if (!stub) {\n        return;\n    }\n\n    const parent = el.parentElement;\n    if (!parent) {\n        return;\n    }\n\n    let displayDirection = el.getAttribute(EditorAttributes.DATA_ONLOOK_DRAG_DIRECTION);\n    if (!displayDirection) {\n        displayDirection = getDisplayDirection(parent);\n    }\n\n    const parentStyle = window.getComputedStyle(parent);\n    const isGridLayout = parentStyle.display === 'grid';\n    const isFlexRow = !isGridLayout && parentStyle.display === 'flex' &&\n        (parentStyle.flexDirection === 'row' || parentStyle.flexDirection === '');\n\n    if (isFlexRow) {\n        displayDirection = DisplayDirection.HORIZONTAL;\n    }\n\n    const siblings = Array.from(parent.children).filter((child) => child !== el && child !== stub);\n\n    let insertionIndex;\n    if (isGridLayout) {\n        insertionIndex = findGridInsertionIndex(parent, siblings, x, y);\n    } else {\n        insertionIndex = findFlexBlockInsertionIndex(\n            siblings,\n            x,\n            y,\n            displayDirection as DisplayDirection,\n        );\n    }\n\n    stub.remove();\n\n    if (insertionIndex >= siblings.length) {\n        parent.appendChild(stub);\n    } else {\n        parent.insertBefore(stub, siblings[insertionIndex] ?? null);\n    }\n\n    stub.style.display = 'block';\n}\n\nexport function removeStub() {\n    const stub = document.getElementById(EditorAttributes.ONLOOK_STUB_ID);\n    if (!stub) {\n        return;\n    }\n    stub.remove();\n}\n\nexport function getCurrentStubIndex(parent: HTMLElement, el: HTMLElement): number {\n    const stub = document.getElementById(EditorAttributes.ONLOOK_STUB_ID);\n    if (!stub) {\n        return -1;\n    }\n\n    const siblings = Array.from(parent.children).filter((child) => child !== el);\n    return siblings.indexOf(stub);\n}\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { DomElement, ElementPosition } from '@onlook/models';\nimport { getHtmlElement, isValidHtmlElement } from '../../../helpers';\nimport { getOrAssignDomId } from '../../../helpers/ids';\nimport { getDomElement, restoreElementStyle } from '../helpers';\nimport { getDisplayDirection } from './helpers';\nimport { createStub, getCurrentStubIndex, moveStub, removeStub } from './stub';\n\nexport function startDrag(domId: string): number | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn(`Start drag element not found: ${domId}`);\n        return null;\n    }\n    const parent = el.parentElement;\n    if (!parent) {\n        console.warn('Start drag parent not found');\n        return null;\n    }\n    const htmlChildren = Array.from(parent.children).filter(isValidHtmlElement);\n    const originalIndex = htmlChildren.indexOf(el);    \n    const styles = window.getComputedStyle(el);\n\n    prepareElementForDragging(el);\n    \n    if (styles.position !== 'absolute') {\n        createStub(el);\n    }\n    const pos = getAbsolutePosition(el);\n    const rect = el.getBoundingClientRect();    \n\n    const offset = styles.position === 'absolute' ? {\n        x: pos.left,\n        y: pos.top\n    } : {\n        x: pos.left - rect.left,\n        y: pos.top - rect.top\n    };\n\n    el.setAttribute(\n        EditorAttributes.DATA_ONLOOK_DRAG_START_POSITION,\n        JSON.stringify({ ...pos, offset }),\n    );\n    return originalIndex;\n}\n\nexport function dragAbsolute(domId: string, x: number, y: number, origin: ElementPosition) {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Dragging element not found');\n        return;\n    }\n\n    const parent = el.parentElement;\n    if (parent) {\n        const pos = JSON.parse(\n            el.getAttribute(EditorAttributes.DATA_ONLOOK_DRAG_START_POSITION) || '{}',\n        );\n        \n        const parentRect = parent.getBoundingClientRect();\n        const newLeft = x - parentRect.left - (origin.x - pos.offset.x);\n        const newTop = y - parentRect.top - (origin.y - pos.offset.y);\n        el.style.left = `${newLeft}px`;\n        el.style.top = `${newTop}px`;\n    }\n    el.style.transform = 'none';\n}\n\nexport function drag(domId: string, dx: number, dy: number, x: number, y: number) {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Dragging element not found');\n        return;\n    }\n    if (!el.style.transition) {\n        el.style.transition = 'transform 0.05s cubic-bezier(0.2, 0, 0, 1)';\n    }\n\n    const pos = JSON.parse(\n        el.getAttribute(EditorAttributes.DATA_ONLOOK_DRAG_START_POSITION) || '{}',\n    );\n\n    if (el.style.position !== 'fixed') {\n        const styles = window.getComputedStyle(el);\n        el.style.position = 'fixed';\n        el.style.width = styles.width;\n        el.style.height = styles.height;\n        el.style.left = `${pos.left}px`;\n        el.style.top = `${pos.top}px`;\n    }\n\n    el.style.transform = `translate(${dx}px, ${dy}px)`;\n\n    const parent = el.parentElement;\n    if (parent) {\n        moveStub(el, x, y);\n    }\n}\n\nexport function endDragAbsolute(domId: string): {\n    left: string;\n    top: string;\n} | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('End drag element not found');\n        return null;\n    }\n    const styles = window.getComputedStyle(el);\n    removeDragAttributes(el);\n    getOrAssignDomId(el);\n    return {\n        left: styles.left,\n        top: styles.top,\n    };\n}\n\nexport function endDrag(domId: string): {\n    newIndex: number;\n    child: DomElement;\n    parent: DomElement;\n} | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('End drag element not found');\n        endAllDrag();\n        return null;\n    }\n\n    const parent = el.parentElement;\n    if (!parent) {\n        console.warn('End drag parent not found');\n        cleanUpElementAfterDragging(el);\n        return null;\n    }\n\n    const stubIndex = getCurrentStubIndex(parent, el);\n    cleanUpElementAfterDragging(el);\n    removeStub();\n\n    if (stubIndex === -1) {\n        return null;\n    }\n\n    const elementIndex = Array.from(parent.children).indexOf(el);\n    if (stubIndex === elementIndex) {\n        return null;\n    }\n    return {\n        newIndex: stubIndex,\n        child: getDomElement(el, false),\n        parent: getDomElement(parent, false),\n    };\n}\n\nfunction prepareElementForDragging(el: HTMLElement) {\n    const saved = el.getAttribute(EditorAttributes.DATA_ONLOOK_DRAG_SAVED_STYLE);\n    if (saved) {\n        return;\n    }\n\n    // Save all relevant style properties for later restoration\n    const style = {\n        position: el.style.position,\n        transform: el.style.transform,\n        width: el.style.width,\n        height: el.style.height,\n        left: el.style.left,\n        top: el.style.top,\n    };\n\n    el.setAttribute(EditorAttributes.DATA_ONLOOK_DRAG_SAVED_STYLE, JSON.stringify(style));\n    el.setAttribute(EditorAttributes.DATA_ONLOOK_DRAGGING, 'true');\n\n    // Ensure element appears above others during drag\n    el.style.zIndex = '1000';\n\n    if (el.getAttribute(EditorAttributes.DATA_ONLOOK_DRAG_DIRECTION) !== null) {\n        const parent = el.parentElement;\n        if (parent) {\n            const displayDirection = getDisplayDirection(parent);\n            el.setAttribute(EditorAttributes.DATA_ONLOOK_DRAG_DIRECTION, displayDirection);\n        }\n    }\n}\n\nfunction getDragElement(): HTMLElement | undefined {\n    const el = document.querySelector(\n        `[${EditorAttributes.DATA_ONLOOK_DRAGGING}]`,\n    ) as HTMLElement | null;\n    if (!el) {\n        return;\n    }\n    return el;\n}\n\nfunction cleanUpElementAfterDragging(el: HTMLElement) {\n    restoreElementStyle(el);\n    removeDragAttributes(el);\n    getOrAssignDomId(el);\n}\n\nfunction removeDragAttributes(el: HTMLElement) {\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_DRAG_SAVED_STYLE);\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_DRAGGING);\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_DRAG_DIRECTION);\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_DRAG_START_POSITION);\n}\n\nfunction getAbsolutePosition(element: HTMLElement) {\n    const rect = element.getBoundingClientRect();\n    return {\n        left: rect.left + window.scrollX,\n        top: rect.top + window.scrollY,\n    };\n}\n\nexport function endAllDrag() {\n    const draggingElements = document.querySelectorAll(\n        `[${EditorAttributes.DATA_ONLOOK_DRAGGING}]`,\n    );\n    for (const el of Array.from(draggingElements)) {\n        cleanUpElementAfterDragging(el as HTMLElement);\n    }\n    removeStub();\n}\n",
    "import { EditorAttributes } from '@onlook/constants';\nimport type { DomElement, EditTextResult, LayerNode } from '@onlook/models';\nimport { getHtmlElement } from '../../helpers';\nimport { buildLayerTree } from '../dom';\nimport { getDomElement, restoreElementStyle } from './helpers';\n\nexport function editTextByDomId(domId: string, content: string): DomElement | null {\n    const el: HTMLElement | null = getHtmlElement(domId);\n    if (!el) {\n        return null;\n    }\n    updateTextContent(el, content);\n    return getDomElement(el, true);\n}\n\nexport function startEditingText(domId: string): EditTextResult | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Start editing text failed. No element for selector:', domId);\n        return null;\n    }\n\n    const childNodes = Array.from(el.childNodes).filter(\n        (node) => node.nodeType !== Node.COMMENT_NODE,\n    );\n\n    let targetEl: HTMLElement | null = null;\n    // Check for element type\n    const hasOnlyTextAndBreaks = childNodes.every(node =>\n        node.nodeType === Node.TEXT_NODE ||\n        (node.nodeType === Node.ELEMENT_NODE && (node as Element).tagName.toLowerCase() === 'br')\n    );\n\n    if (childNodes.length === 0) {\n        targetEl = el as HTMLElement;\n    } else if (childNodes.length === 1 && childNodes[0]?.nodeType === Node.TEXT_NODE) {\n        targetEl = el as HTMLElement;\n    } else if (hasOnlyTextAndBreaks) {\n        // Handle elements with text and <br> tags\n        targetEl = el as HTMLElement;\n    }\n\n    if (!targetEl) {\n        console.warn('Start editing text failed. No target element found for selector:', domId);\n        return null;\n    }\n\n    const originalContent = extractTextContent(el);\n    prepareElementForEditing(targetEl);\n\n    return { originalContent };\n}\n\nexport function editText(domId: string, content: string): { domEl: DomElement, newMap: Map<string, LayerNode> | null } | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Edit text failed. No element for selector:', domId);\n        return null;\n    }\n    prepareElementForEditing(el);\n    updateTextContent(el, content);\n    return {\n        domEl: getDomElement(el, true),\n        newMap: buildLayerTree(el),\n    };\n}\n\nexport function stopEditingText(domId: string): { newContent: string; domEl: DomElement } | null {\n    const el = getHtmlElement(domId);\n    if (!el) {\n        console.warn('Stop editing text failed. No element for selector:', domId);\n        return null;\n    }\n    cleanUpElementAfterEditing(el);\n    return { newContent: extractTextContent(el), domEl: getDomElement(el, true) };\n}\n\nfunction prepareElementForEditing(el: HTMLElement) {\n    el.setAttribute(EditorAttributes.DATA_ONLOOK_EDITING_TEXT, 'true');\n}\n\nfunction cleanUpElementAfterEditing(el: HTMLElement) {\n    restoreElementStyle(el);\n    removeEditingAttributes(el);\n}\n\nfunction removeEditingAttributes(el: HTMLElement) {\n    el.removeAttribute(EditorAttributes.DATA_ONLOOK_EDITING_TEXT);\n}\n\nfunction updateTextContent(el: HTMLElement, content: string): void {\n    // Convert newlines to <br> tags in the DOM\n    const htmlContent = content.replace(/\\n/g, '<br>');\n    el.innerHTML = htmlContent;\n}\n\nfunction extractTextContent(el: HTMLElement): string {\n    let content = el.innerHTML;\n    content = content.replace(/<br\\s*\\/?>/gi, '\\n');\n    content = content.replace(/<[^>]*>/g, '');\n    const textArea = document.createElement('textarea');\n    textArea.innerHTML = content;\n    return textArea.value;\n}\n\nexport function isChildTextEditable(oid: string): boolean | null {\n    return true;\n}",
    "import { EditorAttributes } from '@onlook/constants';\nimport { penpalParent } from '../..';\nimport { buildLayerTree } from '../dom';\n\nexport function listenForDomMutation() {\n    const targetNode = document.body;\n    const config = { childList: true, subtree: true };\n\n    const observer = new MutationObserver((mutationsList) => {\n        let added = new Map();\n        let removed = new Map();\n\n        for (const mutation of mutationsList) {\n            if (mutation.type === 'childList') {\n                const parent = mutation.target as HTMLElement;\n                // Handle added nodes\n                mutation.addedNodes.forEach((node) => {\n                    const el = node as HTMLElement;\n                    if (\n                        node.nodeType === Node.ELEMENT_NODE &&\n                        el.hasAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID) &&\n                        !shouldIgnoreMutatedNode(el)\n                    ) {\n                        dedupNewElement(el);\n                        if (parent) {\n                            const layerMap = buildLayerTree(parent);\n                            if (layerMap) {\n                                added = new Map([...added, ...layerMap]);\n                            }\n                        }\n                    }\n                });\n\n                // Handle removed nodes\n                mutation.removedNodes.forEach((node) => {\n                    const el = node as HTMLElement;\n                    if (\n                        node.nodeType === Node.ELEMENT_NODE &&\n                        el.hasAttribute(EditorAttributes.DATA_ONLOOK_DOM_ID) &&\n                        !shouldIgnoreMutatedNode(el)\n                    ) {\n                        if (parent) {\n                            const layerMap = buildLayerTree(parent);\n                            if (layerMap) {\n                                removed = new Map([...removed, ...layerMap]);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n\n        if (added.size > 0 || removed.size > 0) {\n            if (penpalParent) {\n                penpalParent.onWindowMutated({\n                    added: Object.fromEntries(added),\n                    removed: Object.fromEntries(removed)\n                }).catch((error: Error) => {\n                    console.error('Failed to send window mutation event:', error);\n                });\n            }\n        }\n    });\n\n    observer.observe(targetNode, config);\n}\n\nexport function listenForResize() {\n    function notifyResize() {\n        if (penpalParent) {\n            penpalParent.onWindowResized().catch((error: Error) => {\n                console.error('Failed to send window resize event:', error);\n            });\n        }\n    }\n\n    window.addEventListener('resize', notifyResize);\n}\n\nfunction shouldIgnoreMutatedNode(node: HTMLElement): boolean {\n    if (node.id === EditorAttributes.ONLOOK_STUB_ID) {\n        return true;\n    }\n\n    if (node.getAttribute(EditorAttributes.DATA_ONLOOK_INSERTED)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction dedupNewElement(newEl: HTMLElement) {\n    // If the element has an oid and there's an inserted element with the same oid,\n    // replace the existing element with the new one and restore the attributes\n    const oid = newEl.getAttribute(EditorAttributes.DATA_ONLOOK_ID);\n    if (!oid) {\n        return;\n    }\n    document\n        .querySelectorAll(\n            `[${EditorAttributes.DATA_ONLOOK_ID}=\"${oid}\"][${EditorAttributes.DATA_ONLOOK_INSERTED}]`,\n        )\n        .forEach((targetEl) => {\n            const ATTRIBUTES_TO_REPLACE = [\n                EditorAttributes.DATA_ONLOOK_DOM_ID,\n                EditorAttributes.DATA_ONLOOK_DRAG_SAVED_STYLE,\n                EditorAttributes.DATA_ONLOOK_EDITING_TEXT,\n                EditorAttributes.DATA_ONLOOK_INSTANCE_ID,\n            ];\n\n            ATTRIBUTES_TO_REPLACE.forEach((attr) => {\n                const targetAttr = targetEl.getAttribute(attr);\n                if (targetAttr) {\n                    newEl.setAttribute(attr, targetAttr);\n                }\n            });\n            targetEl.remove();\n        });\n}",
    "import { listenForDomMutation, listenForResize } from './dom';\n\nexport function listenForDomChanges() {\n    listenForDomMutation();\n    listenForResize();\n}\n",
    "import { processDom } from './dom.ts';\nimport { listenForDomChanges } from './events/index.ts';\nimport { cssManager } from './style/css-manager.ts';\n\nexport function handleBodyReady() {\n    listenForDomChanges();    \n    keepDomUpdated();\n    cssManager.injectDefaultStyles();\n}\n\nlet domUpdateInterval: ReturnType<typeof setInterval> | null = null;\n\nfunction keepDomUpdated() {\n    if (domUpdateInterval !== null) {\n        clearInterval(domUpdateInterval);\n        domUpdateInterval = null;\n    }\n\n    const interval = setInterval(() => {\n        try {\n            if (processDom() !== null) {\n                clearInterval(interval);\n                domUpdateInterval = null;\n            }\n        } catch (err) {\n            clearInterval(interval);\n            domUpdateInterval = null;\n            console.warn('Error in keepDomUpdated:', err);\n        }\n    }, 5000);\n\n    domUpdateInterval = interval;\n}\n\nconst handleDocumentBody = setInterval(() => {\n    window.onerror = function logError(errorMsg, url, lineNumber) {\n        console.log(`Unhandled error: ${errorMsg} ${url} ${lineNumber}`);\n    };\n\n    if (window?.document?.body) {\n        clearInterval(handleDocumentBody);\n        try {\n            handleBodyReady();\n        } catch (err) {\n            console.log('Error in documentBodyInit:', err);\n        }\n    }\n}, 300);\n",
    "export async function captureScreenshot(): Promise<{\n    mimeType: string;\n    data: string;\n}> {\n    try {\n        // Use viewport dimensions to reduce size\n        const viewportWidth = window.innerWidth;\n        const viewportHeight = window.innerHeight;\n\n        // Create a canvas with viewport dimensions\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        if (!context) {\n            throw new Error('Failed to get canvas context');\n        }\n\n        // Set canvas dimensions to viewport size\n        canvas.width = viewportWidth;\n        canvas.height = viewportHeight;\n\n        // Try modern getDisplayMedia API first (if available in this context)\n        if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n            try {\n                const stream = await navigator.mediaDevices.getDisplayMedia({\n                    video: {\n                        width: viewportWidth,\n                        height: viewportHeight\n                    } as MediaTrackConstraints\n                });\n\n                const video = document.createElement('video');\n                video.srcObject = stream;\n                video.autoplay = true;\n                video.muted = true;\n\n                await new Promise<void>((resolve) => {\n                    video.onloadedmetadata = () => {\n                        video.play();\n                        video.oncanplay = () => {\n                            context.drawImage(video, 0, 0, viewportWidth, viewportHeight);\n                            stream.getTracks().forEach(track => track.stop());\n                            resolve();\n                        };\n                    };\n                });\n\n                // Convert canvas to base64 string with compression\n                const base64 = await compressImage(canvas);\n                console.log(`Screenshot captured - Size: ~${Math.round((base64.length * 0.75) / 1024)} KB`);\n                return {\n                    mimeType: 'image/jpeg',\n                    data: base64,\n                };\n            } catch (displayError) {\n                console.log('getDisplayMedia failed, falling back to DOM rendering:', displayError);\n            }\n        }\n\n        // Fallback: DOM-to-canvas rendering\n        await renderDomToCanvas(context, viewportWidth, viewportHeight);\n\n        // Convert canvas to base64 string with compression\n        const base64 = await compressImage(canvas);\n        console.log(`DOM screenshot captured - Size: ~${Math.round((base64.length * 0.75) / 1024)} KB`);\n        return {\n            mimeType: 'image/jpeg',\n            data: base64,\n        };\n    } catch (error) {\n        console.error('Failed to capture screenshot:', error);\n\n        // Ultimate fallback: create a minimal screenshot\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        if (context) {\n            canvas.width = 400;\n            canvas.height = 300;\n\n            // White background\n            context.fillStyle = '#ffffff';\n            context.fillRect(0, 0, 400, 300);\n\n            // Error message\n            context.fillStyle = '#ff0000';\n            context.font = '14px Arial, sans-serif';\n            context.textAlign = 'center';\n            context.fillText('Screenshot unavailable', 200, 150);\n\n            return {\n                mimeType: 'image/jpeg',\n                data: canvas.toDataURL('image/jpeg', 0.8),\n            };\n        }\n\n        throw error;\n    }\n}\n\nasync function compressImage(canvas: HTMLCanvasElement): Promise<string> {\n    const MAX_FILE_SIZE = 5 * 1024 * 1024; // 5MB in bytes (base64 is ~1.33x larger)\n    const MAX_BASE64_SIZE = MAX_FILE_SIZE * 0.75; // Approximate base64 size limit\n\n    // Try different quality levels and scaling factors\n    const qualityLevels = [0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3];\n    const scalingFactors = [1, 0.8, 0.6, 0.5, 0.4, 0.3];\n\n    for (const scale of scalingFactors) {\n        let scaledCanvas = canvas;\n\n        // Create scaled canvas if needed\n        if (scale < 1) {\n            scaledCanvas = document.createElement('canvas');\n            const scaledContext = scaledCanvas.getContext('2d');\n            if (!scaledContext) continue;\n\n            scaledCanvas.width = canvas.width * scale;\n            scaledCanvas.height = canvas.height * scale;\n            scaledContext.drawImage(canvas, 0, 0, scaledCanvas.width, scaledCanvas.height);\n        }\n\n        // Try different quality levels for this scale\n        for (const quality of qualityLevels) {\n            const base64 = scaledCanvas.toDataURL('image/jpeg', quality);\n\n            // Check if the size is acceptable\n            if (base64.length <= MAX_BASE64_SIZE) {\n                return base64;\n            }\n        }\n    }\n\n    // Fallback: very low quality and small size\n    const fallbackCanvas = document.createElement('canvas');\n    const fallbackContext = fallbackCanvas.getContext('2d');\n    if (fallbackContext) {\n        fallbackCanvas.width = canvas.width * 0.2;\n        fallbackCanvas.height = canvas.height * 0.2;\n        fallbackContext.drawImage(canvas, 0, 0, fallbackCanvas.width, fallbackCanvas.height);\n        return fallbackCanvas.toDataURL('image/jpeg', 0.2);\n    }\n\n    // Ultimate fallback\n    return canvas.toDataURL('image/jpeg', 0.1);\n}\n\nasync function renderDomToCanvas(context: CanvasRenderingContext2D, width: number, height: number) {\n    // Set white background\n    context.fillStyle = '#ffffff';\n    context.fillRect(0, 0, width, height);\n\n    // Get all visible elements in the viewport\n    const elements = document.querySelectorAll('*');\n    const visibleElements: { element: HTMLElement; rect: DOMRect; styles: CSSStyleDeclaration }[] = [];\n\n    // Filter and collect visible elements with their computed styles\n    for (const element of elements) {\n        if (element instanceof HTMLElement) {\n            const rect = element.getBoundingClientRect();\n            const styles = window.getComputedStyle(element);\n\n            // Check if element is visible and within viewport\n            if (\n                rect.width > 0 &&\n                rect.height > 0 &&\n                rect.left < width &&\n                rect.top < height &&\n                rect.right > 0 &&\n                rect.bottom > 0 &&\n                styles.visibility !== 'hidden' &&\n                styles.display !== 'none' &&\n                parseFloat(styles.opacity) > 0\n            ) {\n                visibleElements.push({ element, rect, styles });\n            }\n        }\n    }\n\n    // Sort elements by z-index and document order\n    visibleElements.sort((a, b) => {\n        const aZIndex = parseInt(a.styles.zIndex) || 0;\n        const bZIndex = parseInt(b.styles.zIndex) || 0;\n        return aZIndex - bZIndex;\n    });\n\n    // Render each visible element\n    for (const { element, rect, styles } of visibleElements) {\n        try {\n            await renderElement(context, element, rect, styles);\n        } catch (error) {\n            console.warn('Failed to render element:', element, error);\n        }\n    }\n}\n\nasync function renderElement(\n    context: CanvasRenderingContext2D,\n    element: HTMLElement,\n    rect: DOMRect,\n    styles: CSSStyleDeclaration\n) {\n    const { left, top, width, height } = rect;\n\n    // Skip if element is too small or outside bounds\n    if (width < 1 || height < 1 || left > window.innerWidth || top > window.innerHeight) {\n        return;\n    }\n\n    // Render background\n    const backgroundColor = styles.backgroundColor;\n    if (backgroundColor && backgroundColor !== 'rgba(0, 0, 0, 0)' && backgroundColor !== 'transparent') {\n        context.fillStyle = backgroundColor;\n        context.fillRect(left, top, width, height);\n    }\n\n    // Render border\n    const borderWidth = parseFloat(styles.borderWidth) || 0;\n    const borderColor = styles.borderColor;\n    if (borderWidth > 0 && borderColor && borderColor !== 'transparent') {\n        context.strokeStyle = borderColor;\n        context.lineWidth = borderWidth;\n        context.strokeRect(left, top, width, height);\n    }\n\n    // Render text content\n    if (element.textContent && element.children.length === 0) {\n        const text = element.textContent.trim();\n        if (text) {\n            const fontSize = parseFloat(styles.fontSize) || 16;\n            const fontFamily = styles.fontFamily || 'Arial, sans-serif';\n            const color = styles.color || '#000000';\n\n            context.fillStyle = color;\n            context.font = `${fontSize}px ${fontFamily}`;\n            context.textAlign = 'left';\n            context.textBaseline = 'top';\n\n            // Simple text wrapping\n            const words = text.split(' ');\n            let line = '';\n            let y = top + 2;\n            const lineHeight = fontSize * 1.2;\n\n            for (const word of words) {\n                const testLine = line + word + ' ';\n                const metrics = context.measureText(testLine);\n                if (metrics.width > width - 4 && line !== '') {\n                    context.fillText(line, left + 2, y);\n                    line = word + ' ';\n                    y += lineHeight;\n                    if (y > top + height) break;\n                } else {\n                    line = testLine;\n                }\n            }\n            if (line && y <= top + height) {\n                context.fillText(line, left + 2, y);\n            }\n        }\n    }\n\n    // Render images\n    if (element instanceof HTMLImageElement && element.complete && element.naturalWidth > 0) {\n        try {\n            context.drawImage(element, left, top, width, height);\n        } catch (error) {\n            // Image may have CORS issues, render a placeholder instead\n            context.fillStyle = '#f0f0f0';\n            context.fillRect(left, top, width, height);\n            context.fillStyle = '#999999';\n            context.font = '12px Arial, sans-serif';\n            context.textAlign = 'center';\n            context.fillText('Image', left + width / 2, top + height / 2);\n        }\n    }\n}",
    "export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n",
    "import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n",
    "import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n",
    "import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n",
    "import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n",
    "export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n",
    "import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n",
    "import { z } from 'zod';\n\nconst BaseActionLocationSchema = z.object({\n    type: z.enum(['prepend', 'append']),\n    targetDomId: z.string(),\n    targetOid: z.string().nullable(),\n});\n\nexport const IndexActionLocationSchema = BaseActionLocationSchema.extend({\n    type: z.literal('index'),\n    index: z.number(),\n    originalIndex: z.number(),\n});\n\nexport const ActionLocationSchema = z.discriminatedUnion('type', [\n    IndexActionLocationSchema,\n    BaseActionLocationSchema,\n]);\n\nexport type ActionLocation = z.infer<typeof ActionLocationSchema>;\nexport type IndexActionLocation = z.infer<typeof IndexActionLocationSchema>;\n",
    "import { z } from 'zod';\n\nexport interface ProjectSuggestions {\n    id: string;\n    projectId: string;\n    suggestions: ChatSuggestion[];\n}\n\nexport interface ChatSuggestion {\n    title: string;\n    prompt: string;\n}\n\nexport const ChatSuggestionSchema = z.object({\n    title: z\n        .string()\n        .describe(\n            'The display title of the suggestion. This will be shown to the user. Keep it concise but descriptive.',\n        ),\n    prompt: z\n        .string()\n        .describe(\n            'The prompt for the suggestion. This will be used to generate the suggestion. Make this as detailed and specific as possible.',\n        ),\n});\n",
    "import { z } from 'zod';\n\nexport const ChatSummarySchema = z.object({\n    filesDiscussed: z\n        .array(z.string())\n        .describe('List of file paths mentioned in the conversation'),\n    projectContext: z\n        .string()\n        .describe('Summary of what the user is building and their overall goals'),\n    implementationDetails: z\n        .string()\n        .describe('Summary of key code decisions, patterns, and important implementation details'),\n    userPreferences: z\n        .string()\n        .describe('Specific preferences the user has expressed about implementation, design, etc.'),\n    currentStatus: z.string().describe('Current state of the project and any pending work'),\n});\n",
    "export enum LLMProvider {\n    ANTHROPIC = 'anthropic',\n    BEDROCK = 'bedrock',\n    GOOGLE_VERTEX = 'google-vertex',\n    OPENAI = 'openai',\n    GOOGLE_AI_STUDIO = 'google-ai-studio',\n}\n\nexport enum CLAUDE_MODELS {\n    SONNET_4 = 'claude-sonnet-4-20250514',\n    SONNET_3_7 = 'claude-3-7-sonnet-20250219',\n    HAIKU = 'claude-3-5-haiku-20241022',\n}\n\nexport const BEDROCK_MODEL_MAP = {\n    [CLAUDE_MODELS.SONNET_4]: 'us.anthropic.claude-sonnet-4-20250514-v1:0',\n    [CLAUDE_MODELS.SONNET_3_7]: 'us.anthropic.claude-3-7-sonnet-20250219-v1:0',\n    [CLAUDE_MODELS.HAIKU]: 'us.anthropic.claude-3-5-haiku-20241022-v1:0',\n};\n\nexport const VERTEX_MODEL_MAP = {\n    [CLAUDE_MODELS.SONNET_4]: 'claude-sonnet-4@20250514',\n    [CLAUDE_MODELS.SONNET_3_7]: 'claude-3-7-sonnet@20250219',\n    [CLAUDE_MODELS.HAIKU]: 'claude-3-5-haiku@20241022',\n};\n\nexport enum OPENAI_MODELS {\n    GPT_4_1 = 'gpt-4.1',\n    GPT_4_1_MINI = 'gpt-4.1-mini',\n    GPT_4O = 'gpt-4o',\n}\n\nexport enum GEMINI_MODELS {\n    GEMINI_2_5_PRO = 'gemini-2.5-pro',\n    GEMINI_2_5_PRO_PREVIEW_TTS = 'gemini-2.5-pro-preview-tts',\n    GEMINI_2_5_FLASH = 'gemini-2.5-flash',\n}\n\ninterface ModelMapping {\n    [LLMProvider.ANTHROPIC]: CLAUDE_MODELS;\n    [LLMProvider.BEDROCK]: CLAUDE_MODELS;\n    [LLMProvider.GOOGLE_VERTEX]: CLAUDE_MODELS;\n    [LLMProvider.OPENAI]: OPENAI_MODELS;\n    [LLMProvider.GOOGLE_AI_STUDIO]: GEMINI_MODELS;\n}\n\nexport type InitialModelPayload = {\n    [K in keyof ModelMapping]: {\n        provider: K;\n        model: ModelMapping[K];\n    };\n}[keyof ModelMapping];\n",
    "import { SystemTheme } from '@onlook/models';\n\nexport function getTheme(): SystemTheme {\n    try {\n        return (window?.localStorage.getItem('theme') as SystemTheme) || SystemTheme.LIGHT;\n    } catch (error) {\n        console.warn('Failed to get theme', error);\n        return SystemTheme.LIGHT;\n    }\n}\n\nexport function setTheme(theme: SystemTheme) {\n    try {\n        if (theme === SystemTheme.DARK) {\n            document.documentElement.classList.add('dark');\n            window?.localStorage.setItem('theme', SystemTheme.DARK);\n        } else {\n            document.documentElement.classList.remove('dark');\n            window?.localStorage.setItem('theme', SystemTheme.LIGHT);\n        }\n        return true;\n    } catch (error) {\n        console.warn('Failed to set theme', error);\n        return false;\n    }\n}\n",
    "import { buildLayerTree, processDom, type ProcessDomResult } from './dom';\nimport {\n    getChildrenCount,\n    getElementAtLoc,\n    getElementByDomId,\n    getOffsetParent,\n    getParentElement,\n    updateElementInstance\n} from './elements';\nimport { groupElements, ungroupElements } from './elements/dom/group';\nimport {\n    getActionElement,\n    getActionLocation,\n    getElementType,\n    getFirstOnlookElement,\n    setElementType,\n} from './elements/dom/helpers';\nimport { insertImage, removeImage } from './elements/dom/image';\nimport { getInsertLocation, insertElement, removeElement } from './elements/dom/insert';\nimport { getRemoveAction } from './elements/dom/remove';\nimport { getElementIndex, moveElement } from './elements/move';\nimport { drag, dragAbsolute, endAllDrag, endDrag, endDragAbsolute, startDrag } from './elements/move/drag';\nimport { getComputedStyleByDomId } from './elements/style';\nimport { editText, isChildTextEditable, startEditingText, stopEditingText } from './elements/text';\nimport { handleBodyReady } from './ready';\nimport { captureScreenshot } from './screenshot';\nimport { setFrameId } from './state';\nimport { updateStyle } from './style';\nimport { getTheme, setTheme } from './theme';\n\nfunction withTryCatch<T extends (...args: any[]) => any>(fn: T): T {\n    return ((...args: any[]) => {\n        try {\n            return fn(...args);\n        } catch (error) {\n            console.error(`Error in ${fn.name}:`, error);\n            return null;\n        }\n    }) as T;\n}\n\nconst rawMethods = {\n    // Misc\n    processDom,\n    setFrameId,\n    getComputedStyleByDomId,\n    updateElementInstance,\n    getFirstOnlookElement,\n    captureScreenshot,\n    buildLayerTree,\n\n    // Elements\n    getElementAtLoc,\n    getElementByDomId,\n    getElementIndex,\n    setElementType,\n    getElementType,\n    getParentElement,\n    getChildrenCount,\n    getOffsetParent,\n\n    // Actions\n    getActionLocation,\n    getActionElement,\n    getInsertLocation,\n    getRemoveAction,\n\n    // Theme\n    getTheme,\n    setTheme,\n\n    // Drag\n    startDrag,\n    drag,\n    dragAbsolute,\n    endDrag,\n    endDragAbsolute,\n    endAllDrag,\n\n    // Edit text\n    startEditingText,\n    editText,\n    stopEditingText,\n    isChildTextEditable,\n\n    // Edit elements\n    updateStyle,\n    insertElement,\n    removeElement,\n    moveElement,\n    groupElements,\n    ungroupElements,\n    insertImage,\n    removeImage,\n    handleBodyReady,\n}\n\n// Wrap all methods in a try/catch to prevent the preload script from crashing\nexport const preloadMethods = Object.fromEntries(\n    Object.entries(rawMethods).map(([key, fn]) => [key, withTryCatch(fn)])\n) as typeof rawMethods;\n\nexport type PenpalChildMethods = typeof preloadMethods;\nexport type { ProcessDomResult };\n"
  ],
  "mappings": "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,IAAe,QAAU,GAAa,GAAI,CAAC,EAAG,CAAM,CAAC,ECtDrD,IAAe,IACX,QAAW,GACX,gBAAmB,CACf,UACA,UACA,QACA,SACA,cACJ,EACA,MAAS,CACL,MAAS,CACL,MACA,OACA,MACA,MACJ,EACA,QAAW,CACP,IACJ,EACA,KAAQ,CACJ,IACJ,EACA,UAAa,CACT,KACA,KACJ,EACA,OAAU,CACN,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,OACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,OACA,QACA,QACA,QACA,OACA,QACA,QACA,QACA,MACA,MACA,MACA,MACA,QACA,OACJ,EACA,WAAc,CACV,MACA,OACA,OACA,GACJ,EACA,UAAa,CACT,IACJ,EACA,KAAQ,CACJ,IACA,IACJ,CACJ,EACA,MAAS,CACL,QAAS,oBACT,gBAAiB,iEACjB,SAAU,qBACV,cAAe,wBACf,mBAAoB,uBACpB,qBAAsB,qBACtB,qBAAsB,+BACtB,0BAA2B,2EAC3B,sBAAuB,0CACvB,SAAU,qBACV,SAAU,qBACV,UAAW,mCACX,WAAc,qBACd,SAAU,2DACV,eAAgB,6BAChB,gBAAiB,MACjB,qBAAsB,qGACtB,cAAe,+EACf,kBAAmB,0IACnB,KAAQ,mBACR,oBAAqB,yBACrB,cAAe,0EACf,WAAY,eACZ,WAAY,uFACZ,cAAe,8NACf,UAAW,gDACX,SAAU,mBACV,aAAc,kJACd,IAAO,qCACP,eAAgB,oCAChB,SAAU,qBACV,WAAY,6CACZ,eAAgB,gDAChB,aAAc,mEACd,gBAAiB,8BACjB,iBAAkB,kBAClB,kBAAmB,yBACnB,WAAY,+CACZ,UAAW,0BACX,iBAAkB,oBAClB,cAAe,QACf,MAAS,gGACT,aAAc,yCACd,mBAAoB,0BACpB,oBAAqB,2BACrB,kBAAmB,wEACnB,6BAA8B,sGAC9B,WAAc,wBACd,oBAAqB,yCACrB,cAAe,6HACf,kBAAmB,+HACnB,u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",
  "debugId": "B72FEC03D0FE117364756E2164756E21",
  "names": []
}